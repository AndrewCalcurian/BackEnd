{"version":3,"sources":["webpack:///src/app/ordenes/despachos/despachos.component.ts","webpack:///src/app/ordenes/despachos/despachos.component.html","webpack:///src/app/producto-ymaquinaria/productos/productos.component.ts","webpack:///src/app/producto-ymaquinaria/productos/productos.component.html","webpack:///src/app/producto-ymaquinaria/maquinaria/maquinaria.component.ts","webpack:///src/app/producto-ymaquinaria/maquinaria/maquinaria.component.html","webpack:///src/app/almacen/almacen-routing.module.ts","webpack:///src/app/models/usuario.model.ts","webpack:///src/app/ordenes/gestion/solcitud/solcitud.component.ts","webpack:///src/app/ordenes/gestion/solcitud/solcitud.component.html","webpack:///src/app/producto-ymaquinaria/producto-ymaquinaria.module.ts","webpack:///src/app/producto-ymaquinaria/producto-ymaquinaria-routing.module.ts","webpack:///src/app/estadisticas/estadisticas.component.ts","webpack:///src/app/estadisticas/estadisticas.component.html","webpack:///src/environments/environment.ts","webpack:///src/app/ordenes/gestion/despacho/despacho.component.ts","webpack:///src/app/ordenes/gestion/despacho/despacho.component.html","webpack:///src/app/producto-ymaquinaria/producto-ymaquinaria.component.ts","webpack:///src/app/producto-ymaquinaria/producto-ymaquinaria.component.html","webpack:///src/app/shared/navbar/navbar.component.ts","webpack:///src/app/shared/navbar/navbar.component.html","webpack:///src/app/almacen/almacen.module.ts","webpack:///src/app/estadisticas/adicionales/adicionales.component.ts","webpack:///src/app/estadisticas/adicionales/adicionales.component.html","webpack:///src/app/services/subir-archivos.service.ts","webpack:///src/app/Auth/auth-guard.guard.ts","webpack:///src/app/ordenes/ordenes-routing.module.ts","webpack:///src/app/ordenes/gestion/gestion.component.ts","webpack:///src/app/ordenes/gestion/gestion.component.html","webpack:///src/app/estadisticas/gestiones/gestiones.component.ts","webpack:///src/app/estadisticas/gestiones/gestiones.component.html","webpack:///src/app/ordenes/main/main.component.ts","webpack:///src/app/ordenes/main/main.component.html","webpack:///src/app/ordenes/gestion/devolucion/devolucion.component.ts","webpack:///src/app/ordenes/gestion/devolucion/devolucion.component.html","webpack:///src/app/shared/shared.module.ts","webpack:///src/app/ordenes/ordenes.component.ts","webpack:///src/app/ordenes/ordenes.component.html","webpack:///src/app/nuevo-pedido/nuevo-pedido.module.ts","webpack:///src/app/almacen/almacen.component.ts","webpack:///src/app/almacen/almacen.component.html","webpack:///src/app/orden/orden.component.html","webpack:///src/app/orden/orden.component.ts","webpack:///node_modules/moment/locale sync ^\\.\\/.*$","webpack:///src/app/nuevo-pedido/main/main.component.ts","webpack:///src/app/nuevo-pedido/main/main.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/planificacion/planificacion.component.ts","webpack:///src/app/planificacion/planificacion.component.html","webpack:///src/app/nuevo-pedido/nuevo-pedido.component.ts","webpack:///src/app/nuevo-pedido/nuevo-pedido.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/pipe/unicos.pipe.ts","webpack:///src/app/index/index.component.ts","webpack:///src/app/index/index.component.html","webpack:///src/app/nuevo-pedido/nuevo-pedido-routing.module.ts","webpack:///src/app/estadisticas/estadisticas-routing.module.ts","webpack:///src/app/estadisticas/main/main.component.ts","webpack:///src/app/estadisticas/main/main.component.html","webpack:///src/app/estadisticas/consumo/consumo.component.ts","webpack:///src/app/estadisticas/consumo/consumo.component.html","webpack:///src/app/ordenes/ordenes.module.ts","webpack:///src/app/estadisticas/estadisticas.module.ts","webpack:///src/app/almacen/main/confirmacion/confirmacion.component.ts","webpack:///src/app/almacen/main/confirmacion/confirmacion.component.html","webpack:///src/app/almacen/main/main.component.html","webpack:///src/app/almacen/main/main.component.ts","webpack:///src/app/services/rest-api.service.ts","webpack:///src/app/index/index-routing.module.ts","webpack:///src/app/ordenes/detalles/detalles.component.ts","webpack:///src/app/ordenes/detalles/detalles.component.html","webpack:///src/app/producto-ymaquinaria/main/main.component.ts","webpack:///src/app/producto-ymaquinaria/main/main.component.html","webpack:///src/app/index/main/main.component.ts","webpack:///src/app/index/main/main.component.html","webpack:///src/app/index/index.module.ts","webpack:///src/app/almacen/main/asignacion/asignacion.component.ts","webpack:///src/app/almacen/main/asignacion/asignacion.component.html","webpack:///src/app/app-routing.module.ts","webpack:///src/app/login/login.component.ts","webpack:///src/app/login/login.component.html","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["DespachosComponent","api","onCloseModal","Ordenes_seleccionadas","dated","hoy","format","despacho","emit","orden","select","ORDENES","find","x","sort","existe","op","push","producto","cantidad","cantidad_o","oc","destino","almacen","index","findIndex","splice","e","i","date","fire","title","showDenyButton","showCancelButton","confirmButtonText","denyButtonText","icon","then","result","isConfirmed","fecha_m","PostDespacho","fecha","subscribe","resp","onClose","isDenied","text","showConfirmButton","Orden_Selected","selector","templateUrl","styleUrls","ProductosComponent","subirArchivo","fb","baseUrl","NUEVO_CLIENTE","MATERIALES_NECESARIOS","NUEVO_PRODUCTO","EJEMPLARES","POST","SUSTRATO","Sus_Done","dimensiones","_producto_seleccionado","montajes","i_montajes","i_montajes_","necesidad","listo","cinco","seis","siete","ocho","almacenes","new_almacen","cargando","VER_PRODUCTO","OneProduct","cliente","nombre","codigo","grupo","_id","version","ejemplares","fibra","post","sustrato","marca","calibre","gramaje","materiales","ClienteForm","group","required","EDITAR_PRODUCTO","usuario","obtenerGrupodeMateriales","BuscarGruposEnAlmacen","obtenerClientes","obtenerMateriales","obtenerGrupos","cliente_id","document","getElementById","value","n","event","ImgSubir","target","files","getElementsByClassName","innerHTML","name","actualizarFoto","img","verProducto","product_selected","hidden","clase","toString","disabled","MATERIALES","reduce","map","obj","set","Map","values","Included","includes","indexOf","TROQUEL","Math","abs","buscar","input","campo","focus","buscarSiExiste","c","material","nuevo","id","data","GetGrupoMp","GRUPOS_MATERIA","GetClientes","CLIENTES","clientes","get","setValue","invalid","timer","PostClientes","reset","getAlmacen","getGrupos","GRUPOS","grupos","valor","inde","SECCIONES","cod_cliente","edicion","postProducto","Modal_Producto","buscar_producto","ancho","tamano","length","largo","DirFibra","pop","getById","PRODUCTOS","productos","Material","size","updateProducto","editar","getOneById","Modal_Producto_E","material2","deleted","ImageProducto","ver_Modal_Producto","Modal_Cliente","addCliente","add_almacen","post_impresion","Ejemplar","finalizar","CambiarImagen","subirImagen","cambiarCalculo","editar_producto","MaquinariaComponent","NUEVA_MAQUINA","NUEVO_GRUPO","MAQUINAS","FUNCIONES","FASES","EDITAR_MAQUINA","maquinaForm","tipo","colores","cph","ObtenerMaquinas","Edicion_Modal_Maquina","getMaquinaID","MaquinaID","toUpperCase","putMaquina","position","PostMaquinas","GetMaquinas","maquinas","obtenerTipos","confirmButtonColor","cancelButtonColor","cancelButtonText","BorrarMaquina","EliminarGrupo","deleteGrupo","DeleteMaquinas","este","nuevoTipo","tipos","PostGrupos","Modal_Maquina","nuevaMaquina","Modal_Grupo","agregarTipo","routes","path","component","children","AlmacenRoutingModule","forChild","declarations","imports","Usuario","estado","Nombre","Apellido","Correo","Departamento","Role","Nueva_orden","Consulta","Almacen","Maquinaria","Planificacion","Gestiones","Despacho","SolcitudComponent","Otro","por_confirmar","_materiales","almacenado","mat","getAlmacenado","filter","bs_","a","b","toLowerCase","getGRupos","Orden_seleccionada","orden_selected","montaje","undefined","solicitud","requisicion","motivo","postReq","iteration","_i","num","Number","TraerMateriales","ProductoYMaquinariaModule","ProductoYMaquinariaRoutingModule","EstadisticasComponent","environment","production","DespachoComponent","ProductoYMaquinariaComponent","NavbarComponent","usuarioService","cambio_cont","pass1","pass2","logout","correo","pass","cambiarContrasena","cambiar","AlmacenModule","AdicionalesComponent","SubirArchivosService","api_url","archivo","url","formData","FormData","append","fetch","method","headers","localStorage","getItem","body","json","ok","err","message","providedIn","AuthGuard","router","route","state","validarToken","pipe","isAuth","navigateByUrl","OrdenesRoutingModule","GestionComponent","TRABAJOS","NUEVA_GESTION","FASE","HOY","jo","Despachos","edit","devolucion","Tarea","getMaquinas","getGestiones","getOrdenes","getDespachos","y","PutDespachos","PutDespacho","GetDespacho","getOrden","fecha_formateada","value_hojas","separator","split","Ejemplares","value_productos","ceil","maquina","trabajo","dias","postRestrasar","fechaI","fecha_lapsos","fechaI_lapso","lapso","diff","postAcelerar","fase","hojas_","productos_","gest","GESTIONES","hojas","CompararTama","restante","long","_productos","_hojas","Actual","redondear","Rproductos","Rhojas","postGestion","modal_nueva_gestion","getTrabajos","Long","finalizarTrabajo","calcular_Productos","calcular_Hojas","GestionesComponent","closemodal","modal_gestiones","g_trabajos","g_gestiones","MainComponent","detalle","loading","obtenerTrabajos","orden_detalle","orden_id","cantidad_d","cantidad_do","estado2","DevolucionComponent","repeticion","Data_devolucion","getLotes","devoluciones","final","dataArr","Set","orden_","malas","console","log","id_","String","style","display","filtrado","postDevolucion","lote","seleccionarMateriales","SharedModule","exports","OrdenesComponent","NuevoPedidoModule","AlmacenComponent","OrdenComponent","snapshot","paramMap","getOrdenById","PRODUCTO","Intl","NumberFormat","demasia","paginas","ejemplares_montados","paginas_sin_demasia","hojas_imprimir","hojas_demasia","getMaquinasByOrdens","Maquinas","fecha_o","utc","fecha_s","cantidad_","NumToLet","maquinasDB","peliculas","tintas","barniz","cantidad_barniz","b_name","b_marc","b_und","unidad","cant_barniz","toFixed","pega","cantidad_pega","pega_nombre","pega_marca","pega_unidad","cant_pega","caja","cant_cajas","cinta_","cinta","cantidad_cajas","Nombre_sustrato","tintas_color","tintas_marca","Estandar_de_color","e_c","color","peli","cantidad_tinta","tinta","pdf","setFonts","generarPDF","width","margin","build","rowSpan","end","bold","alignment","fontSize","fillColor","widths","add","ln","colSpan","layout","border","i_ancho","i_largo","observacion","create","download","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","webpackContextKeys","Object","resolve","module","NUEVA_ORDEN","cs","ps","os","Cantidad_ejemplares","Ejemplares_montados","Fases","SinMaterial","oc_","fo_","ae_","observacion_","TOTALES","total","presentacion","neto","CANTIDAD","_CANTIDAD","restantes","BuscarAlmacen","Almacenado","aja","CLIENTE","ALMACEN","totalizar_materiales","respuesta","OC","Demasia","demasia_","sinMarca","cantidades","necesario","EnAlmacen","def","Fecha_S","resto","restantes_","SUSTRATO_EN_ALMACEN","buscar_tintas","resta","modal_nueva_orden","getFechas","HorasAgregadas","fecha_","after","isAfter","MaquinaSelected2","hoymas3","orden_compra","checked","postOrden","fases","Data","pos","postOrden2","navigate","cliente_selected","Cantidad","Fecha_s","cambios","AppComponent","PlanificacionComponent","cargado","week","mes","ano","getDaysFromDate","month","year","months","startDate","endDate","clone","endOf","dateSelect","diffDays","numberDays","round","arrayDays","Array","parseInt","dayObject","indexWeek","isoWeekday","monthSelect","flag","prevDate","subtract","nextDate","day","monthYear","parse","objectDate","dateValue","funcion","betas","changeMonth","NuevoPedidoComponent","AppModule","provide","useValue","providers","bootstrap","UnicosPipe","pure","IndexComponent","NuevoPedidoRoutingModule","EstadisticasRoutingModule","Ordenes","Lotes","despachos","gestiones","requisiciones","trabajos","sinBusqueda","vacio","c_lotes","c_devoluciones","lote_mayor","modal_consumos","cant","desde","hasta","EstadisticasOrden","lotes","Buscar_estadisticas","ConsumoComponent","devoluc","len","OrdenesModule","EstadisticasModule","ConfirmacionComponent","onReset","buscarPendientes","getRequiEspera","Pendiente","confirmacion","UpdateRequi","DeleteRequi","fileName","resumido","detallado","PESO","GRAMAJE","ANCHO","LARGO","HOJAS","PESO_","GRAMAJE_","ANCHO_","LARGO_","HOJAS_","empty","OTRO","CONVERSION","BOBINAS","CONSULTAB","boolean_sustrato","New_Sustrato","_NUEVO_PRODUCTO","EDICION_ALMACEN","DESCUENTOS","eliminacion","eliminar_sustrato","reporte","_bobina","descontar_b","codigoID","loteID","cantidadID","New_color","caja_","asignacion","_Almacenado","Editar_NUEVO_PRODUCTO","_bobina_","Dev_","Bobillas","InventarioForm","NewControl","BobinaForm","Nbobina","peso","convertidora","_sustratos_","Test_UniqueObjectNewMap_valuesAsArr","_calibre_","_gramajes_","_ancho_","Edition__","Edition__2","SUSTRATO_CONVERSION","BobinasSencillas","conversiones","I_f","I_r","getAalmacenado","porConfirmar","Gs","Buscar_conversiones","getbobinas","getDevolucion","DeleteDevolucion","Modal_Devolucion","putDevolucion","Devoluciones","getMaterialesPorConfirmar","seccion","existencia","sustratos","Marca","newArray_test","UniqueArrayforMarca","item","Test_UniqueObject","Test_UniqueObjectNewMap","Test_UniqueObjectNewMap_keys","Test_UniqueObjectNewMap_values","splitted","e1","slice","MaterialID","Modal_Almacen_ep","getMaterialesID","putMaterialID","edit_almacen","getAlmacenadoID","AlmacenadoId","selecciona_producto","putAlmacenadoID","buscarSustratos","bobina","bobina__","numero","deleteBobina","descontar_bobina","postAlmacenado","Nuevo_producto","PostAlmacen","Modal_Almacen","otro","trunc","all","splited","postNuevaBobina","Modal_bobinas","Convertidora","BobinasEnConvertidora","BOBINAS_","getBobina","sumada","getConversiones","Gramaje","Ancho","Largo","Num_Bobina","solicitado","postNuevoSustrato","modal_Conversion","recibo","pageOrientation","cantidad_Mat","cantidad_orden","El_Material","total_necesario","Total_en_Presentacion","Descuento","name_p_e","cantidad_p_e","id_p_e","modal_eliminacion","eliminarSustrato","eliminarMaterial","reporteInventario","ingresos","descuentos","descuento","razon","modal_reporte","materiales_en_almacen","cajas","Requisicion","finalizar_asignacion","agregarRequisicion","Almacenes","producto_seleccionado","almacenar","Almacenar","Cambio_opciones","check_bobinas","nuevaBobina","buscarGramaje","buscarCalibre","buscarAncho","seleccionar_material","Buscar_Bobina","Peso","Generar_Conversion","Hojas_","Gramaje_","Ancho_","Largo_","confirmar_eliminacion","descargarInventario","RestApiService","http","token","setItem","JSON","stringify","menu","error","removeItem","put","IndexRoutingModule","DetallesComponent","CargarOrdenes","dato","updateTrabajo","buscarTrabajos","buscarGestiones","buscarDespachos","BuscarMaquinas","CerrarOrden","GetDespachoByOrden","gestiones_","alert","IndexModule","AsignacionComponent","onFinalizarAsignacion","onAgregarRequisicioes","cintas_","LOTES","Requisiciones","buscarRequisicion","getRequi","exist","necesaria","m_cantidad","Mname","_cantidad","_cinta_","unidad_necesaria","Descuentos","EA_Cantidad","previo","thisShit","cantidad_solicitada","check","onclick","fijalote","requi","En_Almacen","Cargados","_existe","realizarDescuentoAlmacen","canActivate","loadChildren","m","AppRoutingModule","forRoot","LoginComponent","email","formSubmitted","loginForm","Password","remember","patchValue","Login","login","bootstrapModule","webpackEmptyAsyncContext","Promise"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACqBgC;;AAA6D;;AAAc;;;;;;AAAnE;;AAAqD;;AAAA;;;;;;;;AAK7E;;AACI;;AACI;;AAA4B;;AAAC;;AAC7B;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAAsB;;AAAkB;;AAC9E;;AACJ;;;;;;;;AAeI;;AACI;;AAAI;;AAAgB;;AACpB;;AAAI;;AAAsB;;AAC1B;;AACI;;AAAmC;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAnC;;AACJ;;AACA;;AAAI;;AAAgB;;AACpB;;AAAI;;AAAqB;;AACzB;;AAAI;;AAAG;;AAA4B;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA0C;;AAAI;;AACrF;;;;;;AARQ;;AAAA;;AACA;;AAAA;;AAEmF;;AAAA;;AAA+B;;AAElH;;AAAA;;AACA;;AAAA;;;;;;;;;;UD3CfA,kB;AAWX,oCAAoBC,GAApB,EAAwC;AAAA;;AAApB,eAAAA,GAAA,GAAAA,GAAA;AAPV,eAAAC,YAAA,GAAe,IAAI,0DAAJ,EAAf;AAEH,eAAAC,qBAAA,GAAwB,EAAxB;AACA,eAAAC,KAAA,GAAgB,KAAhB;AAIoC;;;;iBAE3C,oBAAQ;AACN,iBAAKC,GAAL,GAAW,mCAAM,GAAGC,MAAT,CAAgB,YAAhB,CAAX;AACD;;;iBAED,mBAAO;AACL,iBAAKC,QAAL,GAAgB,KAAhB;AACA,iBAAKL,YAAL,CAAkBM,IAAlB;AACD;;;iBAED,wBAAeC,KAAf,EAAoB;AAClB;AACA,gBAAIC,MAAM,GAAG,KAAKC,OAAL,CAAaC,IAAb,CAAkB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACC,IAAF,KAAWL,KAAf;AAAA,aAAnB,CAAb;;AACA,gBAAGC,MAAH,EAAU;AACR,kBAAIK,MAAM,GAAG,KAAKZ,qBAAL,CAA2BS,IAA3B,CAAgC,UAAAC,CAAC;AAAA,uBAAIA,CAAC,CAACG,EAAF,KAASP,KAAb;AAAA,eAAjC,CAAb;;AACA,kBAAG,CAACM,MAAJ,EAAW;AAET,qBAAKZ,qBAAL,CAA2Bc,IAA3B,CACE;AACED,oBAAE,EAACN,MAAM,CAACI,IADZ;AAEEI,0BAAQ,EAACR,MAAM,CAACQ,QAAP,CAAgBA,QAF3B;AAGEC,0BAAQ,EAACT,MAAM,CAACU,UAHlB;AAIEC,oBAAE,EAACX,MAAM,CAACD,KAJZ;AAKEa,yBAAO,EAACZ,MAAM,CAACa;AALjB,iBADF;AAQC;AACJ;AACF;;;iBAED,2BAAkBP,EAAlB,EAAoB;AAClB,gBAAIQ,KAAK,GAAG,KAAKrB,qBAAL,CAA2BsB,SAA3B,CAAqC,UAAAZ,CAAC;AAAA,qBAAIA,CAAC,CAACG,EAAF,KAASA,EAAb;AAAA,aAAtC,CAAZ;AACA,iBAAKb,qBAAL,CAA2BuB,MAA3B,CAAkCF,KAAlC,EAAyC,CAAzC;AACD;;;iBAED,sBAAaG,CAAb,EAAgBC,CAAhB,EAAiB;AACf,iBAAKzB,qBAAL,CAA2ByB,CAA3B,EAA8BT,QAA9B,GAAyCQ,CAAzC,CADe,CAEf;AACD;;;iBAED,eAAMA,CAAN,EAAO;AACL,gBAAG,CAACA,CAAJ,EAAM;AACJ,mBAAKvB,KAAL,GAAa,KAAb;AACD,aAFD,MAEK;AACH,mBAAKA,KAAL,GAAa,IAAb;AACA,mBAAKyB,IAAL,GAAYF,CAAZ;AACD;AACF;;;iBAED,qBAAS;AAAA;;AACP,+DAAKG,IAAL,CAAU;AACRC,mBAAK,EAAE,gDADC;AAERC,4BAAc,EAAE,IAFR;AAGRC,8BAAgB,EAAE,KAHV;AAIRC,+BAAiB,EAAE,aAJX;AAKRC,4BAAc,YALN;AAMRC,kBAAI,EAAC;AANG,aAAV,EAOGC,IAPH,CAOQ,UAACC,MAAD,EAAY;AAClB;AACA,kBAAIA,MAAM,CAACC,WAAX,EAAwB;AACtB,oBAAIC,OAAO,GAAG,mCAAM,CAAC,KAAI,CAACX,IAAN,CAAN,CAAkBvB,MAAlB,CAAyB,YAAzB,CAAd;;AAEA,qBAAI,CAACL,GAAL,CAASwC,YAAT,CAAsB;AAACC,uBAAK,EAACF,OAAP;AACCjC,0BAAQ,EAAC,KAAI,CAACJ;AADf,iBAAtB,EAEGwC,SAFH,CAEa,UAACC,IAAD,EAAY;AAErB,uBAAI,CAACf,IAAL,GAAY,EAAZ;AACA,uBAAI,CAACzB,KAAL,GAAa,KAAb;AACA,uBAAI,CAACD,qBAAL,GAA6B,EAA7B;;AACA,uBAAI,CAAC0C,OAAL;;AACA,qEAAKf,IAAL,CAAU,WAAV,EAAuB,EAAvB,EAA2B,SAA3B;AACD,iBATH;AAUD,eAbD,MAaO,IAAIQ,MAAM,CAACQ,QAAX,EAAqB;AAC1B,mEAAKhB,IAAL,CAAU;AACRC,uBAAK,EAAC,yBADE;AAERgB,sBAAI,EAAC,0EAFG;AAGRX,sBAAI,EAAC,MAHG;AAIRY,mCAAiB,EAAC;AAJV,iBAAV;AAMD;AACF,aA9BD;AA+BD;;;;;;;yBA5FUhD,kB,EAAkB,iJ;AAAA,O;;;cAAlBA,kB;AAAkB,sC;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,iB;AAAA,e;AAAA,yoB;AAAA;AAAA;ACV/B;;AACI;;AAA8B;AAAA,qBAAS,IAAA6C,OAAA,EAAT;AAAkB,aAAlB;;AAAoB;;AAClD;;AACI;;AACI;;AACI;;AACJ;;AACA;;AACA;;AACI;;AACI;;AACI;;AAAqB;;AAAkB;;AACvC;;AAAiC;AAAA,qBAAU,IAAAH,KAAA,qBAAV;AAAoC,aAApC;;AAAjC;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAiB;;AACtC;;AACI;;AAAsB;AAAA,qBAAU,IAAAO,cAAA,qBAAV;AAA6C,aAA7C;;AAClB;;AAAmB;;AAAiB;;AACpC;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AAMJ;;AACA;;AACA;;AACI;;AACI;;AACI;;AAAI;;AAAgB;;AACpB;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAe;;AACnB;;AAAI;;AAAO;;AACX;;AAAI;;AAAC;;AACT;;AACJ;;AACA;;AACI;;AAUJ;;AACJ;;AACJ;;AACJ;;AACJ;;;;AA5DmB;;AAY4E;;AAAA;;AAShC;;AAAA;;AAK3B;;AAAA;;AAoBZ;;AAAA;;;;;;;;;wEDpCXjD,kB,EAAkB;gBAL9B,uDAK8B;iBALpB;AACTkD,oBAAQ,EAAE,eADD;AAETC,uBAAW,EAAE,4BAFJ;AAGTC,qBAAS,EAAE,CAAC,2BAAD;AAHF,W;AAKoB,U;;;;;AAEpB7C,kBAAQ;kBAAhB;AAAgB,Y;AACRI,iBAAO;kBAAf;AAAe,Y;AACNT,sBAAY;kBAArB;AAAqB;;;;;;;;;;;;;;;;;;;AEdxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACUgC;;AAAiE;;AAAkB;;;;;;AAA1C;;AAAwB;;AAAA;;;;;;;;AAKjF;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAA0D;;AAAa;;;;;;;;AAQzG;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAAmF;;AAAc;;;;;;AAQvH;;AAAoC;;AAAM;;;;;;;;AAQ1C;;AAAoC;;AAAkC;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA+B;;AAAM;;AAAS;;;;;;;;AAJxH;;AACI;;AAAI;;AAAmG;;AACvG;;AAAI;;AAAqB;;AACzB;;AAAI;;AAAkC;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAoC;;AAAG;;AAAS;;AACtF;;AACJ;;;;;;;;AAJQ;;AAAA;;AACA;;AAAA;;AAEA;;AAAA;;;;;;;;AA0CR;;AACI;;AACI;;AAEA;;AAAmB;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACf;;AACJ;;AACJ;;AACJ;;;;;;AANQ;;AAAA;;;;;;AAuDA;;AAA2D;;AAAgB;;;;;;AAAtC;;AAAsB;;AAAA;;;;;;AA6E/C;;AAAgF;;AAAuB;;;;;;;;AAA/F;;AAAwE;;AAAA;;;;;;AA6C5F;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;;;AAHZ;;AACI;;AAAI;;AACA;;AAGJ;;AACA;;AAAI;;AAAkB;;AACtB;;AAAI;;AAAqB;;AACzB;;AACI;;AAAsD;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAClD;;AACE;;AACF;;AACA;;AAAM;;AAAQ;;AAChB;;AACN;;AACJ;;;;;;AAfQ;;AAAA;;AACc;;AAAA;;AAId;;AAAA;;AACA;;AAAA;;;;;;AAjBhB;;AACI;;AACA;;AACQ;;AAAI;;AAAO;;AACX;;AAAI;;AAAK;;AACT;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAQ;;AAChB;;AACJ;;AACA;;AACI;;AAiBJ;;AACJ;;;;;;AAlBY;;AAAA;;;;;;AA2BQ;;AAAqE;;AAAkB;;;;;;AAA/E;;AAA6D;;AAAA;;;;;;;;AAPzF;;AACI;;AACI;;AACI;;AAAqB;;AAAU;;AAC/B;;AACI;;AAAsB;AAAA;;AAAA;;AAAA;AAAA;;AAClB;;AAAkB;;AAAoB;;AACtC;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;AALuD;;AAAA;;;;;;AAgBvB;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;AAHZ;;AACI;;AAAiC;;AAC7B;;AAGJ;;AACJ;;;;;;AALY;;AAAA;;AAAyB;;AAAA;;AACf;;AAAA;;;;;;AAH1B;;AACI;;AAOJ;;;;;;;;AAPkB;;AAAA;;;;;;;;AARtC;;AACI;;AACI;;AACI;;AAAqB;;AAAS;;AAC9B;;AACI;;AAA2B;AAAA;;AAAA;;AAAA;AAAA;;AACvB;;AAAkB;;AAAmB;;AACrC;;AASJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAS;;AAC9B;;AACI;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;;;AAvBgC;;AAAA;;AAEE;;AAAA;;AAiBC;;AAAA;;AAAuC;;;;;;;;AAKtE;;AACI;;AACA;;AACI;;AAA8C;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAC1C;;AACE;;AACF;;AACA;;AAAM;;AAAO;;AACf;;AACN;;AACJ;;;;;;AAnFR;;AACI;;AA8BA;;AAaA;;AA6BI;;AAWR;;;;;;;;AAnFsC;;AAAA;;AA8Bb;;AAAA;;AAaA;;AAAA;;AA6BE;;AAAA;;;;;;AAmGf;;AAA2F;;AAA4F;;;;;;;;AAA/K;;AAAmF;;AAAA;;;;;;AAkB3F;;AACI;;AACI;;AACA;;AACA;;AACI;;AACI;;AAAI;;AAAa;;AACjB;;AAAI;;AAAe;;AACnB;;AAAI;;AAAmB;;AAC3B;;AACA;;AACI;;AACI;;AAAI;;AAAkC;;AACtC;;AAAI;;AAAkC;;AACtC;;AAAI;;AAAgC;;AACxC;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;AAjBQ;;AAAA;;AAUgB;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AAf5B;;AACI;;AAoBJ;;;;;;AApBkB;;AAAA;;;;;;AAmCd;;AACI;;AACI;;AACJ;;AACA;;AACI;;AACJ;;AACJ;;;;;;AALQ;;AAAA;;AAGA;;AAAA;;;;;;AANZ;;AACI;;AAQJ;;;;;;AARkB;;AAAA;;;;;;AAmBd;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;AAFR;;AACI;;AAGJ;;;;;;AAHkB;;AAAA;;;;;;AAqBF;;AAAsC;;AAAC;;;;;;AACvC;;AAAsC;;AAAC;;;;;;AACvC;;AAAsC;;AAAC;;;;;;AACvC;;AAAsC;;AAAC;;;;;;AACvC;;AAAsC;;AAAC;;;;;;AAN3C;;AAAoD;;AAAG;;AAAM;;AAAI;;AAE7D;;AACA;;AACA;;AACA;;AACA;;AACA;;AAAG;;;;;;AAP0D;;AAAA;;AAE/C;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AAGd;;AAAsC;;AAAC;;;;;;AACvC;;AAAsC;;AAAC;;;;;;AACvC;;AAAsC;;AAAC;;;;;;AACvC;;AAAsC;;AAAC;;;;;;AACvC;;AAAsC;;AAAC;;;;;;AAL3C;;AAAmD;;AAAG;;AAAK;;AAAI;;AAC3D;;AACA;;AACA;;AACA;;AACA;;AACA;;AAAG;;;;;;AANwD;;AAAA;;AAC7C;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AAGd;;AAAsC;;AAAC;;;;;;AACvC;;AAAsC;;AAAC;;;;;;AACvC;;AAAsC;;AAAC;;;;;;AACvC;;AAAsC;;AAAC;;;;;;AACvC;;AAAsC;;AAAC;;;;;;AAL3C;;AAAsD;;AAAG;;AAAQ;;AAAI;;AACjE;;AACA;;AACA;;AACA;;AACA;;AACA;;AAAG;;;;;;AAN8D;;AAAA;;AACnD;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AAGd;;AAAsC;;AAAC;;;;;;AACvC;;AAAsC;;AAAC;;;;;;AACvC;;AAAsC;;AAAC;;;;;;AACvC;;AAAsC;;AAAC;;;;;;AACvC;;AAAsC;;AAAC;;;;;;AAL3C;;AAAuD;;AAAG;;AAAS;;AAAI;;AACnE;;AACA;;AACA;;AACA;;AACA;;AACA;;AAAG;;;;;;AANgE;;AAAA;;AACrD;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AAMd;;AAAsC;;AAAC;;;;;;AACvC;;AAAsC;;AAAC;;;;;;AACvC;;AAAsC;;AAAC;;;;;;AACvC;;AAAsC;;AAAC;;;;;;AACvC;;AAAsC;;AAAC;;;;;;AACvC;;AACI;;AACJ;;;;;;;;;;;AADI;;AAAA;;;;;;AAEJ;;AACI;;AACJ;;;;;;;;;;;AADI;;AAAA;;;;;;AAXJ;;AACI;;AACJ;;AACA;;AACA;;AACA;;AACA;;AACA;;AAGA;;AAGA;;;;;;AAZI;;AAAA;;AACU;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAGA;;AAAA;;;;;;AAZlB;;AACI;;AAAG;;AAAiC;;AACpC;;AAcJ;;;;;;;;AAfO;;AAAA;;AACW;;AAAA;;;;;;AAhCtB;;AACI;;AAQA;;AAOA;;AAOA;;AAOA;;AAiBJ;;;;;;AA9CO;;AAAA;;AAQA;;AAAA;;AAOA;;AAAA;;AAOA;;AAAA;;AAOE;;AAAA;;;;;;AA/Bb;;AACI;;AAgDJ;;;;;;AAhDkB;;AAAA;;;;;;AAuEN;;AACI;;AAAI;;AAAoC;;AACxC;;AAAI;;AAAoC;;AAC5C;;;;;;AAFQ;;AAAA;;AACA;;AAAA;;;;;;AAHZ;;AACI;;AAIJ;;;;;;AAJkB;;AAAA;;;;;;AAoB1B;;AACI;;AAAI;;AAAkB;;AAC1B;;;;;;AACA;;AACI;;AAAI;;AAA6B;;AACrC;;;;;;AANJ;;AACI;;AAGA;;AAGJ;;;;;;AANkB;;AAAA;;AAGA;;AAAA;;;;;;AAOd;;AACA;;AACI;;AACJ;;AACA;;;;;;AAFI;;AAAA;;;;;;AAGJ;;AACI;;AAAI;;AAA0B;;AAClC;;;;;;AADQ;;AAAA;;;;;;AAPZ;;AACI;;AAKA;;AAGJ;;;;;;AARkB;;AAAA;;AAKA;;AAAA;;;;;;AAsCN;;AAA2D;;AAAgB;;;;;;AAAtC;;AAAsB;;AAAA;;;;;;AA6E/C;;AAA2F;;AAAuB;;;;;;;;AAA1G;;AAAmF;;AAAA;;;;;;AA6CvG;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;;;AAHZ;;AACI;;AAAI;;AACA;;AAGJ;;AACA;;AAAI;;AAA2B;;AAC/B;;AAAI;;AAAqB;;AACzB;;AACI;;AAAsD;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAClD;;AACE;;AACF;;AACA;;AAAM;;AAAQ;;AAChB;;AACN;;AACJ;;;;;;AAfQ;;AAAA;;AACc;;AAAA;;AAId;;AAAA;;AACA;;AAAA;;;;;;AAjBhB;;AACI;;AACA;;AACQ;;AAAI;;AAAO;;AACX;;AAAI;;AAAK;;AACT;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAQ;;AAChB;;AACJ;;AACA;;AACI;;AAiBJ;;AACJ;;;;;;AAlBY;;AAAA;;;;;;AA2BQ;;AAAqE;;AAAkB;;;;;;AAA/E;;AAA6D;;AAAA;;;;;;;;AAPzF;;AACI;;AACI;;AACI;;AAAqB;;AAAU;;AAC/B;;AACI;;AAAsB;AAAA;;AAAA;;AAAA;AAAA;;AAClB;;AAAkB;;AAAoB;;AACtC;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;AALuD;;AAAA;;;;;;AAgBvB;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;AAHZ;;AACI;;AAAiC;;AAC7B;;AAGJ;;AACJ;;;;;;AALY;;AAAA;;AAAyB;;AAAA;;AACf;;AAAA;;;;;;AAH1B;;AACI;;AAOJ;;;;;;;;AAPkB;;AAAA;;;;;;;;AARtC;;AACI;;AACI;;AACI;;AAAqB;;AAAS;;AAC9B;;AACI;;AAA6B;AAAA;;AAAA;;AAAA;AAAA;;AACzB;;AAAmB;;AAAmB;;AACtC;;AASJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAS;;AAC9B;;AACI;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;;;AAvBgC;;AAAA;;AAEE;;AAAA;;AAiBC;;AAAA;;AAAwC;;;;;;;;AAKvE;;AACI;;AACA;;AACI;;AAA8C;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAC1C;;AACE;;AACF;;AACA;;AAAM;;AAAO;;AACf;;AACN;;AACJ;;;;;;AAnFR;;AACI;;AA8BA;;AAaA;;AA6BI;;AAWR;;;;;;;;AAnFsC;;AAAA;;AA8Bb;;AAAA;;AAaA;;AAAA;;AA6BE;;AAAA;;;;;;;;;;;;;;;;;;;;UDtzB1BmD,kB;AA6EX,oCAAoBpD,GAApB,EACoBqD,YADpB,EAEoBC,EAFpB,EAEoC;AAAA;;AAFhB,eAAAtD,GAAA,GAAAA,GAAA;AACA,eAAAqD,YAAA,GAAAA,YAAA;AACA,eAAAC,EAAA,GAAAA,EAAA;AA7EpB,eAAAC,OAAA,GAAU,yEAAYvD,GAAtB;AAEO,eAAAwD,aAAA,GAAwB,KAAxB;AAGA,eAAAC,qBAAA,GAAwB,EAAxB;AACA,eAAAC,cAAA,GAAyB,KAAzB;AAKA,eAAAC,UAAA,GAAa,EAAb;AACA,eAAAC,IAAA,GAAO,EAAP;AAQA,eAAAC,QAAA,GAAW,EAAX;AAEA,eAAAC,QAAA,GAAmB,KAAnB;AAEA,eAAAC,WAAA,GAAc,EAAd;AAGP,eAAAC,sBAAA,GAAiC,KAAjC;AAEA,eAAAC,QAAA,GAAW,CAAX;AACA,eAAAC,UAAA,GAAa,CAAb;AACA,eAAAC,WAAA,GAAc,CAAd;AAEA,eAAAC,SAAA,GAAY,CAAZ;AACA,eAAAC,KAAA,GAAgB,IAAhB;AAEA,eAAAC,KAAA,GAAgB,IAAhB;AACA,eAAAC,IAAA,GAAe,IAAf;AACA,eAAAC,KAAA,GAAgB,IAAhB;AACA,eAAAC,IAAA,GAAe,IAAf;AAKA,eAAAC,SAAA,GAAY,EAAZ;AACO,eAAAC,WAAA,GAAc,EAAd;AACA,eAAAC,QAAA,GAAW,KAAX;AAEA,eAAAC,YAAA,GAAuB,KAAvB;AACP,eAAAC,UAAA,GAAiB;AAAC7D,oBAAQ,EAAC,EAAV;AACO8D,mBAAO,EAAC;AACNC,oBAAM,EAAC,EADD;AAENC,oBAAM,EAAC;AAFD,aADf;AAKOC,iBAAK,EAAC;AAACC,iBAAG,EAAC;AAAL,aALb;AAMOF,kBAAM,EAAC,EANd;AAOOG,mBAAO,EAAC,EAPf;AAQOC,sBAAU,EAAC,EARlB;AASOtB,uBAAW,EAAC,EATnB;AAUOuB,iBAAK,EAAC,EAVb;AAWOC,gBAAI,EAAC,EAXZ;AAYOC,oBAAQ,EAAC,CAAC;AACRR,oBAAM,EAAC,EADC;AAERS,mBAAK,EAAC,EAFE;AAGRC,qBAAO,EAAC,EAHA;AAIRC,qBAAO,EAAC;AAJA,aAAD,CAZhB;AAkBOC,sBAAU,EAAC;AAlBlB,WAAjB;AAoBA,eAAAC,WAAA,GAAwB,KAAKvC,EAAL,CAAQwC,KAAR,CAAc;AACpCd,kBAAM,EAAC,CAAC,EAAD,EAAI,0DAAWe,QAAf,CAD6B;AAEpCd,kBAAM,EAAC,CAAC,EAAD,EAAI,0DAAWc,QAAf,CAF6B;AAGpCrB,qBAAS,EAAC,CAAC,EAAD,EAAK,0DAAWqB,QAAhB;AAH0B,WAAd,CAAxB;AAuoBO,eAAAC,eAAA,GAA0B,KAA1B;AA9nBO,eAAKC,OAAL,GAAejG,GAAG,CAACiG,OAAnB;AACD;;;;iBAEb,oBAAQ;AACN,iBAAMC,wBAAN;AACA,iBAAKC,qBAAL;AACA,iBAAKC,eAAL;AACA,iBAAKC,iBAAL;AACA,iBAAKC,aAAL;AACA,gBAAIC,UAAU,GAAsBC,QAAQ,CAACC,cAAT,CAAwB,sBAAxB,EAAiDC,KAArF,CANM,CAON;AACD;;;iBAGD,kBAASC,CAAT,EAAU;AACR,oBAAOA,CAAP;AAEI,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;AAVZ;AAaD;;;iBAED,uBAAeC,KAAf,EAAwB;AACtB,iBAAKC,QAAL,GAAiBD,KAAK,CAACE,MAAP,CAAeC,KAAf,CAAqB,CAArB,CAAhB;AACAP,oBAAQ,CAACQ,sBAAT,CAAgC,WAAhC,EAA6C,CAA7C,EAAgDC,SAAhD,GAA4D,KAAKJ,QAAL,CAAcK,IAA1E;AACD;;;iBAED,uBAAW;AAAA;;AACT,iBAAKtC,QAAL,GAAgB,IAAhB;AACA,iBAAKvB,YAAL,CAAkB8D,cAAlB,CAAiC,KAAKN,QAAtC,EAAgD,UAAhD,EAA4D,KAAK/B,UAAL,CAAgBK,GAA5E,EACC/C,IADD,CACM,UAAAgF,GAAG,EAAI;AACX,kBAAGA,GAAH,EAAO;AACL,sBAAI,CAACnB,OAAL,CAAamB,GAAb,GAAmBA,GAAnB;AACAZ,wBAAQ,CAACQ,sBAAT,CAAgC,WAAhC,EAA6C,CAA7C,EAAgDC,SAAhD,GAA4D,gBAA5D;AACA,sBAAI,CAACJ,QAAL,GAAgB,IAAhB;AACD;;AACD,oBAAI,CAACQ,WAAL,CAAiB,MAAI,CAACvC,UAAL,CAAgBK,GAAjC;;AACA,oBAAI,CAACkC,WAAL,CAAiB,MAAI,CAACvC,UAAL,CAAgBK,GAAjC;;AACA,oBAAI,CAACP,QAAL,GAAgB,KAAhB;AACC,aAVH;AAWD;;;iBAED,+BAAsBlD,CAAtB,EAAuB;AACrB,gBAAGA,CAAC,KAAK,CAAT,EAAW;AACT,mBAAKsC,sBAAL,GAA8B,KAA9B;AACD,aAFD,MAEK;AACH,mBAAKA,sBAAL,GAA8B,IAA9B;;AACA,kBAAG,KAAKsD,gBAAL,IAAyB,UAA5B,EAAuC;AACrC,qBAAKtD,sBAAL,GAA8B,KAA9B;AACAwC,wBAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCc,MAAhC,GAAyC,IAAzC;AACD,eAHD,MAGK;AACH,qBAAKvD,sBAAL,GAA8B,IAA9B;AACAwC,wBAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCc,MAAhC,GAAyC,KAAzC;AACD;AACF;AACF;;;iBAED,6BAAoB7F,CAApB,EAAqB;AACnB,gBAAI8F,KAAK,GAAG,KAAKtD,UAAL,CAAgBuD,QAAhB,EAAZ;;AACA,gBAAG/F,CAAC,IAAI,CAAR,EAAU;AACW8E,sBAAQ,CAACC,cAAT,CAAwBe,KAAxB,EAAgCE,QAAhC,GAA2C,IAA3C;AACpB,aAFD,MAEK;AACgBlB,sBAAQ,CAACC,cAAT,CAAwBe,KAAxB,EAAgCE,QAAhC,GAA2C,KAA3C;AACnB,mBAAKJ,gBAAL,GAAwB5F,CAAxB;;AACA,kBAAG,KAAK4F,gBAAL,IAAyB,UAA5B,EAAuC;AACrC,qBAAKK,UAAL,sBAAsB,KAAKA,UAAL,CAAgBC,MAAhB,CAAuB,UAACC,GAAD,EAAMC,GAAN;AAAA,yBAAcD,GAAG,CAACE,GAAJ,CAAQD,GAAG,CAAC9C,MAAZ,EAAoB8C,GAApB,CAAd;AAAA,iBAAvB,EAA+D,IAAIE,GAAJ,EAA/D,EAA0EC,MAA1E,EAAtB;AAED;AACF;AACF;;;iBAED,8BAAqBvG,CAArB,EAAsB;AACpB,gBAAI8F,KAAK,GAAG,KAAKrD,WAAL,CAAiBsD,QAAjB,EAAZ;;AACA,gBAAG/F,CAAC,IAAI,CAAR,EAAU;AACW8E,sBAAQ,CAACC,cAAT,aAA6Be,KAA7B,GAAuCE,QAAvC,GAAkD,IAAlD;AACpB,aAFD,MAEK;AACgBlB,sBAAQ,CAACC,cAAT,aAA6Be,KAA7B,GAAuCE,QAAvC,GAAkD,KAAlD;AACnB,mBAAKJ,gBAAL,GAAwB5F,CAAxB;;AACA,kBAAG,KAAK4F,gBAAL,IAAyB,UAA5B,EAAuC;AACrC,qBAAKK,UAAL,sBAAsB,KAAKA,UAAL,CAAgBC,MAAhB,CAAuB,UAACC,GAAD,EAAMC,GAAN;AAAA,yBAAcD,GAAG,CAACE,GAAJ,CAAQD,GAAG,CAAC9C,MAAZ,EAAoB8C,GAApB,CAAd;AAAA,iBAAvB,EAA+D,IAAIE,GAAJ,EAA/D,EAA0EC,MAA1E,EAAtB;AAED;AACF;AACF;;;iBAED,wBAAevG,CAAf,EAAgB;AACd,gBAAIwG,QAAQ,GAAG,KAAKtE,IAAL,CAAUuE,QAAV,CAAmBzG,CAAnB,CAAf;;AACA,gBAAG,CAACwG,QAAJ,EAAa;AACX,mBAAKtE,IAAL,CAAU5C,IAAV,CAAeU,CAAf;AACD,aAFD,MAEK;AACH,kBAAIC,CAAC,GAAG,KAAKiC,IAAL,CAAUwE,OAAV,CAAkB1G,CAAlB,CAAR;AACA,mBAAKkC,IAAL,CAAUnC,MAAV,CAAiBE,CAAjB,EAAoB,CAApB;AACD,aAPa,CASd;;AACD;;;iBAED,iBAAQD,CAAR,EAAS;AACP,iBAAK2G,OAAL,GAAe3G,CAAC,CAACoF,MAAF,CAASJ,KAAxB;AACD;;;iBAED,kBAAShF,CAAT,EAAU;AACR,gBAAG,CAAC,KAAKiC,UAAL,CAAgB,KAAKO,UAArB,CAAJ,EAAqC;AACnC,mBAAKP,UAAL,CAAgB,KAAKO,UAArB,IAAmC,EAAnC;AACD;;AACD,iBAAKP,UAAL,CAAgB,KAAKO,UAArB,IAAmCxC,CAAnC;AACD;;;iBAEM,yBAAa;AAClB,gBAAG,KAAK8B,aAAR,EAAsB;AACpB,mBAAKA,aAAL,GAAqB,KAArB;AACD,aAFD,MAEK;AACH,mBAAKA,aAAL,GAAqB,IAArB;AACD;AACF;;;iBAEM,0BAAc;AACnB,gBAAG,KAAKE,cAAR,EAAuB;AACrB,mBAAKA,cAAL,GAAsB,KAAtB;AACD,aAFD,MAEK;AACH,mBAAKA,cAAL,GAAsB,IAAtB;AACD;AACF;;;iBAEM,8BAAkB;AACvB,gBAAG,KAAKmB,YAAR,EAAqB;AACnB,mBAAKA,YAAL,GAAoB,KAApB;AACD,aAFD,MAEK;AACH,mBAAKA,YAAL,GAAoB,IAApB;AACA,mBAAKX,UAAL,GAAkB,CAAlB;AACA,mBAAKG,KAAL,GAAa,IAAb;AACD;AACF;;;iBAED,oBAAWsC,CAAX,EAAY;AAEV,gBAAG,KAAKtC,KAAR,EAAc;AACZ,mBAAKA,KAAL,GAAa,KAAb;AACA,mBAAKD,SAAL,GAAiBuC,CAAC,GAAG,CAArB;AACA,qBAAOA,CAAC,GAAG2B,IAAI,CAACC,GAAL,CAAS,KAAKnE,SAAd,CAAX;AACD,aAJD,MAIK;AACH,qBAAOuC,CAAC,GAAG2B,IAAI,CAACC,GAAL,CAAS,KAAKnE,SAAd,CAAX;AACD;AACF;;;iBAED,0BAAc;AACZ,iBAAKC,KAAL,GAAa,IAAb;AACD;;;iBAED,uBAAW;AACT,iBAAKK,SAAL,CAAe1D,IAAf,CAAoB,KAAK2D,WAAzB;AACA,iBAAKA,WAAL,GAAmB,EAAnB;AACD;;;iBAED,6BAAoBhD,CAApB,EAAqB;AACnB,gBAAI6G,MAAM,GAAG,KAAK9D,SAAL,CAAe/D,IAAf,CAAoB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,IAAIe,CAAT;AAAA,aAArB,CAAb;AACA,gBAAIJ,KAAK,GAAG,KAAKmD,SAAL,CAAe0D,OAAf,CAAuBI,MAAvB,CAAZ;AACA,iBAAK9D,SAAL,CAAejD,MAAf,CAAsBF,KAAtB,EAA4B,CAA5B;AACD;;;iBAED,gBAAOkH,KAAP,EAAY;AACV,gBAAIC,KAAK,GAAsBlC,QAAQ,CAACC,cAAT,CAAwBgC,KAAxB,EAAgCf,QAA/D;;AAEA,gBAAGgB,KAAH,EAAS;AACYlC,sBAAQ,CAACC,cAAT,CAAwBgC,KAAxB,EAAgCf,QAAhC,GAA2C,KAA3C;AACAlB,sBAAQ,CAACC,cAAT,CAAwBgC,KAAxB,EAAgCE,KAAhC;AACpB,aAHD,MAGO;AACcnC,sBAAQ,CAACC,cAAT,CAAwBgC,KAAxB,EAAgCf,QAAhC,GAA2C,IAA3C;AACnB,kBAAIkB,cAAc,GAAG,KAAKnF,qBAAL,CAA2B9C,IAA3B,CAAgC,UAAAkI,CAAC;AAAA,uBAAIA,CAAC,CAACC,QAAF,IAAcL,KAAlB;AAAA,eAAjC,CAArB;;AACA,kBAAGG,cAAH,EAAkB;AAChB,oBAAIrH,KAAK,GAAG,KAAKkC,qBAAL,CAA2B2E,OAA3B,CAAmCQ,cAAnC,CAAZ;AACA,qBAAKnF,qBAAL,CAA2BhC,MAA3B,CAAkCF,KAAlC,EAAyC,CAAzC;AACD;AACJ;AACF;;;iBAED,oBAAWG,CAAX,EAAY;AACV,gBAAIqH,KAAK,GAAG,KAAKtF,qBAAL,CAA2B9C,IAA3B,CAAgC,UAAAkI,CAAC;AAAA,qBAAIA,CAAC,CAACC,QAAF,IAAcpH,CAAC,CAACoF,MAAF,CAASkC,EAA3B;AAAA,aAAjC,CAAZ;AACA,gBAAIzH,KAAJ;;AACA,gBAAG,CAACwH,KAAJ,EAAU;AACR,kBAAIE,IAAI,GAAG;AACTH,wBAAQ,EAACpH,CAAC,CAACoF,MAAF,CAASkC,EADT;AAET9H,wBAAQ,EAACQ,CAAC,CAACoF,MAAF,CAASJ;AAFT,eAAX;AAKA,mBAAKjD,qBAAL,CAA2BzC,IAA3B,CAAgCiI,IAAhC;AACD,aAPD,MAOK;AACH1H,mBAAK,GAAG,KAAKkC,qBAAL,CAA2B2E,OAA3B,CAAmCW,KAAnC,CAAR;AACA,mBAAKtF,qBAAL,CAA2BlC,KAA3B,EAAkCL,QAAlC,GAA6CQ,CAAC,CAACoF,MAAF,CAASJ,KAAtD;AACD;AACF;;;iBAEC,oCAAwB;AAAA;;AACtB,iBAAK1G,GAAL,CAASkJ,UAAT,GACGxG,SADH,CACa,UAACC,IAAD,EAAY;AACrB,oBAAI,CAACwG,cAAL,GAAsBxG,IAAtB;AACD,aAHH;AAID;;;iBACD,2BAAe;AAAA;;AACb,iBAAK3C,GAAL,CAASoJ,WAAT,GACG1G,SADH,CACa,UAACC,IAAD,EAAa;AACtB,oBAAI,CAAC0G,QAAL,GAAgB1G,IAAI,CAAC2G,QAArB;AACD,aAHH;AAID;;;iBAED,sBAAU;AAAA;;AAER,iBAAKzD,WAAL,CAAiB0D,GAAjB,CAAqB,WAArB,EAAkCC,QAAlC,CAA2C,KAAK9E,SAAhD;;AAEA,gBAAG,KAAKmB,WAAL,CAAiB4D,OAApB,EAA6B;AAC3B,iEAAK5H,IAAL,CAAU;AACRC,qBAAK,EAAC,OADE;AAERgB,oBAAI,EAAC,gDAFG;AAGRX,oBAAI,EAAC,OAHG;AAIRY,iCAAiB,EAAC,KAJV;AAKR2G,qBAAK,EAAC;AALE,eAAV;AAOA;AACD;;AAGD,iBAAK1J,GAAL,CAAS2J,YAAT,CAAsB,KAAK9D,WAAL,CAAiBa,KAAvC,EACKhE,SADL,CACe,UAACC,IAAD,EAAY;AACrB,oBAAI,CAACyD,eAAL;;AACA,oBAAI,CAACP,WAAL,CAAiB+D,KAAjB;;AACA,oBAAI,CAACpG,aAAL,GAAqB,KAArB;AACA,oBAAI,CAACkB,SAAL,GAAiB,EAAjB;AACA,iEAAK7C,IAAL,CAAU;AACRC,qBAAK,EAAC,YADE;AAERgB,oBAAI,EAAC,2BAFG;AAGRC,iCAAiB,EAAC,KAHV;AAIRZ,oBAAI,EAAC,SAJG;AAKRuH,qBAAK,EAAC;AALE,eAAV;AAOD,aAbL;AAcD,W,CAED;;;;iBAEA,6BAAiB;AAAA;;AACf,iBAAK1J,GAAL,CAAS6J,UAAT,GACGnH,SADH,CACa,UAACC,IAAD,EAAY;AACrB,oBAAI,CAACgF,UAAL,GAAkBhF,IAAI,CAACiD,UAAvB,CADqB,CAErB;AACD,aAJH;AAKD;;;iBAED,yBAAa;AAAA;;AACX,iBAAK5F,GAAL,CAAS8J,SAAT,GACGpH,SADH,CACa,UAACC,IAAD,EAAY;AACrB,oBAAI,CAACoH,MAAL,GAAcpH,IAAI,CAACqH,MAAnB,CADqB,CAErB;AACD,aAJH;AAKD;;;iBAED,4BAAgB;AACd,gBAAIC,KAAK,GAAsBzD,QAAQ,CAACC,cAAT,CAAwB,oBAAxB,EAA+CC,KAA9E;AACA,gBAAIwD,IAAI,GAAG,KAAKzG,qBAAL,CAA2B0E,QAA3B,CAAoC8B,KAApC,CAAX;;AAEA,gBAAG,CAACC,IAAJ,EAAS;AACP,mBAAKzG,qBAAL,CAA2BzC,IAA3B,CAAgCiJ,KAAhC;AACD;AAGF;;;iBAED,iCAAqB;AAAA;;AACnB,iBAAKjK,GAAL,CAASkJ,UAAT,GACGxG,SADH,CACa,UAACC,IAAD,EAAY;AACrB,oBAAI,CAACwH,SAAL,GAAiBxH,IAAjB,CADqB,CAErB;AACA;AACD,aALH;AAMD;;;iBAED,qBAAS;AAAA;;AAEP;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA,gBAAIsG,IAAI,GAAG;AACTlE,qBAAO,EAAqByB,QAAQ,CAACC,cAAT,CAAwB,sBAAxB,EAAiDC,KADpE;AAETzF,sBAAQ,EAAoBuF,QAAQ,CAACC,cAAT,CAAwB,uBAAxB,EAAkDC,KAFrE;AAGTxB,mBAAK,EAAoBsB,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA2CC,KAH3D;AAIT0D,yBAAW,EAAoB5D,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAwCC,KAJ9D;AAKTd,wBAAU,EAAE,KAAKnC,qBALR;AAMT8B,kBAAI,EAAC,KAAK3B,IAND;AAOTyB,wBAAU,EAAC,KAAK1B,UAPP;AAQT;AACAsB,oBAAM,EAAoBuB,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAyCC,KAT1D;AAUTtB,qBAAO,EAAoBoB,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAoCC,KAVtD;AAWT2D,qBAAO,EAAoB7D,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAoCC,KAXtD;AAYTzC,sBAAQ,EAAC,KAAKA;AAZL,aAAX;AAgBA,iBAAKjE,GAAL,CAASsK,YAAT,CAAsBrB,IAAtB,EACGvG,SADH,CACa,UAACC,IAAD,EAAY;AACrB,oBAAI,CAAC4H,cAAL;;AACA,kBAAIhE,UAAU,GAAsBC,QAAQ,CAACC,cAAT,CAAwB,sBAAxB,EAAiDC,KAArF;;AACA,oBAAI,CAAC8D,eAAL,CAAqBjE,UAArB;AACD,aALH;AAMD;;;iBAED,eAAM7E,CAAN,EAAO;AACL,gBAAI+I,KAAK,GAAG/I,CAAC,CAACoF,MAAF,CAASJ,KAArB;AAEA,iBAAK3C,WAAL,CAAiB/C,IAAjB,CAAsByJ,KAAtB;AACA,gBAAIC,MAAM,GAAG,KAAK3G,WAAL,CAAiB4G,MAA9B;AAEA,gBAAMC,KAAK,GAAsBpE,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAjC;AACA,gBAAMoE,QAAQ,GAAsBrE,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAApC;AAEAmE,iBAAK,CAAClD,QAAN,GAAiB,KAAjB;;AAEA,gBAAG+C,KAAK,IAAI,EAAZ,EAAe;AACb,mBAAK1G,WAAL,GAAmB,EAAnB;AAEA6G,mBAAK,CAAClE,KAAN,GAAc,EAAd;AACAkE,mBAAK,CAAClD,QAAN,GAAiB,IAAjB;AACAmD,sBAAQ,CAACnD,QAAT,GAAoB,IAApB;AACD;;AAED,gBAAGkD,KAAK,CAAClE,KAAN,IAAe,EAAlB,EAAqB;AACnBmE,sBAAQ,CAACnD,QAAT,GAAoB,KAApB;AACD;AAEF;;;iBAED,eAAMhG,CAAN,EAAO;AACL,gBAAIkJ,KAAK,GAAGlJ,CAAC,CAACoF,MAAF,CAASJ,KAArB;AAEA,gBAAIgE,MAAM,GAAG,KAAK3G,WAAL,CAAiB4G,MAA9B;AAEA,gBAAME,QAAQ,GAAsBrE,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAApC;;AAEA,gBAAGmE,KAAK,IAAI,EAAZ,EAAe;AACb,mBAAK7G,WAAL,CAAiB+G,GAAjB;AACAD,sBAAQ,CAACnD,QAAT,GAAoB,IAApB;AACD;;AAED,gBAAGkD,KAAK,IAAI,EAAZ,EAAe;AACb,kBAAGF,MAAM,GAAC,CAAV,EAAY;AACV,qBAAK3G,WAAL,CAAiB+G,GAAjB;AACD;;AACD,mBAAK/G,WAAL,CAAiB/C,IAAjB,CAAsB4J,KAAtB;AACAC,sBAAQ,CAACnD,QAAT,GAAoB,KAApB;AACD,aAlBI,CAmBH;AACF;AACA;;AAGD;;;iBAGD,yBAAgBhG,CAAhB,EAAiB;AAAA;;AACf,iBAAK1B,GAAL,CAAS+K,OAAT,CAAiBrJ,CAAjB,EACGgB,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACqI,SAAL,GAAiBrI,IAAI,CAACsI,SAAtB,CADqB,CAErB;AACD,aAJH;;AAME,gBAAGvJ,CAAC,IAAI,EAAR,EAAW;AACU8E,sBAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAsCiB,QAAtC,GAAiD,IAAjD;AACpB,aAFD,MAEK;AACgBlB,sBAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAsCiB,QAAtC,GAAiD,KAAjD;AACpB;AACJ,W,CAED;AAEA;AAEA;AAEA;AAGA;;;;iBACA,yBAAa;AACX,iBAAK7D,QAAL,GAAgB,EAAhB;AACA,iBAAKC,QAAL,GAAgB,KAAhB;AACD;;;iBAED,sBAAa7C,QAAb,EAAuBC,QAAvB,EAA+B;AAE7B,gBAAIS,CAAC,GAAG,KAAKuC,UAAL,CAAgBuD,QAAhB,EAAR;AAEAxG,oBAAQ,GAAsBuF,QAAQ,CAACC,cAAT,CAAwB9E,CAAxB,EAA4B+E,KAA1D;AACAxF,oBAAQ,GAAsBsF,QAAQ,CAACC,cAAT,mBAAmC,KAAKvC,UAAxC,GAAuDwC,KAArF;AAEA,gBAAIwE,QAAQ,GAAG,KAAKvD,UAAL,CAAgBhH,IAAhB,CAAqB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACuE,GAAF,KAAUlE,QAAd;AAAA,aAAtB,CAAf,CAP6B,CAS7B;;AAEA,gBAAIkK,IAAI,GAAGjK,QAAX;AACA,gBAAIgG,IAAI,GAAGgE,QAAQ,CAAClG,MAApB;;AAEA,gBAAG,KAAKsC,gBAAL,IAAyB,UAA5B,EAAuC;AACrC6D,kBAAI,GAAG,GAAP;AACD;;AAED,gBAAGD,QAAQ,CAACT,KAAZ,EAAkB;AAChBvD,kBAAI,aAAMgE,QAAQ,CAAClG,MAAf,eAA0BkG,QAAQ,CAACT,KAAnC,gBAA8CS,QAAQ,CAACN,KAAvD,MAAJ;AACD;;AAED,gBAAIK,SAAS,GAAG;AACdnC,sBAAQ,EAAC5B,IADK;AAEdzB,mBAAK,EAACyF,QAAQ,CAACzF,KAFD;AAGdxE,sBAAQ,EAACA,QAHK;AAIdC,sBAAQ,EAAEiK;AAJI,aAAhB,CAtB6B,CA6B7B;;AAEA,iBAAKrG,UAAL,CAAgBc,UAAhB,CAA2B,KAAK1B,UAAhC,EAA4ClD,IAA5C,CAAiDiK,SAAjD,EA/B6B,CAgC7B;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACD;;;iBAEH,sBAAahK,QAAb,EAAuBC,QAAvB,EAA+B;AAAA;;AAC7B,gBAAIS,CAAC,GAAG,KAAKwC,WAAL,CAAiBsD,QAAjB,EAAR;AAEAxG,oBAAQ,GAAsBuF,QAAQ,CAACC,cAAT,aAA6B9E,CAA7B,GAAmC+E,KAAjE;AACAxF,oBAAQ,GAAsBsF,QAAQ,CAACC,cAAT,oBAAoC,KAAKtC,WAAzC,GAAyDuC,KAAvF;AAGA,gBAAIwE,QAAQ,GAAG,KAAKvD,UAAL,CAAgBhH,IAAhB,CAAqB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACuE,GAAF,IAASlE,QAAb;AAAA,aAAtB,CAAf,CAP6B,CAU7B;;AAEA,gBAAIkK,IAAI,GAAGjK,QAAX;AACA,gBAAIgG,IAAI,GAAGgE,QAAQ,CAAClG,MAApB;;AAEA,gBAAG,KAAKsC,gBAAL,IAAyB,UAA5B,EAAuC;AACrC6D,kBAAI,GAAG,GAAP;AACD;;AAED,gBAAGD,QAAQ,CAACT,KAAZ,EAAkB;AAChBvD,kBAAI,aAAMgE,QAAQ,CAAClG,MAAf,eAA0BkG,QAAQ,CAACT,KAAnC,gBAA8CS,QAAQ,CAACN,KAAvD,MAAJ;AACD;;AAID,gBAAIK,SAAS,GAAG;AACdnC,sBAAQ,EAAC5B,IADK;AAEdzB,mBAAK,EAACyF,QAAQ,CAACzF,KAFD;AAGdxE,sBAAQ,EAACA,QAHK;AAIdC,sBAAQ,EAAEiK;AAJI,aAAhB;;AAOA,gBAAG,CAAC,KAAKrG,UAAL,CAAgBc,UAAhB,CAA2B,KAAKzB,WAAhC,CAAJ,EAAiD;AAC/C,mBAAKW,UAAL,CAAgBc,UAAhB,CAA2B,KAAKzB,WAAhC,IAA+C,EAA/C;AACD;;AAED,iBAAKW,UAAL,CAAgBc,UAAhB,CAA2B,KAAKzB,WAAhC,EAA6CnD,IAA7C,CAAkDiK,SAAlD;AAEA,iBAAKjL,GAAL,CAASoL,cAAT,CAAwB,KAAKtG,UAA7B,EAAyC,KAAKA,UAAL,CAAgBK,GAAzD,EACKzC,SADL,CACe,UAACC,IAAD,EAAY;AACrB;AACA,qBAAI,CAAC0I,MAAL,CAAY,OAAI,CAACvG,UAAjB;;AACA,qBAAI,CAAC9E,GAAL,CAASsL,UAAT,CAAoB,OAAI,CAACxG,UAAL,CAAgBK,GAApC,EACGzC,SADH,CACa,UAACC,IAAD,EAAY,CACrB;AACD,eAHH;;AAIE,qBAAI,CAAC4I,gBAAL;;AACA,qBAAI,CAACA,gBAAL;AACH,aAVL,EAtC6B,CAsD7B;AACD;;;iBAED,qBAAYtK,QAAZ,EAAsBC,QAAtB,EAA8B;AAE1B,gBAAIS,CAAC,GAAG,KAAKuC,UAAL,CAAgBuD,QAAhB,EAAR;AAEAxG,oBAAQ,GAAsBuF,QAAQ,CAACC,cAAT,CAAwB9E,CAAxB,EAA4B+E,KAA1D;AACAxF,oBAAQ,GAAsBsF,QAAQ,CAACC,cAAT,mBAAmC,KAAKvC,UAAxC,GAAuDwC,KAArF;AAEA,gBAAIwE,QAAQ,GAAG,KAAKvD,UAAL,CAAgBhH,IAAhB,CAAqB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACuE,GAAF,KAAUlE,QAAd;AAAA,aAAtB,CAAf,CAP0B,CAS1B;;AAEA,gBAAIkK,IAAI,GAAGjK,QAAX;AACA,gBAAIgG,IAAI,GAAGgE,QAAQ,CAAClG,MAApB;;AAEA,gBAAG,KAAKsC,gBAAL,IAAyB,UAA5B,EAAuC;AACrC6D,kBAAI,GAAG,GAAP;AACD;;AAED,gBAAGD,QAAQ,CAACT,KAAZ,EAAkB;AAChBvD,kBAAI,aAAMgE,QAAQ,CAAClG,MAAf,eAA0BkG,QAAQ,CAACT,KAAnC,gBAA8CS,QAAQ,CAACN,KAAvD,MAAJ;AACD;;AAED,gBAAIK,SAAS,GAAG;AACdnC,sBAAQ,EAAC5B,IADK;AAEdzB,mBAAK,EAACyF,QAAQ,CAACzF,KAFD;AAGdxE,sBAAQ,EAACA,QAHK;AAIdC,sBAAQ,EAAEiK;AAJI,aAAhB,CAtB0B,CA6B1B;;AACA,gBAAG,CAAC,KAAK1H,qBAAL,CAA2B,KAAKS,UAAhC,CAAJ,EACA;AACE,mBAAKT,qBAAL,CAA2B,KAAKS,UAAhC,IAA8C,EAA9C;AACD;;AAED,iBAAKT,qBAAL,CAA2B,KAAKS,UAAhC,EAA4ClD,IAA5C,CAAiDiK,SAAjD,EAnC0B,CAoC1B;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACD;;;iBAED,yBAAgBO,SAAhB,EAAyB;AAEnB,gBAAIC,OAAO,GAAG,KAAKhI,qBAAL,CAA2B,KAAKS,UAAhC,EAA4C1C,SAA5C,CAAsD,UAAAZ,CAAC;AAAA,qBAAIA,CAAC,CAACkI,QAAF,IAAc0C,SAAlB;AAAA,aAAvD,CAAd,CAFmB,CAInB;;AAEA,iBAAK/H,qBAAL,CAA2BhC,MAA3B,CAAkCgK,OAAlC,EAA2C,CAA3C;AACL;;;iBACD,0BAAiBD,SAAjB,EAA0B;AAExB;AACA,gBAAIC,OAAO,GAAG,KAAK3G,UAAL,CAAgBc,UAAhB,CAA2B,KAAKzB,WAAhC,EAA6C3C,SAA7C,CAAuD,UAAAZ,CAAC;AAAA,qBAAIA,CAAC,CAACK,QAAF,CAAW+D,MAAX,IAAqBwG,SAAzB;AAAA,aAAxD,CAAd,CAHwB,CAIxB;;AAEA,iBAAK1G,UAAL,CAAgBc,UAAhB,CAA2B,KAAKzB,WAAhC,EAA6C1C,MAA7C,CAAoDgK,OAApD,EAA6D,CAA7D,EANwB,CAQxB;AAEA;AAEA;AACH;;;iBAEC,oBAAWlG,IAAX,EAAe;AACb,gBAAI5D,CAAC,GAAG,KAAKiC,IAAL,CAAUwE,OAAV,CAAkB7C,IAAlB,CAAR;AAEA,iBAAK3B,IAAL,CAAUnC,MAAV,CAAiBE,CAAjB,EAAoB,CAApB;AACD;;;iBAED,qBAAY4D,IAAZ,EAAgB;AACd,gBAAI5D,CAAC,GAAG,KAAKmD,UAAL,CAAgBS,IAAhB,CAAqB6C,OAArB,CAA6B7C,IAA7B,CAAR,CADc,CAGd;;AAEA,iBAAK3B,IAAL,CAAUnC,MAAV,CAAiBE,CAAjB,EAAoB,CAApB;AACD;;;iBAED,2BAAe;AAAA;;AAEb,iBAAK3B,GAAL,CAASoL,cAAT,CAAwB,KAAKtG,UAA7B,EAAyC,KAAKA,UAAL,CAAgBK,GAAzD,EACGzC,SADH,CACa,UAACC,IAAD,EAAY;AACrB,iEAAKd,IAAL,CAAU;AACRC,qBAAK,EAAC,6BADE;AAERK,oBAAI,EAAC,SAFG;AAGRY,iCAAiB,EAAC;AAHV,eAAV;;AAKA,qBAAI,CAACsI,MAAL,CAAY,OAAI,CAACvG,UAAjB;;AACA,qBAAI,CAAC0F,eAAL,CAAqB,OAAI,CAAC1F,UAAL,CAAgBC,OAAhB,CAAwBI,GAA7C;;AACA,qBAAI,CAACoG,gBAAL;AACD,aAVH;AAWD;;;iBAED,qBAAYtK,QAAZ,EAAoB;AAAA;;AAElB,iBAAKjB,GAAL,CAASsL,UAAT,CAAoBrK,QAApB,EACGyB,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACmC,UAAL,GAAkBnC,IAAI,CAAC1B,QAAvB;;AAEA,kBAAI,OAAI,CAAC6D,UAAL,CAAgBsC,GAApB,EAAyB;AACvB,uBAAI,CAACsE,aAAL,aAAyB,OAAI,CAACnI,OAA9B,8BAAyD,OAAI,CAACuB,UAAL,CAAgBsC,GAAzE;AACD,eAFD,MAEK;AACH,uBAAI,CAACsE,aAAL;AACD;;AAED,qBAAI,CAACC,kBAAL;AACD,aAXH;AAYD;;;iBAED,4BAAgB;AACd,gBAAG,KAAK3F,eAAR,EAAwB;AACtB,mBAAKA,eAAL,GAAuB,KAAvB;AACD,aAFD,MAEK;AACH,mBAAKA,eAAL,GAAuB,IAAvB;AACA,mBAAKA,eAAL,GAAuB,KAAvB;;AACA,kBAAG,KAAKlB,UAAL,CAAgBc,UAAhB,CAA2B,KAAKzB,WAAhC,EAA6CwG,MAA7C,GAAsD,CAAzD,EAA2D;AACzD,qBAAK3E,eAAL,GAAuB,IAAvB;AACD;AACF;AACF;;;iBAED,gBAAO/E,QAAP,EAAe;AAAA;;AACb,iBAAKjB,GAAL,CAASsL,UAAT,CAAoBrK,QAApB,EACGyB,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACmC,UAAL,GAAkBnC,IAAI,CAAC1B,QAAvB,CADqB,CAErB;AACD,aAJH;;AAKE,gBAAG,KAAK6D,UAAR,EAAmB;AACjB,mBAAKyG,gBAAL;AACD;AACJ;;;;;;;yBApuBUnI,kB,EAAkB,iJ,EAAA,6J,EAAA,2H;AAAA,O;;;cAAlBA,kB;AAAkB,sC;AAAA,kB;AAAA,gB;AAAA,8hI;AAAA;AAAA;ACb/B;;AACI;;AACI;;AACI;;AACI;;AACI;;AAAqB;;AAAQ;;AAC7B;;AACI;;AACI;;AAAkC;AAAA,qBAAU,IAAAoH,eAAA,qBAAV;AAA8C,aAA9C;;AAC9B;;AAAiB;;AAAmB;;AACpC;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AAAoB;;AAAS;;AAC7B;;AACA;;AACA;;AACI;;AACI;;AACI;;AAAI;;AAAc;;AAClB;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAG;;AACP;;AACJ;;AACJ;;AACA;;AACI;;AAMJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AAA8B;AAAA,qBAAS,IAAAoB,aAAA,EAAT;AAAwB,aAAxB;;AAA0B;;AACxD;;AACI;;AACI;;AAGA;AAAA,qBAAY,IAAAC,UAAA,EAAZ;AAAwB,aAAxB;;AACI;;AAAuB;;AAAa;;AACpC;;AACA;;AACI;;AACI;;AACI;;AAAqB;;AAAkB;;AACvC;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAY;;AACjC;;AACI;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAI;;AAAiB;;AACzB;;AACA;;AACI;;AASJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AACI;;AAAgF;AAAA;AAAA;;AAAhF;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AAA8C;AAAA,qBAAS,IAAAC,WAAA,EAAT;AAAsB,aAAtB;;AAAkD;;AAAO;;AAC3G;;AACJ;;AACA;;AACA;;AAAkC;;AAAa;;AACnD;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AAA8B;AAAA,qBAAS,IAAAvB,cAAA,EAAT;AAAyB,aAAzB;;AAA2B;;AACzD;;AACI;;AACI;;AACI;;AACJ;;AACA;;AACI;;AACJ;;AACA;;AACA;;AACI;;AACI;;AACI;;AAAqB;;AAAe;;AACpC;;AACI;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AAAqB;;AAAS;;AAC9B;;AACI;;AACI;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAa;;AAClC;;AACI;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AAAqB;;AAAO;;AAC5B;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAc;;AACnC;;AACI;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AAAqB;;AAA6B;;AAClD;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AAAyD;AAAA,qBAAS,IAAAwB,cAAA,CAAe,YAAf,CAAT;AAAqC,aAArC;;AAAzD;;AAAgG;;AAAQ;;AAAU;;AAAQ;;AAC1H;;AAAiD;AAAA,qBAAS,IAAAA,cAAA,CAAe,QAAf,CAAT;AAAiC,aAAjC;;AAAjD;;AAAoF;;AAAQ;;AAAM;;AAAQ;;AAC1G;;AAA+C;AAAA,qBAAS,IAAAA,cAAA,CAAe,aAAf,CAAT;AAAsC,aAAtC;;AAA/C;;AAAuF;;AAAQ;;AAAW;;AAAQ;;AACtH;;AACJ;;AACA;;AACI;;AACJ;;AACA;;AAIA;;AACI;;AACI;;AACI;;AACI;;AAA4B;;AAAqB;;AACrD;;AACA;;AACI;;AACI;;AAAsF;AAAA;AAAA;;AAAtF;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AAA4B;;AAAQ;;AACxC;;AACA;;AACI;;AACI;;AACI;;AACI;;AAAwB;AAAA;AAAA;;AACpB;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACJ;;AACA;;AACA;;AACI;;AACI;;AACI;;AACI;;AAAqB;;AAAoB;;AAC7C;;AACA;;AACI;;AACI;;AACI;;AAAqE;AAAA,qBAAU,IAAAC,QAAA,qBAAV;AAAuC,aAAvC,EAAwC,eAAxC,EAAwC;AAAA;AAAA,aAAxC;;AAArE;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AAEJ;;AAEA;;AAqFA;;AACA;;AAAkC;AAAA,qBAAS,IAAAC,SAAA,EAAT;AAAoB,aAApB;;AAAsB;;AAAkB;;AAC9E;;AACJ;;AACJ;;AAEA;;AACI;;AAA8B;AAAA,qBAAS,IAAAN,kBAAA,EAAT;AAA6B,aAA7B;;AAA+B;;AAC7D;;AACI;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AAAO;;AACH;;AAC5B;;AAC4B;;AAAK;;AACL;;AACI;;AACI;;AACA;;AACA;;AACI;;AACE;;AACA;AAAA,qBAAU,IAAAO,aAAA,QAAV;AAA+B,aAA/B;;AADA;;AAEA;;AACE;;AACE;;AACF;;AACA;;AACE;;AACF;;AACF;;AACA;;AACE;;AACF;;AACF;;AACF;;AAIF;;AAGA;AAAA,qBAAS,IAAAC,WAAA,EAAT;AAAsB,aAAtB;;AACA;;AACA;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACJ;;AACA;;AAEA;;AACI;;AACI;;AAAI;;AAAQ;;AACZ;;AAAI;;AAA6B;;AACrC;;AACA;;AACI;;AAAI;;AAAS;;AACb;;AAAI;;AAAuB;;AAC/B;;AACA;;AACI;;AAAI;;AAAoB;;AACxB;;AAAI;;AAA0E;;AAClF;;AACJ;;AAEA;;AACI;;AAAqB;;AAAO;;AAC5B;;AACI;;AAA6B;AAAA,qBAAS,IAAAC,cAAA,EAAT;AAAyB,aAAzB,EAA0B,eAA1B,EAA0B;AAAA;AAAA,aAA1B;;AACzB;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AACJ;;AACA;;AAEA;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AAsBJ;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AACJ;;AACA;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AAUJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AAKJ;;AACJ;;AACA;;AACI;;AACJ;;AACA;;AAEA;;AACI;;AACI;;AACI;;AACJ;;AACA;;AACI;;AAkDJ;;AACJ;;AACJ;;AACA;;AACI;;AACJ;;AACA;;AAEA;;AACI;;AACI;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAmB;;AAC3B;;AACA;;AACI;;AACI;;AACI;;AACI;;AAAI;;AAAK;;AACT;;AAAI;;AAAK;;AACb;;AACA;;AACI;;AAMJ;;AACJ;;AACJ;;AACA;;AACG;;AACH;;AACJ;;AACJ;;AACA;;AACI;;AACJ;;AACA;;AACA;;AACI;;AACI;;AAQJ;;AACA;;AACI;;AAUJ;;AACJ;;AACJ;;AACJ;;AACJ;;AAGA;;AACI;;AAA8B;AAAA,qBAAS,IAAAb,gBAAA,EAAT;AAA2B,aAA3B;;AAA6B;;AAC3D;;AACI;;AACI;;AACI;;AACJ;;AACA;;AACI;;AACJ;;AACA;;AACA;;AACI;;AACI;;AACI;;AAAqB;;AAAe;;AACpC;;AACI;;AAA0F;AAAA;AAAA;;AAA1F;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AAAqB;;AAAS;;AAC9B;;AACI;;AAA4B;AAAA;AAAA;;AACxB;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAa;;AAClC;;AACI;;AAAoF;AAAA;AAAA;;AAApF;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AAAqB;;AAAO;;AAC5B;;AACI;;AAAoE;AAAA;AAAA;;AAApE;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAc;;AACnC;;AACI;;AAA2E;AAAA;AAAA;;AAA3E;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AAAqB;;AAA6B;;AAClD;;AACI;;AAA8F;AAAA;AAAA;;AAA9F;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AAAyD;AAAA,qBAAS,IAAAQ,cAAA,CAAe,YAAf,CAAT;AAAqC,aAArC;;AAAzD;;AAAgG;;AAAQ;;AAAU;;AAAQ;;AAC1H;;AAAiD;AAAA,qBAAS,IAAAA,cAAA,CAAe,QAAf,CAAT;AAAiC,aAAjC;;AAAjD;;AAAoF;;AAAQ;;AAAM;;AAAQ;;AAC1G;;AAA+C;AAAA,qBAAS,IAAAA,cAAA,CAAe,aAAf,CAAT;AAAsC,aAAtC;;AAA/C;;AAAuF;;AAAQ;;AAAW;;AAAQ;;AACtH;;AACJ;;AACA;;AACI;;AACJ;;AACA;;AAIA;;AACI;;AACI;;AACI;;AACI;;AAA4B;;AAAqB;;AACrD;;AACA;;AACI;;AACI;;AAAsF;AAAA;AAAA;;AAAtF;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AAA4B;;AAAQ;;AACxC;;AACA;;AACI;;AACI;;AACI;;AACI;;AAAwB;AAAA;AAAA;;AACpB;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACJ;;AACA;;AACA;;AACI;;AACI;;AACI;;AACI;;AAAqB;;AAAoB;;AAC7C;;AACA;;AACI;;AACI;;AACI;;AAAqE;AAAA,qBAAU,IAAAC,QAAA,qBAAV;AAAuC,aAAvC,EAAwC,eAAxC,EAAwC;AAAA;AAAA,aAAxC;;AAArE;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AAEJ;;AAEA;;AAqFA;;AACA;;AAAkC;AAAA,qBAAS,IAAAK,eAAA,EAAT;AAA0B,aAA1B;;AAA4B;;AAAe;;AACjF;;AACJ;;AACJ;;;;AAz0BwC;;AAAA;;AAKoC;;AAAA;;AAQyB;;AAAA;;AAQrE;;AAAA;;AAIJ;;AAAA;;AAaT;;AAAA;;AAMP;;AAAA;;AA2BgB;;AAAA,+FAAkD,WAAlD,EAAkD,SAAlD;;AAeoF;;AAAA;;AAKlB;;AAAA;;AAU3E;;AAAA;;AA2BqB;;AAAA;;AA8D8E;;AAAA;;AActD;;AAAA;;AACE;;AAAA;;AAsBgF;;AAAA;;AAU9G;;AAAA;;AA2FjB;;AAAA;;AAOU;;AAAA;;AAY7B;;AAAA;;AA2BoC;;AAAA,gGAAsB,SAAtB,EAAsB,oFAAtB;;AAmBZ;;AAAA;;AAIA;;AAAA;;AAIA;;AAAA;;AAOmE;;AAAA;;AAC7C;;AAAA;;AAiBtB;;AAAA;;AAmCA;;AAAA;;AAmBA;;AAAA;;AAkBiB;;AAAA;;AAuEL;;AAAA;;AAUb;;AAAA;;AAUW;;AAAA;;AAUA;;AAAA;;AAiBf;;AAAA;;AAgBmG;;AAAA;;AAU9D;;AAAA;;AAChB;;AAAA;;AASwE;;AAAA;;AAUhB;;AAAA;;AAQO;;AAAA;;AAUmB;;AAAA;;AAyBJ;;AAAA;;AActD;;AAAA;;AACE;;AAAA;;AAsBgF;;AAAA;;AAU9G;;AAAA;;;;;;;;;wED7uBvBjJ,kB,EAAkB;gBAL9B,uDAK8B;iBALpB;AACTH,oBAAQ,EAAE,eADD;AAETC,uBAAW,EAAE,4BAFJ;AAGTC,qBAAS,EAAE,CAAC,2BAAD;AAHF,W;AAKoB,U;;;;;;;;;;;;;;;;;;;;;;;;;;AEb/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACIY;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAA0D;;AAAa;;;;;;AAS7F;;AAAoC;;AAAiB;;;;;;;;AASrD;;AACI;;AAA6C;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACzC;;AAAM;;AAAM;;AACZ;;AACE;;AACF;;AACF;;AAAS;;AACT;;AAA8C;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAC5C;;AAAM;;AAAM;;AACZ;;AACI;;AACJ;;AACF;;AACN;;;;;;AAlBJ;;AACI;;AAAI;;AAAkB;;AACtB;;AAAI;;AAAgB;;AACpB;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAe;;AACnB;;AAcJ;;;;;;;;AAlBQ;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;;;AAwBhB;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAAwD;;AAAW;;;;;;;;AAMrF;;AAAsD;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAClD;;AACI;;AACJ;;AACJ;;;;;;AALJ;;AAAiC;;AAC7B;;AAKJ;;;;;;;;AANiC;;AAAA;;AAC6D;;AAAA;;;;;;AAW1F;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAFQ;;AAAA;;;;;;AAJhB;;AACI;;AACI;;AAKJ;;AACJ;;;;;;AANY;;AAAA;;;;;;;;;;;;;;AAchC;;AACA;;AACI;;AAA8B;AAAA;;AAAA;;AAAA;AAAA;;AAAkC;;AAChE;;AACI;;AACQ;;AAAuB;;AAAiB;;AACxC;;AACA;;AACI;;AAAqB;;AAAM;;AAC3B;;AACI;;AAAiC;AAAA;;AAAA;;AAAA;AAAA;;AAAjC;;AACJ;;AACJ;;AAEA;;AACI;;AAAqB;;AAAO;;AAC5B;;AACI;;AAAiC;AAAA;;AAAA;;AAAA;AAAA;;AAAjC;;AACJ;;AACJ;;AAEA;;AACI;;AAAqB;;AAAkB;;AACvC;;AACI;;AAA2C;AAAA;;AAAA;;AAAA;AAAA;;AAA3C;;AACJ;;AACJ;;AAEA;;AACI;;AAAqB;;AAAgB;;AACrC;;AACI;;AAA2C;AAAA;;AAAA;;AAAA;AAAA;;AAA3C;;AACJ;;AACJ;;AAEA;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAAgC;;AAAc;;AACxF;;AACJ;;AACJ;;AACA;;;;;;AAtCmB;;AAAA;;AASsC;;AAAA;;AAOA;;AAAA;;AAOU;;AAAA;;AAOA;;AAAA;;;;;;AA0EvC;;AAAwD;;AAAQ;;;;;;AAAzB;;AAAiB;;AAAA;;;;;;AAchE;;AACI;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAkC;;AAAQ;;AAAS;;AAC3D;;;;;;AAFQ;;AAAA;;;;UD1LfmJ,mB;AAqBX,qCAAoBhJ,EAApB,EACoBtD,GADpB,EACwC;AAAA;;AADpB,eAAAsD,EAAA,GAAAA,EAAA;AACA,eAAAtD,GAAA,GAAAA,GAAA;AApBb,eAAAuM,aAAA,GAAwB,KAAxB;AACA,eAAAC,WAAA,GAAsB,KAAtB;AACA,eAAAC,QAAA,GAA8B,EAA9B;AACA,eAAAC,SAAA,GAAY,EAAZ;AACA,eAAAC,KAAA,GAAQ,EAAR;AACA,eAAA5C,MAAA,GAAS,EAAT;AAIA,eAAA6C,cAAA,GAAyB,KAAzB;AAGP,eAAAC,WAAA,GAAyB,KAAKvJ,EAAL,CAAQwC,KAAR,CAAc;AACrCd,kBAAM,EAAC,CAAC,EAAD,EAAK,0DAAWe,QAAhB,CAD8B;AAErC+G,gBAAI,EAAC,CAAC,EAAD,EAAK,0DAAW/G,QAAhB,CAFgC;AAGrCgH,mBAAO,EAAC,CAAC,EAAD,CAH6B;AAIrCC,eAAG,EAAC,CAAC,EAAD,EAAK,0DAAWjH,QAAhB;AAJiC,WAAd,CAAzB;AASc,eAAKE,OAAL,GAAejG,GAAG,CAACiG,OAAnB;AACD;;;;iBAEb,oBAAQ;AACN,iBAAKgH,eAAL;AACA,iBAAK3G,aAAL;AACD;;;iBAIM,yBAAa;AAClB,gBAAG,KAAKiG,aAAR,EAAsB;AACpB,mBAAKA,aAAL,GAAqB,KAArB;AACD,aAFD,MAEK;AACH,mBAAKA,aAAL,GAAqB,IAArB;AACD;AACF;;;iBAED,iCAAqB;AACnB,gBAAG,KAAKK,cAAR,EAAuB;AACrB,mBAAKA,cAAL,GAAsB,KAAtB;AACD,aAFD,MAEK;AACH,mBAAKA,cAAL,GAAsB,IAAtB;AACD;AACF;;;iBAED,uBAAc5D,EAAd,EAAgB;AAAA;;AACd,iBAAKkE,qBAAL;AACA,iBAAKlN,GAAL,CAASmN,YAAT,CAAsBnE,EAAtB,EACGtG,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACyK,SAAL,GAAiBzK,IAAjB;AACD,aAHH;AAID;;;iBAED,+BAAmB;AAAA;;AACjB,iBAAKyK,SAAL,CAAeN,IAAf,GAAsB,KAAKM,SAAL,CAAeN,IAAf,CAAoBO,WAApB,EAAtB;AAEA,iBAAKrN,GAAL,CAASsN,UAAT,CAAoB,KAAKF,SAAL,CAAejI,GAAnC,EAAwC,KAAKiI,SAA7C,EACG1K,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACsK,eAAL;;AACA,qBAAI,CAACC,qBAAL;;AACA,iEAAKrL,IAAL,CAAU;AACR0L,wBAAQ,EAAC,QADD;AAERpL,oBAAI,EAAC,SAFG;AAGRL,qBAAK,EAAC,6BAHE;AAIRiB,iCAAiB,EAAE,KAJX;AAKR2G,qBAAK,EAAC;AALE,eAAV;AAQD,aAZH;AAaD;;;iBAED,wBAAY;AAAA;;AACV,iBAAK1J,GAAL,CAASwN,YAAT,CAAsB,KAAKX,WAAL,CAAiBnG,KAAvC,EACGhE,SADH,CACa,UAAAC,IAAI,EAAG;AAChB,qBAAI,CAACkK,WAAL,CAAiBjD,KAAjB;;AACA,qBAAI,CAAC2C,aAAL,GAAqB,KAArB;;AACA,qBAAI,CAACU,eAAL;AACD,aALH;AAMD;;;iBAED,2BAAe;AAAA;;AACb,iBAAKjN,GAAL,CAASyN,WAAT,GACG/K,SADH,CACa,UAAAgL,QAAQ,EAAI;AACrB,qBAAI,CAACjB,QAAL,GAAgBiB,QAAhB;;AACA,qBAAI,CAACC,YAAL;AACD,aAJH;AAKD;;;iBAED,wBAAe3E,EAAf,EAAiB;AAAA;;AACf,+DAAKnH,IAAL,CAAU;AACRC,mBAAK,EAAC,gBADE;AAERgB,kBAAI,EAAC,gCAFG;AAGRX,kBAAI,EAAC,SAHG;AAIRH,8BAAgB,EAAE,IAJV;AAKR4L,gCAAkB,EAAE,SALZ;AAMRC,+BAAiB,EAAC,MANV;AAORC,8BAAgB,EAAC,UAPT;AAQR7L,+BAAiB,EAAE;AARX,aAAV,EASGG,IATH,CASQ,UAACC,MAAD,EAAY;AAClB,kBAAGA,MAAM,CAACC,WAAV,EAAuB;AACrB,uBAAI,CAACyL,aAAL,CAAmB/E,EAAnB;;AACA,mEAAKnH,IAAL,CAAU;AACR0L,0BAAQ,EAAC,QADD;AAERpL,sBAAI,EAAC,SAFG;AAGRL,uBAAK,EAAC,gCAHE;AAIRiB,mCAAiB,EAAE,KAJX;AAKR2G,uBAAK,EAAC;AALE,iBAAV;AAOD;AACF,aApBD;AAqBD;;;iBAED,wBAAeV,EAAf,EAAiB;AAAA;;AACf,+DAAKnH,IAAL,CAAU;AACRC,mBAAK,EAAC,gBADE;AAERgB,kBAAI,EAAC,kGAFG;AAGRX,kBAAI,EAAC,SAHG;AAIRH,8BAAgB,EAAE,IAJV;AAKR4L,gCAAkB,EAAE,SALZ;AAMRC,+BAAiB,EAAC,MANV;AAORC,8BAAgB,EAAC,UAPT;AAQR7L,+BAAiB,EAAE;AARX,aAAV,EASGG,IATH,CASQ,UAACC,MAAD,EAAY;AAClB,kBAAGA,MAAM,CAACC,WAAV,EAAuB;AACrB,uBAAI,CAAC0L,aAAL,CAAmBhF,EAAnB;;AACA,mEAAKnH,IAAL,CAAU;AACR0L,0BAAQ,EAAC,QADD;AAERpL,sBAAI,EAAC,SAFG;AAGRL,uBAAK,EAAC,8BAHE;AAIRiB,mCAAiB,EAAE,KAJX;AAKR2G,uBAAK,EAAC;AALE,iBAAV;AAOD;AACF,aApBD;AAqBD;;;iBAED,uBAAcV,EAAd,EAAgB;AAAA;;AACd,iBAAKhJ,GAAL,CAASiO,WAAT,CAAqBjF,EAArB,EACGtG,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAAC2D,aAAL;AACD,aAHH;AAID;;;iBAED,uBAAc0C,EAAd,EAAoB;AAAA;;AAClB,iBAAKhJ,GAAL,CAASkO,cAAT,CAAwBlF,EAAxB,EACGtG,SADH,CACa,UAAAC,IAAI,EAAE;AACf,qBAAI,CAACsK,eAAL;AACD,aAHH;AAID,W,CAED;;;;iBAEO,uBAAW;AAChB,gBAAG,KAAKT,WAAR,EAAoB;AAClB,mBAAKA,WAAL,GAAmB,KAAnB;AACD,aAFD,MAEK;AACH,mBAAKA,WAAL,GAAmB,IAAnB;AACD;AACF;;;iBAED,wBAAY;AACV,gBAAI5L,CAAC,GAAG,KAAK6L,QAAL,CAAc9B,MAAtB;;AACA,iBAAI,IAAIhJ,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAEf,CAAlB,EAAqBe,CAAC,EAAtB,EAAyB;AACvB,kBAAIuI,IAAI,GAAG,KAAKwC,SAAL,CAAevE,QAAf,CAAwB,KAAKsE,QAAL,CAAc9K,CAAd,EAAiBmL,IAAzC,CAAX;;AACA,kBAAG,CAAC5C,IAAJ,EAAS;AACP,qBAAKwC,SAAL,CAAe1L,IAAf,CAAoB,KAAKyL,QAAL,CAAc9K,CAAd,EAAiBmL,IAArC;AACD;AACF;AACF;;;iBAED,uBAAW;AACT,gBAAIqB,IAAI,GAAsB3H,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAkCC,KAAhE;AACA,gBAAIwD,IAAI,GAAG,KAAKyC,KAAL,CAAWxE,QAAX,CAAoBgG,IAApB,CAAX;;AACE,gBAAG,CAACjE,IAAJ,EAAS;AACP,mBAAKyC,KAAL,CAAW3L,IAAX,CAAgBmN,IAAhB;AACD;AACJ;;;iBAED,yBAAa;AAAA;;AACX,iBAAKnO,GAAL,CAAS8J,SAAT,GACGpH,SADH,CACa,UAACC,IAAD,EAAc;AACvB,qBAAI,CAACoH,MAAL,GAAcpH,IAAI,CAACqH,MAAnB;AACD,aAHH;AAID;;;iBAED,qBAAS;AAAA;;AACP,gBAAI9C,IAAI,GAAsBV,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAiCC,KAA/D;AAEA,gBAAI0H,SAAS,GAAG;AACdpJ,oBAAM,EAACkC,IADO;AAEdmH,mBAAK,EAAC,KAAK1B;AAFG,aAAhB,CAHO,CAQP;;AACA,iBAAK3M,GAAL,CAASsO,UAAT,CAAoBF,SAApB,EACG1L,SADH,CACa,UAAAC,IAAI,EAAG;AAChB,qBAAI,CAAC2D,aAAL;;AACA,qBAAI,CAACkG,WAAL,GAAmB,KAAnB;AACD,aAJH;AAMD;;;;;;;yBA5MUF,mB,EAAmB,2H,EAAA,iJ;AAAA,O;;;cAAnBA,mB;AAAmB,uC;AAAA,iB;AAAA,gB;AAAA,8kD;AAAA;AAAA;ACXhC;;AACI;;AACI;;AACI;;AAAoB;;AAAU;;AAC9B;;AACA;;AACA;;AACI;;AACI;;AACI;;AAAI;;AAAc;;AAClB;;AAAI;;AAAkB;;AACtB;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAiB;;AACrB;;AACJ;;AACA;;AACJ;;AACI;;AAoBJ;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AAAoB;;AACpB;;AACA;;AACA;;AACA;;AACI;;AACI;;AACI;;AAOJ;;AACJ;;AACA;;AACI;;AASJ;;AACJ;;AACJ;;AACJ;;AACJ;;AAGA;;AA2CA;;AACI;;AAA8B;AAAA,qBAAS,IAAAiC,aAAA,EAAT;AAAwB,aAAxB;;AAA0B;;AACxD;;AACI;;AAEI;;AAGA;AAAA,qBAAY,IAAAC,YAAA,EAAZ;AAA0B,aAA1B;;AACI;;AAAuB;;AAAiB;;AACxC;;AACA;;AACI;;AAAqB;;AAAM;;AAC3B;;AACI;;AACJ;;AACJ;;AAEA;;AACI;;AAAqB;;AAAO;;AAC5B;;AACI;;AACJ;;AACJ;;AAEA;;AACI;;AAAqB;;AAAkB;;AACvC;;AACI;;AACJ;;AACJ;;AAEA;;AACI;;AAAqB;;AAAgB;;AACrC;;AACI;;AACJ;;AACJ;;AAEA;;AAAkC;;AAAuB;;AAC7D;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AAA8B;AAAA,qBAAS,IAAAC,WAAA,EAAT;AAAsB,aAAtB;;AAAwB;;AACtD;;AACI;;AACI;;AAAuB;;AAAwB;;AAC/C;;AACA;;AACI;;AAAqB;;AAAgB;;AACrC;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AAAqB;;AAAM;;AAC3B;;AACI;;AACI;;AAAQ;AAAA,qBAAS,IAAAC,WAAA,EAAT;AAAsB,aAAtB;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AAAI;;AAAO;;AACX;;AAAI;;AAAQ;;AAChB;;AACJ;;AACA;;AACI;;AAKJ;;AACJ;;AACA;;AAAkC;AAAA,qBAAS,IAAAN,SAAA,EAAT;AAAoB,aAApB;;AAAsB;;AAAkC;;AAC9F;;AACJ;;AACJ;;;;AA1MwE;;AAAA;;AAS5C;;AAAA;;AAIJ;;AAAA;;AA6B8C;;AAAA;;AAK1C;;AAAA;;AAUJ;;AAAA;;AAgBnB;;AAAA;;AA2Cc;;AAAA;;AAOP;;AAAA;;AAsCO;;AAAA;;AAiBiB;;AAAA;;AAcZ;;AAAA;;;;;;;;;wEDzLX9B,mB,EAAmB;gBAL/B,uDAK+B;iBALrB;AACTrJ,oBAAQ,EAAE,gBADD;AAETC,uBAAW,EAAE,6BAFJ;AAGTC,qBAAS,EAAE,CAAC,4BAAD;AAHF,W;AAKqB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEXhC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,UAAMwL,MAAM,GAAU,CACpB;AACEC,YAAI,EAAC,EADP;AAEEC,iBAAS,EAAC,mEAFZ;AAGEC,gBAAQ,EAAC,CACP;AACEF,cAAI,EAAC,EADP;AAEEC,mBAAS,EAAC;AAFZ,SADO;AAHX,OADoB,CAAtB;;UAmBaE,oB;;;;;cAAAA;;;;2BAAAA,oB;AAAoB,S;AAAA,kBANtB,CACP,4DADO,EAEP,6DAAaC,QAAb,CAAsBL,MAAtB,CAFO,CAMsB;;;;4HAApBI,oB,EAAoB;AAAA,oBAL7B,4DAK6B,EALjB,4DAKiB;AAAA,S;AALjB,O;;;;;wEAKHA,oB,EAAoB;gBARhC,sDAQgC;iBARvB;AACRE,wBAAY,EAAE,EADN;AAERC,mBAAO,EAAE,CACP,4DADO,EAEP,6DAAaF,QAAb,CAAsBL,MAAtB,CAFO;AAFD,W;AAQuB,U;;;;;;;;;;;;;;;;;;ACvBjC;AAAA;;;AAAA;AAAA;AAAA;;UAAaQ,O,GACT,iBACWC,MADX,EAEWjK,GAFX,EAGWkK,MAHX,EAIWC,QAJX,EAKWC,MALX,EAMWC,YANX,EAOWC,IAPX,EAQWC,WARX,EASWC,QATX,EAUWC,OAVX,EAWWC,UAXX,EAYWC,aAZX,EAaWC,SAbX,EAcWC,QAdX,EAc0B;AAAA;;AAbf,aAAAZ,MAAA,GAAAA,MAAA;AACA,aAAAjK,GAAA,GAAAA,GAAA;AACA,aAAAkK,MAAA,GAAAA,MAAA;AACA,aAAAC,QAAA,GAAAA,QAAA;AACA,aAAAC,MAAA,GAAAA,MAAA;AACA,aAAAC,YAAA,GAAAA,YAAA;AACA,aAAAC,IAAA,GAAAA,IAAA;AACA,aAAAC,WAAA,GAAAA,WAAA;AACA,aAAAC,QAAA,GAAAA,QAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAAC,UAAA,GAAAA,UAAA;AACA,aAAAC,aAAA,GAAAA,aAAA;AACA,aAAAC,SAAA,GAAAA,SAAA;AACA,aAAAC,QAAA,GAAAA,QAAA;AACP,O;;;;;;;;;;;;;;;;;AClBR;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACc4B;;AAA0E;;AAAc;;;;;;AAAjE;;AAAmD;;AAAA;;;;;;AAa9D;;AAA2D;;AAAgB;;;;;;AAAnE;;AAAmD;;AAAA;;;;;;AAW6C;;AACpG;;AACJ;;;;;;AADI;;AAAA;;;;;;AADJ;;AAA4E;;AAA4B;;AAExF;;AAA4B;;;;;;AAFpC;;AAAoE;;AAAA;;AAA0C;;AAAA;;AAEtG;;AAAA;;;;;;AAiBU;;AAC9B;;AACJ;;;;;;AADI;;AAAA;;;;;;;;AAFR;;AACI;;AAAI;;AAA8B;;AAElB;;AAA8B;;AAC9C;;AACI;;AAAmC;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAnC;;AACJ;;AACA;;AACI;;AAAiC;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA4B;;AAAM;;AACvE;;AACJ;;;;;;AATQ;;AAAA;;AAA4C;;AAAA;;AAEhC;;AAAA;;;;;;;;AAxChC;;AACI;;AACI;;AACI;;AACI;;AAAqB;;AAAK;;AAC1B;;AACI;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AACJ;;AAAkB;;AAAK;;AACvB;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAQ;;AAC7B;;AACI;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AACJ;;AAAkB;;AAAQ;;AAC1B;;AAGJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACA;;AACI;;AACI;;AACI;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAQ;;AAChB;;AACJ;;AACA;;AACI;;AAWJ;;AACJ;;AACA;;AACI;;AAAqB;;AAAM;;AAC3B;;AACJ;;AACA;;AACJ;;;;;;AA/CsD;;AAAA;;AAWW;;AAAA;;AAkBjD;;AAAA;;;;;;AA4BA;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;AAJZ;;AACI;;AACI;;AACA;;AAGA;;AACJ;;AACA;;AACI;;AACJ;;AACJ;;;;;;;AATQ;;AAAA;;AACc;;AAAA;;AAGd;;AAAA;;AAGqD;;AAAA;;AAAW;;;;;;AAfhF;;AACI;;AACI;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAmB;;AAC3B;;AACA;;AACI;;AAYJ;;AACJ;;;;;;AAbY;;AAAA;;;;;;AAeZ;;AACI;;AAEI;;AACI;;AAA6C;;AAA4B;;AACzE;;AAA4C;;AAA2B;;AACvE;;AAAwD;;AAAuC;;AAC/F;;AAA0D;;AAAyC;;AACnG;;AAAsD;;AAAqC;;AAC3F;;AAA2D;;AAA0C;;AACrG;;AAAuD;;AAAsC;;AAC7F;;AAAgD;;AAAgC;;AAChF;;AAA6C;;AAA4B;;AACzE;;AAA4C;;AAA2B;;AACvE;;AAAgD;;AAA+B;;AACnF;;AACJ;;AACF;;;;;;AAEF;;;;;;;;AAEA;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAA2C;;AAAkB;;;;;;;;AAC/F;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAA6C;;AAAkB;;;;;;;;;;UD7GpGC,iB;AAgBX,mCAAoBjQ,GAApB,EAAwC;AAAA;;AAApB,eAAAA,GAAA,GAAAA,GAAA;AAZb,eAAAkQ,IAAA,GAAe,KAAf;AAGA,eAAAC,aAAA,GAAgB,EAAhB;AACA,eAAAC,WAAA,GAAc,EAAd;AAMG,eAAAnQ,YAAA,GAAe,IAAI,0DAAJ,EAAf;AAIR,cAAIgG,OAAO,GAAGjG,GAAG,CAACiG,OAAlB;AACA;;;;iBAEF,oBAAQ,CACP;;;iBAED,qBAAS;AAAA;;AACP,iBAAKjG,GAAL,CAASkJ,UAAT,GACGxG,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACqH,MAAL,GAAcrH,IAAd,CADqB,CAErB;AACD,aAJH;AAKD;;;iBAED,wBAAehB,CAAf,EAAgB;AACd,iBAAKwO,aAAL,CAAmB1O,MAAnB,CAA0BE,CAA1B;;AACA,iBAAKyO,WAAL,CAAiB3O,MAAjB,CAAwBE,CAAxB;AACD;;;iBAED,2BAAkBA,CAAlB,EAAoBD,CAApB,EAAqB;AACnB,iBAAK0O,WAAL,CAAiBzO,CAAjB,EAAoBT,QAApB,GAA+BQ,CAA/B,CADmB,CAEnB;AACD;;;iBAED,0BAAiBA,CAAjB,EAAkB;AAChB,gBAAIJ,OAAO,GAAG,KAAK+O,UAAL,CAAgB1P,IAAhB,CAAqB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACkI,QAAF,CAAW3D,GAAX,KAAmBzD,CAAvB;AAAA,aAAtB,CAAd;AACA,iBAAKyO,aAAL,CAAmBnP,IAAnB,CAAwBM,OAAxB;;AACA,gBAAIgP,GAAG,GAAG,KAAKF,WAAL,CAAiBpP,IAAjB,CAAsB;AAC9BC,sBAAQ,EAACK,OAAO,CAACwH,QAAR,CAAiB3D,GADI;AAE9BjE,sBAAQ,EAAC;AAFqB,aAAtB,CAAV,CAHgB,CAOhB;;AACD;;;iBAED,yBAAgBQ,CAAhB,EAAiB;AAAA;;AACf,gBAAGA,CAAC,KAAK,GAAT,EAAa;AACM8E,sBAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAuCiB,QAAvC,GAAkD,IAAlD;AAClB,aAFD,MAEK;AACH,mBAAK1H,GAAL,CAASuQ,aAAT,GACG7N,SADH,CACa,UAACC,IAAD,EAAY;AACF6D,wBAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAuCiB,QAAvC,GAAkD,KAAlD;AACnB,uBAAI,CAAC2I,UAAL,GAAkB1N,IAAI,CAAC6N,MAAL,CAAY,UAAA5P,CAAC;AAAA,yBAAIA,CAAC,CAACkI,QAAF,CAAW5D,KAAX,CAAiBC,GAAjB,KAAyBzD,CAA7B;AAAA,iBAAb,CAAlB;AACA,oBAAI+O,GAAG,GAAE,OAAI,CAACJ,UAAd;;AACA,oBAAG3O,CAAC,IAAI,0BAAR,EAAmC;AACjC,yBAAI,CAAC2O,UAAL,sBAAsB,OAAI,CAACA,UAAL,CAAgBzI,MAAhB,CAAuB,UAACC,GAAD,EAAMC,GAAN;AAAA,2BAAcD,GAAG,CAACE,GAAJ,CAAQD,GAAG,CAACgB,QAAJ,CAAa9D,MAArB,EAA6B8C,GAA7B,CAAd;AAAA,mBAAvB,EAAwE,IAAIE,GAAJ,EAAxE,EAAmFC,MAAnF,EAAtB;;AADiC,6CAEzBtG,CAFyB;AAG/B,wBAAIJ,KAAK,GAAG,OAAI,CAAC8O,UAAL,CAAgB1P,IAAhB,CAAqB,UAAAC,CAAC;AAAA,6BAAGA,CAAC,CAACkI,QAAF,CAAW9D,MAAX,KAAsByL,GAAG,CAAC9O,CAAD,CAAH,CAAOmH,QAAP,CAAgB9D,MAAtC,IAAgDpE,CAAC,CAACkI,QAAF,CAAWrD,KAAX,KAAqBgL,GAAG,CAAC9O,CAAD,CAAH,CAAOmH,QAAP,CAAgBrD,KAAxF;AAAA,qBAAtB,CAAZ;;AACA,wBAAG,CAAClE,KAAJ,EAAU;AACR,6BAAI,CAAC8O,UAAL,CAAgBrP,IAAhB,CAAqByP,GAAG,CAAC9O,CAAD,CAAxB;AACD;AAN8B;;AAEjC,uBAAI,IAAIA,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC8O,GAAG,CAAC9F,MAAlB,EAAyBhJ,CAAC,EAA1B,EAA6B;AAAA,0BAArBA,CAAqB;AAK5B;;AACD,yBAAI,CAAC0O,UAAL,CAAgBxP,IAAhB,CAAqB,UAAS6P,CAAT,EAAYC,CAAZ,EAAe;AAClC,wBAAGD,CAAC,CAAC5H,QAAF,CAAW9D,MAAX,CAAkB4L,WAAlB,KAAkCD,CAAC,CAAC7H,QAAF,CAAW9D,MAAX,CAAkB4L,WAAlB,EAArC,EAAsE,OAAO,CAAC,CAAR;AACtE,wBAAGF,CAAC,CAAC5H,QAAF,CAAW9D,MAAX,CAAkB4L,WAAlB,KAAkCD,CAAC,CAAC7H,QAAF,CAAW9D,MAAX,CAAkB4L,WAAlB,EAArC,EAAsE,OAAO,CAAP;AACtE,2BAAO,CAAP;AAED,mBALD;AAMD;AACF,eApBH;AAqBD;AACF;;;iBAED,yBAAgBlP,CAAhB,EAAiB;AAEf;AAEA,gBAAGA,CAAC,KAAK,MAAT,EAAgB;AACd,mBAAKwO,IAAL,GAAY,IAAZ;AACA,mBAAKW,SAAL;AACD,aAHD,MAGK;AACH,kBAAIC,kBAAkB,GAAG,KAAKtQ,KAAL,CAAWG,IAAX,CAAgB,UAAAC,CAAC;AAAA,uBAAIA,CAAC,CAACC,IAAF,IAAUa,CAAd;AAAA,eAAjB,CAAzB;AACA,mBAAKqP,cAAL,GAAsBD,kBAAtB;AACA,mBAAKZ,IAAL,GAAY,KAAZ;;AACA,kBAAGY,kBAAH,EAAsB;AACpB,qBAAKlL,UAAL,GAAkBkL,kBAAkB,CAAC7P,QAAnB,CAA4B2E,UAA5B,CAAuCkL,kBAAkB,CAACE,OAA1D,CAAlB;AAED,eAHD,MAGK;AACH,qBAAKpL,UAAL,GAAkBqL,SAAlB;AACD;AACF;AACF;;;iBAED,mBAAO;AACL,iBAAKC,SAAL,GAAiB,KAAjB;AACA,iBAAKjR,YAAL,CAAkBM,IAAlB;AACD;;;iBAED,6BAAiB;AAAA;;AACf,gBAAI4Q,WAAW,GAAG;AAChBtQ,kBAAI,EAAC,GADW;AAEhBuQ,oBAAM,EAAoB5K,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAoCC,KAF9C;AAGhBT,qBAAO,YAAI,KAAKjG,GAAL,CAASiG,OAAT,CAAiBoJ,MAArB,cAA+B,KAAKrP,GAAL,CAASiG,OAAT,CAAiBqJ,QAAhD,CAHS;AAIhBrO,sBAAQ,EAAC;AACP2E,0BAAU,EAAC,CAAC,EAAD;AADJ;AAJO,aAAlB;AASAuL,uBAAW,CAAClQ,QAAZ,CAAqB2E,UAArB,CAAgC,CAAhC,IAAqC,KAAKwK,WAA1C,CAVe,CAYf;;AAEA,iBAAKpQ,GAAL,CAASqR,OAAT,CAAiBF,WAAjB,EACEzO,SADF,CACY,UAACC,IAAD,EAAY;AACrB,iEAAKd,IAAL,CACE;AACEkB,iCAAiB,EAAC,KADpB;AAEEjB,qBAAK,EAAC,QAFR;AAGCgB,oBAAI,EAAC,uCAHN;AAIEX,oBAAI,EAAC,SAJP;AAKEuH,qBAAK,EAAC;AALR,eADF;AASA,qBAAI,CAAC0G,WAAL,GAAmB,EAAnB;;AACA,qBAAI,CAACxN,OAAL;AACD,aAbF;AAeD;;;iBAED,8BAAkB;AAAA;;AAEhB,gBAAI0O,SAAS,GAAG,CAAhB;AAEA,gBAAIH,WAAW,GAAG;AAChBtQ,kBAAI,EAAC,KAAKkQ,cAAL,CAAoBlQ,IADT;AAEhBuQ,oBAAM,EAAoB5K,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAkCC,KAF5C;AAGhBT,qBAAO,YAAI,KAAKjG,GAAL,CAASiG,OAAT,CAAiBoJ,MAArB,cAA+B,KAAKrP,GAAL,CAASiG,OAAT,CAAiBqJ,QAAhD,CAHS;AAIhBrO,sBAAQ,EAAC;AACP2E,0BAAU,EAAC,CAAC,EAAD;AADJ;AAJO,aAAlB;;AASF,iBAAI,IAAIjE,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,KAAKiE,UAAL,CAAgB+E,MAA9B,EAAqChJ,CAAC,EAAtC,EAAyC;AACvC,kBAAI4P,EAAE,GAAG5P,CAAC,CAAC8F,QAAF,EAAT;;AAEA,kBAAIvG,QAAQ,GAAsBsF,QAAQ,CAACC,cAAT,CAAwB8K,EAAxB,EAA6B7K,KAA/D;AACA,kBAAIzF,QAAQ,GAAsBuF,QAAQ,CAACC,cAAT,CAAwB8K,EAAxB,EAA6BrK,IAA/D;AAEA,kBAAIsK,GAAG,GAAGC,MAAM,CAACvQ,QAAD,CAAhB;;AAEA,kBAAGsQ,GAAG,GAAG,CAAT,EAAW;AAETF,yBAAS;AACTH,2BAAW,CAAClQ,QAAZ,CAAqB2E,UAArB,CAAgC,CAAhC,EAAmC5E,IAAnC,CAAwC;AACtCE,0BAAQ,EAARA,QADsC;AAEtCD,0BAAQ,EAARA;AAFsC,iBAAxC;AAID,eAfsC,CAkBvC;;AAGD;;AAED,gBAAGqQ,SAAS,GAAC,CAAb,EAAe;AAEb,mBAAKtR,GAAL,CAASqR,OAAT,CAAiBF,WAAjB,EACCzO,SADD,CACW,UAACC,IAAD,EAAY;AACrB,mEAAKd,IAAL,CACE;AACEkB,mCAAiB,EAAC,KADpB;AAEEjB,uBAAK,EAAC,QAFR;AAGEgB,sBAAI,EAAC,uCAHP;AAIEX,sBAAI,EAAC,SAJP;AAKEuH,uBAAK,EAAC;AALR,iBADF;;AASA,uBAAI,CAAC9G,OAAL;AACD,eAZD;AAcD,aAhBD,MAgBK;AACH,iEAAKf,IAAL,CACE;AACEkB,iCAAiB,EAAC,KADpB;AAEEjB,qBAAK,EAAC,QAFR;AAGEgB,oBAAI,EAAC,2DAHP;AAIEX,oBAAI,EAAC;AAJP,eADF;AASA;AACD;AAKF;;;;;;;yBA5MY8N,iB,EAAiB,iJ;AAAA,O;;;cAAjBA,iB;AAAiB,qC;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,iB;AAAA,gB;AAAA,kgD;AAAA;AAAA;ACT9B;;AACI;;AAA8B;AAAA,qBAAS,IAAArN,OAAA,EAAT;AAAkB,aAAlB;;AAAoB;;AAClD;;AACI;;AACI;;AACI;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAA+B;;AACpD;;AACI;;AAAQ;AAAA,qBAAU,IAAA8O,eAAA,qBAAV;AAA8C,aAA9C;;AACJ;;AAAiB;;AAAa;;AAC9B;;AAAoC;;AAAgB;;AACpD;;AACJ;;AACJ;;AACJ;;AACA;;AACA;;AAwDA;;AAqBA;;AAmBA;;AAEA;;AACA;;AACR;;AACJ;;AACJ;;;;AAzHmB;;AAcuD;;AAAA;;AAKxB;;AAAA;;AAwDA;;AAAA;;AAqBf;;AAAA;;AAmBf;;AAAA;;AAE4D;;AAAA;;AACC;;AAAA;;;;;;;;;wED7GpEzB,iB,EAAiB;gBAL7B,uDAK6B;iBALnB;AACThN,oBAAQ,EAAE,cADD;AAETC,uBAAW,EAAE,2BAFJ;AAGTC,qBAAS,EAAE,CAAC,0BAAD;AAHF,W;AAKmB,U;;;;;AAYnB+N,mBAAS;kBAAjB;AAAiB,Y;AACT1Q,eAAK;kBAAb;AAAa,Y;AACJP,sBAAY;kBAArB;AAAqB;;;;;;;;;;;;;;;;;;;AEvBxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAuBa0R,yB;;;;;cAAAA;;;;2BAAAA,yB;AAAyB,S;AAAA,kBAT3B,CACP,4DADO,EAEP,4DAFO,EAGP,qEAHO,EAIP,qGAJO,EAKP,0DALO,EAMP,kEANO,CAS2B;;;;4HAAzBA,yB,EAAyB;AAAA,yBAVrB,kEAUqB,EAVN,oFAUM,EAVe,iFAUf;AAViC,oBAEnE,4DAFmE,EAGnE,4DAHmE,EAInE,qEAJmE,EAKnE,qGALmE,EAMnE,0DANmE,EAOnE,kEAPmE;AAUjC,S;AAHf,O;;;;;wEAGVA,yB,EAAyB;gBAXrC,sDAWqC;iBAX5B;AACR1C,wBAAY,EAAE,CAAC,kEAAD,EAAgB,oFAAhB,EAAqC,iFAArC,CADN;AAERC,mBAAO,EAAE,CACP,4DADO,EAEP,4DAFO,EAGP,qEAHO,EAIP,qGAJO,EAKP,0DALO,EAMP,kEANO;AAFD,W;AAW4B,U;;;;;;;;;;;;;;;;;;ACvBtC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAQA,UAAMP,MAAM,GAAU,CACpB;AACEC,YAAI,EAAC,EADP;AAEEC,iBAAS,EAAC,4FAFZ;AAGEC,gBAAQ,EAAC,CACP;AACEF,cAAI,EAAC,EADP;AAEEC,mBAAS,EAAC;AAFZ,SADO,EAKP;AACED,cAAI,EAAC,YADP;AAEEC,mBAAS,EAAC;AAFZ,SALO,EASP;AACED,cAAI,EAAC,WADP;AAEEC,mBAAS,EAAC;AAFZ,SATO;AAHX,OADoB,CAAtB;;UA2Ba+C,gC;;;;;cAAAA;;;;2BAAAA,gC;AAAgC,S;AAAA,kBALlC,CACP,4DADO,EAEP,6DAAa5C,QAAb,CAAsBL,MAAtB,CAFO,CAKkC;;;;4HAAhCiD,gC,EAAgC;AAAA,oBAJzC,4DAIyC,EAJ7B,4DAI6B;AAAA,S;AAJ7B,O;;;;;wEAIHA,gC,EAAgC;gBAP5C,sDAO4C;iBAPnC;AACR3C,wBAAY,EAAE,EADN;AAERC,mBAAO,EAAE,CACP,4DADO,EAEP,6DAAaF,QAAb,CAAsBL,MAAtB,CAFO;AAFD,W;AAOmC,U;;;;;;;;;;;;;;;;;;ACnC7C;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOakD,qB;AAEX,yCAAc;AAAA;AAAG;;;;iBAEjB,oBAAQ,CACP;;;;;;;yBALUA,qB;AAAqB,O;;;cAArBA,qB;AAAqB,yC;AAAA,gB;AAAA,e;AAAA;AAAA;ACNlC;;AACA;;;;;;;;;wEDKaA,qB,EAAqB;gBALjC,uDAKiC;iBALvB;AACT5O,oBAAQ,EAAE,kBADD;AAETC,uBAAW,EAAE,+BAFJ;AAGTC,qBAAS,EAAE,CAAC,8BAAD;AAHF,W;AAKuB,U;;;;;;;;;;;;;;;;;;;;AEPlC;AAAA;;;AAAA;AAAA;AAAA,S,CAAA;AACA;AACA;;;AAEO,UAAM2O,WAAW,GAAG;AACzBC,kBAAU,EAAE,KADa;AAEzB;AAEC/R,WAAG,EAAE,8BAJmB,CAKzB;;AALyB,OAApB;AAQP;;;;;;;AAOA;;;;;;;;;;;;;;;;;ACnBA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;UAOagS,iB;AAKX,qCAAc;AAAA;;AAFJ,eAAA/R,YAAA,GAAe,IAAI,0DAAJ,EAAf;AAEO;;;;iBAEjB,oBAAQ,CACP;;;iBAED,mBAAO;AACL,iBAAKK,QAAL,GAAgB,KAAhB;AACA,iBAAKL,YAAL,CAAkBM,IAAlB;AACD;;;;;;;yBAbUyR,iB;AAAiB,O;;;cAAjBA,iB;AAAiB,qC;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,gB;AAAA,e;AAAA,8I;AAAA;AAAA;ACP9B;;AACI;;AAA8B;AAAA,qBAAS,IAAApP,OAAA,EAAT;AAAkB,aAAlB;;AAAoB;;AAClD;;AACI;;AACI;;AACI;;AACJ;;AACA;;AAEJ;;AACJ;;AACJ;;;;AAXmB;;;;;;;;;wEDONoP,iB,EAAiB;gBAL7B,uDAK6B;iBALnB;AACT/O,oBAAQ,EAAE,cADD;AAETC,uBAAW,EAAE,2BAFJ;AAGTC,qBAAS,EAAE,CAAC,0BAAD;AAHF,W;AAKmB,U;;;AAEnB7C,kBAAQ;kBAAhB;AAAgB,Y;AACPL,sBAAY;kBAArB;AAAqB;;;;;;;;;;;;;;;;;;;AEVxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQagS,4B;AAEX,8CAAoBjS,GAApB,EAAwC;AAAA;;AAApB,eAAAA,GAAA,GAAAA,GAAA;AAClB,eAAKiG,OAAL,GAAejG,GAAG,CAACiG,OAAnB;AACF;;;;iBAEA,oBAAQ,CACP;;;;;;;yBAPUgM,4B,EAA4B,0I;AAAA,O;;;cAA5BA,4B;AAA4B,iD;AAAA,gB;AAAA,e;AAAA;AAAA;ACRzC;;AACA;;;;;;;;;wEDOaA,4B,EAA4B;gBALxC,uDAKwC;iBAL9B;AACThP,oBAAQ,EAAE,0BADD;AAETC,uBAAW,EAAE,uCAFJ;AAGTC,qBAAS,EAAE,CAAC,sCAAD;AAHF,W;AAK8B,U;;;;;;;;;;;;;;;;;;;;;;AERzC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;AC2CY;;AAAwD;;AAAwB;;;;;;;;AAGlF;;AAAqE;AAAA;;AAAA;;AAAA;AAAA;;AAAwB;;AAAkB;;;;;;;;;;UDpC5G+O,e;AAEX,iCAAoBC,cAApB,EAAmD;AAAA;;AAA/B,eAAAA,cAAA,GAAAA,cAAA;AAKb,eAAAC,WAAA,GAAsB,KAAtB;AAEP,eAAAC,KAAA,GAAQ,EAAR;AACA,eAAAC,KAAA,GAAQ,EAAR;AAPE,eAAKrM,OAAL,GAAekM,cAAc,CAAClM,OAA9B;AACD;;;;iBASD,oBAAQ,CACP;;;iBAED,kBAAM;AACJ,iBAAKkM,cAAL,CAAoBI,MAApB;AACD;;;iBAED,mBAAO;AACL,gBAAG,KAAKH,WAAR,EAAoB;AAClB,mBAAKA,WAAL,GAAmB,KAAnB;AACD,aAFD,MAEK;AACH,mBAAKA,WAAL,GAAmB,IAAnB;AACD;AACF;;;iBAED,uBAAW;AAAA;;AACT,gBAAInJ,IAAI,GAAG;AACTuJ,oBAAM,EAAC,KAAKvM,OAAL,CAAasJ,MADX;AAETkD,kBAAI,EAAC,KAAKJ;AAFD,aAAX;AAKA,iBAAKF,cAAL,CAAoBO,iBAApB,CAAsCzJ,IAAtC,EACGvG,SADH,CACa,UAACC,IAAD,EAAY;AACrB,iEAAKd,IAAL,CAAU;AACRC,qBAAK,EAAC,qBADE;AAERgB,oBAAI,EAAC,oCAFG;AAGRX,oBAAI,EAAC;AAHG,eAAV;AAKA,qBAAI,CAACkQ,KAAL,GAAa,EAAb;AACA,qBAAI,CAACC,KAAL,GAAa,EAAb;;AACA,qBAAI,CAACK,OAAL;AACD,aAVH;AAWD;;;;;;;yBA7CUT,e,EAAe,iJ;AAAA,O;;;cAAfA,e;AAAe,mC;AAAA,iB;AAAA,e;AAAA,oxB;AAAA;AAAA;ACV5B;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AACJ;;AAEA;;AACE;;AAAuB;AAAA,qBAAS,IAAAS,OAAA,EAAT;AAAkB,aAAlB;;AACrB;;AACF;;AACA;;AAAuB;AAAA,qBAAS,IAAAJ,MAAA,EAAT;AAAiB,aAAjB;;AACrB;;AACF;;AACF;;AACF;;AACF;;AACN;;AAEF;;AACE;;AAA8B;AAAA,qBAAS,IAAAI,OAAA,EAAT;AAAkB,aAAlB;;AAAoB;;AAClD;;AACE;;AACE;;AAA8B;;AAAoB;;AACpD;;AACE;;AACI;;AACE;;AAAqB;;AAAgB;;AACrC;;AACE;;AAAqC;AAAA;AAAA;;AAArC;;AACF;;AACF;;AAEA;;AACE;;AAAqB;;AAAkB;;AACvC;;AACE;;AAAqC;AAAA;AAAA;;AAArC;;AACF;;AACA;;AACF;;AAEA;;AACJ;;AACJ;;AACF;;;;AAxCgB;;AAAA;;AAeG;;AAAA;;AAUgC;;AAAA;;AAOA;;AAAA;;AAErB;;AAAA;;AAGW;;AAAA;;;;;;;;;wEDpC5BT,e,EAAe;gBAL3B,uDAK2B;iBALjB;AACTjP,oBAAQ,EAAE,YADD;AAETC,uBAAW,EAAE,yBAFJ;AAGTC,qBAAS,EAAE,CAAC,wBAAD;AAHF,W;AAKiB,U;;;;;;;;;;;;;;;;;;;;;;AEV5B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAoBayP,a;;;;;cAAAA;;;;2BAAAA,a;AAAa,S;AAAA,kBAPf,CACP,4DADO,EAEP,4EAFO,EAGP,0DAHO,EAIP,kEAJO,CAOe;;;;4HAAbA,a,EAAa;AAAA,yBART,kEAQS,EARM,+FAQN,EAR6B,yFAQ7B;AARgD,oBAEtE,4DAFsE,EAGtE,4EAHsE,EAItE,0DAJsE,EAKtE,kEALsE;AAQhD,S;AAHH,O;;;;;wEAGVA,a,EAAa;gBATzB,sDASyB;iBAThB;AACR3D,wBAAY,EAAE,CAAC,kEAAD,EAAgB,+FAAhB,EAAuC,yFAAvC,CADN;AAERC,mBAAO,EAAE,CACP,4DADO,EAEP,4EAFO,EAGP,0DAHO,EAIP,kEAJO;AAFD,W;AASgB,U;;;;;;;;;;;;;;;;;;ACpB1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOa2D,oB;AAEX,wCAAc;AAAA;AAAG;;;;iBAEjB,oBAAQ,CACP;;;;;;;yBALUA,oB;AAAoB,O;;;cAApBA,oB;AAAoB,wC;AAAA,gB;AAAA,e;AAAA;AAAA;ACPjC;;AAAG;;AAAkB;;;;;;;;wEDORA,oB,EAAoB;gBALhC,uDAKgC;iBALtB;AACT5P,oBAAQ,EAAE,iBADD;AAETC,uBAAW,EAAE,8BAFJ;AAGTC,qBAAS,EAAE,CAAC,6BAAD;AAHF,W;AAKsB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UEApB2P,oB;AAGX,wCAAc;AAAA;;AAFd,eAAAC,OAAA,GAAU,yEAAY/S,GAAtB;AAEiB;;;;iBAGX,wBACJgT,OADI,EAEJlG,IAFI,EAGJ9D,EAHI,EAGK;;;;;;;;AAIDiK,yB,aAAS,KAAKF,O,qBAAkBjG,I,cAAQ9D,E;AACxCkK,8B,GAAW,IAAIC,QAAJ,E;AACjBD,8BAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA2BJ,OAA3B;;AAEa,6BAAMK,KAAK,CAAEJ,GAAF,EAAO;AAC7BK,8BAAM,EAAC,KADsB;AAE7BC,+BAAO,EAAE;AACP,2CAAiBC,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC;AAD3C,yBAFoB;AAK7BC,4BAAI,EAAER;AALuB,uBAAP,CAAX;;;AAAPvQ,0B;;AAQO,6BAAMA,IAAI,CAACgR,IAAL,EAAN;;;AAAP1K,0B;;2BACFA,IAAI,CAAC2K,E;;;;;AACP,yEAAK/R,IAAL,CAAU,YAAV,EAAwB,0CAAxB,EAAoE,SAApE;uDACOoH,IAAI,CAAC7B,G;;;AAEZ,yEAAKvF,IAAL,CAAU,OAAV,EAAmBoH,IAAI,CAAC4K,GAAL,CAASC,OAA5B,EAAqC,OAArC;uDAEO,K;;;uDAEF,Y;;;;;uDAKA,K;;;;;;;;;AAGV;;;;;;;yBA1CUhB,oB;AAAoB,O;;;eAApBA,oB;AAAoB,iBAApBA,oBAAoB,K;AAAA,oBAFnB;;;;;wEAEDA,oB,EAAoB;gBAHhC,wDAGgC;iBAHrB;AACViB,sBAAU,EAAE;AADF,W;AAGqB,U;;;;;;;;;;;;;;;;;;;;ACPjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQaC,S;AAEX,2BAAoBhU,GAApB,EACoBiU,MADpB,EACiC;AAAA;;AADb,eAAAjU,GAAA,GAAAA,GAAA;AACA,eAAAiU,MAAA,GAAAA,MAAA;AAEnB;;;;iBAED,qBACEC,KADF,EAEEC,KAFF,EAE4B;AAAA;;AAExB,mBAAO,KAAKnU,GAAL,CAASoU,YAAT,GACNC,IADM,CAEL,2DAAI,UAAAC,MAAM,EAAG;AACX,kBAAI,CAACA,MAAL,EAAY;AACV,uBAAI,CAACL,MAAL,CAAYM,aAAZ,CAA0B,OAA1B;AACD;AACF,aAJD,CAFK,CAAP;AAQH;;;;;;;yBAnBUP,S,EAAS,iI,EAAA,8G;AAAA,O;;;eAATA,S;AAAS,iBAATA,SAAS,K;AAAA,oBAFR;;;;;wEAEDA,S,EAAS;gBAHrB,wDAGqB;iBAHV;AACVD,sBAAU,EAAE;AADF,W;AAGU,U;;;;;;;;;;;;;;;;;;;;;;;;ACRtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AASA,UAAMpF,MAAM,GAAU,CACpB;AACEC,YAAI,EAAC,EADP;AAEEC,iBAAS,EAAC,mEAFZ;AAGEC,gBAAQ,EAAC,CACP;AACEF,cAAI,EAAC,EADP;AAEEC,mBAAS,EAAC;AAFZ,SADO,EAKP;AACED,cAAI,EAAC,SADP;AAEEC,mBAAS,EAAC;AAFZ,SALO;AAHX,OADoB,CAAtB;;UAwBa2F,oB;;;;;cAAAA;;;;2BAAAA,oB;AAAoB,S;AAAA,kBALtB,CACP,4DADO,EAEP,6DAAaxF,QAAb,CAAsBL,MAAtB,CAFO,CAKsB;;;;4HAApB6F,oB,EAAoB;AAAA,oBAJ7B,4DAI6B,EAJjB,4DAIiB;AAAA,S;AAJjB,O;;;;;wEAIHA,oB,EAAoB;gBAPhC,sDAOgC;iBAPvB;AACRvF,wBAAY,EAAE,EADN;AAERC,mBAAO,EAAE,CACP,4DADO,EAEP,6DAAaF,QAAb,CAAsBL,MAAtB,CAFO;AAFD,W;AAOuB,U;;;;;;;;;;;;;;;;;;ACjCjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACwBgB;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAAwF;;AAAa;;;;;;AAD3I;;AACI;;AAAgJ;;AACpJ;;;;;;AADsE;;AAAA;;;;;;AAQ1D;;AAA8D;;AAAW;;;;;;AAAjE;;AAAsD;;AAAA;;;;;;;;AAH1E;;AACQ;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AACJ;;AAAQ;;AAAgB;;AACxB;;AACJ;;AACJ;;;;;;AAFoC;;AAAA;;;;;;AAJxC;;AACA;;AAMA;;;;;;AANoB;;AAAA;;;;;;;;AAQnB;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAA2F;;AAAe;;;;;;AAD7I;;AACA;;AAAC;;AACD;;;;;;AADuE;;AAAA;;;;;;;;AAEtE;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAA2D;;AAAwB;;;;;;;;AACrH;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAA0D;;AAAuB;;;;;;;;AAgCpF;;AACI;;AAAkE;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAlE;;AACJ;;;;;;AADuC;;AAAA;;;;;;AAEvC;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;AARZ;;AACI;;AAAI;;AAAgB;;AACpB;;AAAI;;AAAsB;;AAC1B;;AACI;;AAGA;;AAGJ;;AACA;;AAAI;;AAAgB;;AACpB;;AAAI;;AAAqB;;AAC7B;;;;;;;;;;AAZQ;;AAAA;;AACA;;AAAA;;AAEc;;AAAA;;AAGA;;AAAA;;AAId;;AAAA;;AACA;;AAAA;;;;;;;;AAIhB;;AAAkC;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAC9B;;AACI;;AACJ;;AACA;;AAAM;;AAAiB;;AAC3B;;;;;;;;AACE;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAChC;;AACI;;AACJ;;AACA;;AAAM;;AAAK;;AACb;;;;;;;;AACA;;AAAoD;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAClD;;AACI;;AACJ;;AACA;;AAAM;;AAAU;;AAClB;;;;;;AArDd;;AACI;;AACI;;AACI;;AAAI;;AAAyB;;AACjC;;AACJ;;AACA;;AACI;;AACG;;AACC;;AACI;;AACI;;AACI;;AAAI;;AAAE;;AACN;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAE;;AACN;;AAAI;;AAAO;;AACf;;AACJ;;AACA;;AACI;;AAcJ;;AACJ;;AACA;;AAKS;;AACP;;AAKS;;AACT;;AAMH;;AACH;;AACJ;;AACJ;;;;;;;;;AAtDgB;;AAAA;;AAiBQ;;AAAA;;AAgB+C;;AAAA;;AAML;;AAAA;;AAMlB;;AAAA;;;;;;AArDpD;;AACI;;AACI;;AACJ;;AAEA;;AA0DJ;;;;;;AA1DsC;;AAAA;;;;;;AA6DtC;;AACI;;AAA4B;;AAChC;;;;;;AAHA;;AACA;;AAGA;;;;;;AAHuB;;AAAA;;;;;;;;AA0BP;;AAAkC;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAgF;;AAAS;;;;;;;;AAK/G;;AAAkC;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAyE;;AAAS;;;;;;AADxH;;AACI;;AACA;;AAKJ;;;;;;;;AAN+E;;AAAA;;AAC3E;;AAAA;;;;;;AAHR;;AACI;;AAQJ;;;;;;;;AARkB;;AAAA;;;;;;AAX1B;;AACI;;AAAI;;AAAsB;;AAC1B;;AAAI;;AAAmC;;AACvC;;AAAI;;AAA0B;;AAC9B;;AAAI;;AAA+F;;AACnG;;AAAI;;AAA0B;;AAC9B;;AAAI;;AAAiB;;AACrB;;AACA;;AAEI;;AAYJ;;AACJ;;;;;;;;AAtBQ;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACuE;;AAAA;;AAGzD;;AAAA;;;;;;AAXtB;;AACA;;AAwBA;;;;;;AAxBc;;AAAA;;;;;;AAdtB;;AACI;;AACI;;AACI;;AAAI;;AAAK;;AACT;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAO;;AACX;;AAAI;;AAAW;;AACf;;AAAI;;AAAe;;AACnB;;AAAI;;AAAc;;AAClB;;AAAI;;AAAS;;AACjB;;AACJ;;AACA;;AACI;;AA0BJ;;AACJ;;;;;;AA3BY;;AAAA;;;;;;AAdhB;;AACI;;AAyCJ;;;;;;AAzCsC;;AAAA;;;;;;AA4CtC;;AACI;;AAAsB;;AAC1B;;;;;;AAgBgB;;AACI;;AAAI;;AAAiB;;AACrB;;AAAI;;AAA0B;;AAC9B;;AAAI;;AAAiB;;AACrB;;AAAI;;AAAqB;;AACzB;;AAAI;;AAA+D;;AACvE;;;;;;AALQ;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AANZ;;AACI;;AAOJ;;;;;;;;AAPQ;;AAAA;;;;;;;;AAaR;;AAAkC;AAAA;;AAAA;;AAAA;;AAAA,wIAAgG,CAAhG;AAAiG,WAAjG;;AAAoI;;AAAiB;;;;;;AAD3L;;AACI;;AACJ;;;;;;AAD0I;;AAAA;;;;;;AAF9I;;AACI;;AAGJ;;;;;;;;AAHkB;;AAAA;;;;;;;;AA1BtB;;AACI;;AAAO;;AAAG;;AAAsB;;AAAK;;AACrC;;AACI;;AACI;;AACI;;AAAI;;AAAK;;AACT;;AAAI;;AAAO;;AACX;;AAAI;;AAAc;;AAClB;;AAAI;;AAAkB;;AACtB;;AAAI;;AAAQ;;AAChB;;AACJ;;AACA;;AACI;;AASJ;;AACJ;;AACA;;AACA;;AAKA;;AAAiC;AAAA;;AAAA;;AAAA;;AAAA,oHAAiF,CAAjF;AAAkF,WAAlF;;AAAqF;;AAAgB;;AACtI;;AACJ;;;;;;;;AA/Bc;;AAAA;;AAA2B;;AAAA;;AAYf;;AAAA;;AAYR;;AAAA;;;;;;AA1BlB;;AACA;;AAiCA;;;;;;AAjCc;;AAAA;;;;;;AALd;;AACA;;AAGA;;AAmCJ;;;;;;AAtC2B;;AAAA;;AAGlB;;AAAA;;;;;;AAwDe;;AAAyJ;;AAAsB;;;;;;AAAvK;;AAAiJ;;AAAA;;;;;;AAD7J;;AACI;;AACJ;;;;;;AADoH;;AAAA;;;;;;;;;;UD/MnI8F,gB;AA0BX,kCAAoBzU,GAApB,EAAwC;AAAA;;AAApB,eAAAA,GAAA,GAAAA,GAAA;AAxBb,eAAA0U,QAAA,GAAW,EAAX;AAEA,eAAAC,aAAA,GAAwB,KAAxB;AACA,eAAAC,IAAA,GAAO,WAAP;AAGA,eAAAC,GAAA,GAAM,mCAAM,GAAGxU,MAAT,CAAgB,YAAhB,CAAN;AACA,eAAAsM,KAAA,GAAQ,EAAR;AACA,eAAAD,SAAA,GAAY,EAAZ;AAEA,eAAA3C,MAAA,GAAS,EAAT;AACA,eAAAvJ,KAAA,GAAQ,EAAR;AAEA,eAAAsU,EAAA,GAAa,KAAb;AACA,eAAAxU,QAAA,GAAmB,KAAnB;AAEA,eAAAyU,SAAA,GAAY,EAAZ;AAEA,eAAAC,IAAA,GAAO,CAAC,CAAR;AAGP,eAAAC,UAAA,GAAqB,KAArB;AACA,eAAA/D,SAAA,GAAoB,KAApB;AAGI,eAAKjL,OAAL,GAAejG,GAAG,CAACiG,OAAnB;AACD;;;;iBAEH,oBAAQ;AAAA;;AACN,iBAAKiP,KAAL;AACA,iBAAKC,WAAL;AACA,iBAAKC,YAAL;AACA,iBAAKC,UAAL;AACA,iBAAKC,YAAL;AACA,iBAAKtV,GAAL,CAAS8J,SAAT,GACGpH,SADH,CACa,UAACC,IAAD,EAAY;AAErB,qBAAI,CAACoH,MAAL,GAAcpH,IAAI,CAACqH,MAAnB,CAFqB,CAGrB;AACD,aALH;AAMD;;;iBAED,iBAAQtI,CAAR,EAAUd,CAAV,EAAY2U,CAAZ,EAAa;AACX,iBAAKR,SAAL,CAAenU,CAAf,EAAkBN,QAAlB,CAA2BiV,CAA3B,EAA8BrU,QAA9B,GAAyCuQ,MAAM,CAAC/P,CAAD,CAA/C;AAEA,iBAAK1B,GAAL,CAASwV,YAAT,CAAsB,KAAKT,SAAL,CAAenU,CAAf,EAAkBuE,GAAxC,EAA6C,KAAK4P,SAAL,CAAenU,CAAf,CAA7C,EACC8B,SADD,CACW,UAACC,IAAD,EAAY,CACrB;AACD,aAHD,EAHW,CAOX;AACD;;;iBAED,0BAAc;AACZ,iBAAKrC,QAAL,GAAgB,IAAhB;AACD;;;iBAED,qBAAYM,CAAZ,EAAa;AACX,iBAAKoU,IAAL,GAAYpU,CAAZ;AACD;;;iBAED,iBAAK;AACH,iBAAKoU,IAAL,GAAY,CAAC,CAAb;AACD;;;iBAED,qBAAYhM,EAAZ,EAAepI,CAAf,EAAgB;AAAA;;AACd,iBAAKZ,GAAL,CAASyV,WAAT,CAAqBzM,EAArB,EAAwB,KAAK+L,SAAL,CAAenU,CAAf,CAAxB,EACG8B,SADH,CACa,UAACC,IAAD,EAAY;AACrB;AACA,kBAAGA,IAAI,CAACnC,KAAR,EAAc;AACZ,mEAAKqB,IAAL,CAAU;AACRC,uBAAK,EAAC,iBADE;AAERgB,sBAAI,oCAA4BH,IAAI,CAACnC,KAAjC,8CAFI;AAGR2B,sBAAI,EAAC,OAHG;AAIRY,mCAAiB,EAAC;AAJV,iBAAV;AAMD,eAPD,MAOK;AACL,mEAAKlB,IAAL,CAAU;AACRC,uBAAK,EAAC,oBADE;AAERgB,sBAAI,EAAC,kCAFG;AAGRX,sBAAI,EAAC,SAHG;AAIRY,mCAAiB,EAAC;AAJV,iBAAV;AAMD;;AACC,qBAAI,CAACuS,YAAL;AACD,aAnBH;AAoBD;;;iBAED,wBAAY;AAAA;;AACV,iBAAKtV,GAAL,CAAS0V,WAAT,GACChT,SADD,CACW,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACoS,SAAL,GAAiBpS,IAAjB,CADqB,CAErB;AACD,aAJD;AAKD;;;iBAED,2BAAe;AACb,gBAAG,KAAKuO,SAAR,EAAkB;AAChB,mBAAKA,SAAL,GAAiB,KAAjB;AACD,aAFD,MAEK;AACH,mBAAKA,SAAL,GAAiB,IAAjB;AACD;AACF;;;iBAED,sBAAU;AAAA;;AACR,iBAAKlR,GAAL,CAAS2V,QAAT,GACCjT,SADD,CACY,UAACC,IAAD,EAAc;AACxB,qBAAI,CAACnC,KAAL,GAAamC,IAAb;AACD,aAHD;AAKD;;;iBAED,iBAAQgE,CAAR,EAAS;AACP,gBAAGA,CAAC,IAAI,CAAR,EAAU;AACR,mBAAKmO,EAAL,GAAU,IAAV;AACD;AACF;;;iBAED,gBAAOrS,KAAP,EAAY;AACV,gBAAImT,gBAAgB,GAAG,mCAAM,CAACnT,KAAD,CAAN,CAAcpC,MAAd,CAAqB,YAArB,CAAvB;AACA,mBAAOuV,gBAAP;AACD;;;iBAED,4BAAgB;AACd,gBAAG,KAAKX,UAAR,EAAmB;AACjB,mBAAKA,UAAL,GAAkB,KAAlB;AACD,aAFD,MAEK;AACH,mBAAKA,UAAL,GAAkB,IAAlB;AACD;AACF;;;iBAED,+BAAmB;AACjB,gBAAG,CAAC,KAAKN,aAAT,EAAuB;AACrB,mBAAKA,aAAL,GAAqB,IAArB;AACD,aAFD,MAEK;AACH,mBAAKA,aAAL,GAAqB,KAArB;AACD;AACF;;;iBACD,cAAKjT,CAAL,EAAM;AACJ,iBAAKkT,IAAL,GAAYlT,CAAC,CAACoF,MAAF,CAASJ,KAArB;AACA,iBAAKgO,QAAL,GAAgB,EAAhB;AACA,iBAAKQ,KAAL;AACD;;;iBAED,uBAAW;AAAA;;AACT,iBAAKlV,GAAL,CAASyN,WAAT,GACG/K,SADH,CACa,UAAAC,IAAI,EAAG;AAChB,qBAAI,CAAC8J,QAAL,GAAgB9J,IAAhB;;AACA,qBAAI,CAACgL,YAAL;AACD,aAJH;AAKD;;;iBAED,wBAAY;AACV,gBAAI/M,CAAC,GAAG,KAAK6L,QAAL,CAAc9B,MAAtB;;AACA,iBAAI,IAAIhJ,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAEf,CAAlB,EAAqBe,CAAC,EAAtB,EAAyB;AACvB,kBAAIuI,IAAI,GAAG,KAAKwC,SAAL,CAAevE,QAAf,CAAwB,KAAKsE,QAAL,CAAc9K,CAAd,EAAiBmL,IAAzC,CAAX;;AACA,kBAAG,CAAC5C,IAAJ,EAAS;AACP,qBAAKwC,SAAL,CAAe1L,IAAf,CAAoB,KAAKyL,QAAL,CAAc9K,CAAd,EAAiBmL,IAArC;AACD;AACF;AACF;;;iBAED,4BAAmBpL,CAAnB,EAAoB;AAClB,gBAAImU,WAAW,GAAGnU,CAAC,CAACoF,MAAF,CAASJ,KAA3B;AACA,gBAAIlG,KAAK,GAAuBgG,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA2CC,KAA3E;AAEA,gBAAIoP,SAAS,GAAGtV,KAAK,CAACuV,KAAN,CAAY,GAAZ,CAAhB;AACAvV,iBAAK,GAAGsV,SAAS,CAAC,CAAD,CAAjB;AAEA,gBAAIE,UAAU,GAAG,KAAKtB,QAAL,CAAc/T,IAAd,CAAmB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACuE,GAAF,IAAS3E,KAAb;AAAA,aAApB,CAAjB;AAGA,gBAAMyK,SAAS,GAAO4K,WAAW,GAAGG,UAAU,CAACxV,KAAX,CAAiBS,QAAjB,CAA0BoE,UAA1B,CAAqC2Q,UAAU,CAACxV,KAAX,CAAiBwQ,OAAtD,CAApC,CAVkB,CAYlB;AACA;;AAEmBxK,oBAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA4CC,KAA5C,GAAoDuE,SAApD;AACpB;;;iBAED,wBAAevJ,CAAf,EAAgB;AACd,gBAAIuU,eAAe,GAAGvU,CAAC,CAACoF,MAAF,CAASJ,KAA/B;AAEA,gBAAIlG,KAAK,GAAuBgG,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA2CC,KAA3E;AAEA,gBAAIoP,SAAS,GAAGtV,KAAK,CAACuV,KAAN,CAAY,GAAZ,CAAhB;AACAvV,iBAAK,GAAGsV,SAAS,CAAC,CAAD,CAAjB;AAGA,gBAAIE,UAAU,GAAG,KAAKtB,QAAL,CAAc/T,IAAd,CAAmB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACuE,GAAF,IAAS3E,KAAb;AAAA,aAApB,CAAjB;AAEA,gBAAMyK,SAAS,GAAO3C,IAAI,CAAC4N,IAAL,CAAUD,eAAe,GAAGD,UAAU,CAACxV,KAAX,CAAiBS,QAAjB,CAA0BoE,UAA1B,CAAqC2Q,UAAU,CAACxV,KAAX,CAAiBwQ,OAAtD,CAA5B,CAAtB;AAEmBxK,oBAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAwCC,KAAxC,GAAgDuE,SAAhD;AACpB;;;iBAED,kBAASzK,KAAT,EAAoB2V,OAApB,EAAiC1T,KAAjC,EAA4C2T,OAA5C,EAAyDC,IAAzD,EAA6D;AAAA;;AAE3D,gBAAIpN,IAAI,GAAG;AACTzI,mBAAK,EAACA,KADG;AAET2V,qBAAO,EAACA,OAFC;AAGT1T,mBAAK,EAACA,KAHG;AAIT2T,qBAAO,EAACA,OAJC;AAKTC,kBAAI,EAAJA;AALS,aAAX;AAQA,iBAAKrW,GAAL,CAASsW,aAAT,CAAuBrN,IAAvB,EACGvG,SADH,CACa,UAACC,IAAD,EAAY;AACrB;AACA,iEAAKd,IAAL,CAAU;AACRM,oBAAI,EAAC,MADG;AAERL,qBAAK,EAAC,2CAFE;AAGRgB,oBAAI,EAAC;AAHG,eAAV;AAKA,qBAAI,CAAC4R,QAAL,GAAgB,EAAhB;;AACA,qBAAI,CAACQ,KAAL;;AACA,qBAAI,CAACC,WAAL;;AACA,qBAAI,CAACC,YAAL;AACD,aAZH;AAaD;;;iBAED,mBAAUxU,CAAV,EAAY2U,CAAZ,EAAa;AACT,mBAAOjN,IAAI,CAAC4N,IAAL,CAAUtV,CAAC,GAAC2U,CAAZ,CAAP;AACH;;;iBAED,kBAAS/U,KAAT,EAAoB2V,OAApB,EAAiC1T,KAAjC,EAA4C2T,OAA5C,EAAyDG,MAAzD,EAAqEF,IAArE,EAAyE;AAAA;;AAEvE,gBAAIG,YAAY,GAAG,mCAAM,CAAC/T,KAAD,CAAzB;AACA,gBAAIgU,YAAY,GAAG,mCAAM,CAACF,MAAD,CAAzB;AACA,gBAAIG,KAAK,GAAGF,YAAY,CAACG,IAAb,CAAkBF,YAAlB,EAAgC,MAAhC,CAAZ;;AAEA,gBAAGC,KAAK,GAAG,CAAX,EAAa;AACX,iEAAK7U,IAAL,CAAU;AACRM,oBAAI,EAAC,OADG;AAERW,oBAAI,EAAC;AAFG,eAAV;AAIA;AACD;;AAED,gBAAImG,IAAI,GAAG;AACTzI,mBAAK,EAACA,KADG;AAET2V,qBAAO,EAACA,OAFC;AAGT1T,mBAAK,EAACA,KAHG;AAIT2T,qBAAO,EAACA,OAJC;AAKTC,kBAAI,EAAJA;AALS,aAAX;AAQA,iBAAKrW,GAAL,CAAS4W,YAAT,CAAsB3N,IAAtB,EACGvG,SADH,CACa,UAACC,IAAD,EAAY;AACrB,iEAAKd,IAAL,CAAU;AACRM,oBAAI,EAAC,SADG;AAERL,qBAAK,EAAC,iCAFE;AAGRgB,oBAAI,EAAC;AAHG,eAAV;AAKA,qBAAI,CAAC4R,QAAL,GAAgB,EAAhB;;AACA,qBAAI,CAACQ,KAAL;;AACJ,qBAAI,CAACC,WAAL;;AACA,qBAAI,CAACC,YAAL;AACG,aAXH;AAYD;;;iBAED,sBAAarU,EAAb,EAAiB8V,IAAjB,EAAuB3R,KAAvB,EAA8B4R,MAA9B,EAAsCC,UAAtC,EAAgD;AAC9C;AACA,gBAAIjR,KAAK,GAAG,KAAKiE,MAAL,CAAYpJ,IAAZ,CAAiB,UAAAC,CAAC;AAAA,qBAAGA,CAAC,CAACuE,GAAF,KAAUD,KAAb;AAAA,aAAlB,CAAZ;AAEA,gBAAI3D,KAAK,GAAGuE,KAAK,CAACuI,KAAN,CAAY7M,SAAZ,CAAsB,UAAAZ,CAAC;AAAA,qBAAIA,CAAC,KAAKiW,IAAV;AAAA,aAAvB,CAAZ;;AAEA,gBAAGtV,KAAK,GAAG,CAAX,EAAa;AACX,kBAAIyV,IAAI,GAAG,KAAKC,SAAL,CAAezG,MAAf,CAAsB,UAAA5P,CAAC;AAAA,uBAAIA,CAAC,CAACuV,OAAF,CAAUrJ,IAAV,IAAkBhH,KAAK,CAACuI,KAAN,CAAY9M,KAAK,GAAE,CAAnB,CAAlB,IAA2CX,CAAC,CAACG,EAAF,IAAQA,EAAvD;AAAA,eAAvB,CAAX,CADW,CAEX;;AACA,kBAAImW,KAAK,GAAG,CAAZ;AACA,kBAAIjM,SAAS,GAAG,CAAhB;;AACA,mBAAI,IAAItJ,CAAC,GAAE,CAAX,EAAcA,CAAC,GAACqV,IAAI,CAACrM,MAArB,EAA6BhJ,CAAC,EAA9B,EAAiC;AAC/BuV,qBAAK,GAAGA,KAAK,GAAGzF,MAAM,CAACuF,IAAI,CAACrV,CAAD,CAAJ,CAAQuV,KAAT,CAAtB;AACAjM,yBAAS,GAAGA,SAAS,GAAGwG,MAAM,CAACuF,IAAI,CAACrV,CAAD,CAAJ,CAAQsJ,SAAT,CAA9B;AACD,eARU,CAUX;;;AACA,kBAAGiM,KAAK,GAAGJ,MAAR,IAAkB7L,SAAS,GAAG8L,UAAjC,EAA4C;AAC1C,mEAAKlV,IAAL,CAAU;AACRC,uBAAK,EAAC,QADE;AAERgB,sBAAI,EAAC,iEAFG;AAGRX,sBAAI,EAAC,OAHG;AAIRY,mCAAiB,EAAC;AAJV,iBAAV;AAMA,uBAAO,CAAP;AACD;AACF;AACF;;;iBAED,qBAAS;AAAA;;AAEP,gBAAI3C,GAAG,GAAG,mCAAM,GAAGC,MAAT,CAAgB,YAAhB,CAAV;AACA,gBAAIG,KAAK,GAAI,EAAb;AACA,gBAAIyK,SAAS,GAAG,EAAhB;AACA,gBAAIiM,KAAK,GAAG,EAAZ;AAEA1W,iBAAK,GAAuBgG,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA2CC,KAAvE;AAEA,gBAAIoP,SAAS,GAAGtV,KAAK,CAACuV,KAAN,CAAY,GAAZ,CAAhB,CATO,CAWP;;AAKAvV,iBAAK,GAAGsV,SAAS,CAAC,CAAD,CAAjB,CAhBO,CAiBP;;AAEA,gBAAIE,UAAU,GAAG,KAAKtB,QAAL,CAAc/T,IAAd,CAAmB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACuE,GAAF,IAAS3E,KAAb;AAAA,aAApB,CAAjB,CAnBO,CAqBP;;AAEAyK,qBAAS,GAAsBzE,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA4CC,KAA3E;AACAwQ,iBAAK,GAAsB1Q,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAwCC,KAAnE;;AAEA,gBAAG,KAAKyQ,YAAL,CAAkBrB,SAAS,CAAC,CAAD,CAA3B,EAA+BA,SAAS,CAAC,CAAD,CAAxC,EAA4CA,SAAS,CAAC,CAAD,CAArD,EAA0DoB,KAA1D,EAAiEjM,SAAjE,MAAgF,CAAnF,EAAqF;AACnF;AACD;;AAED,gBAAImM,QAAQ,GAAG,KAAKH,SAAL,CAAezG,MAAf,CAAsB,UAAA5P,CAAC;AAAA,qBAAGA,CAAC,CAACJ,KAAF,IAAWA,KAAd;AAAA,aAAvB,CAAf;AAEA,gBAAI6W,KAAI,GAAGD,QAAQ,CAACzM,MAApB;AAEA,gBAAI2M,UAAU,GAAG,CAAjB;AACA,gBAAIC,MAAM,GAAG,CAAb;;AAEA,gBAAGF,KAAI,IAAI,CAAX,EAAa;AACX;AACA,kBAAIG,MAAM,GAAG,KAAK9C,QAAL,CAAc/T,IAAd,CAAmB,UAAAC,CAAC;AAAA,uBAAGA,CAAC,CAACuE,GAAF,IAAS3E,KAAZ;AAAA,eAApB,CAAb,CAFW,CAGX;;AACA8W,wBAAU,GAAGE,MAAM,CAAChX,KAAP,CAAaU,QAAb,GAAwBuQ,MAAM,CAACxG,SAAD,CAA3C;AACAsM,oBAAM,GAAG,KAAKE,SAAL,CAAezB,UAAU,CAACxV,KAAX,CAAiBU,QAAhC,EAA0C8U,UAAU,CAACxV,KAAX,CAAiBS,QAAjB,CAA0BoE,UAA1B,CAAqC2Q,UAAU,CAACxV,KAAX,CAAiBwQ,OAAtD,CAA1C,IAA4GS,MAAM,CAACyF,KAAD,CAA3H,CALW,CAOX;AACD,aARD,MAQK;AACHI,wBAAU,GAAGF,QAAQ,CAACC,KAAI,GAAG,CAAR,CAAR,CAAmBK,UAAnB,GAA8BjG,MAAM,CAACxG,SAAD,CAAjD;AACAsM,oBAAM,GAAGH,QAAQ,CAACC,KAAI,GAAG,CAAR,CAAR,CAAmBM,MAAnB,GAA4BlG,MAAM,CAACyF,KAAD,CAA3C;AACD,aAhDM,CAkDP;;;AAEA,gBAAIjO,IAAI,GAAG;AACTlI,gBAAE,EAAC+U,SAAS,CAAC,CAAD,CADH;AAETtV,mBAAK,EAAGA,KAFC;AAGTiC,mBAAK,EAAGrC,GAHC;AAIT+V,qBAAO,EAAEH,UAAU,CAACG,OAAX,CAAmBhR,GAJnB;AAKT8F,uBAAS,EAACA,SALD;AAMTiM,mBAAK,EAACA,KANG;AAOTQ,wBAAU,EAACJ,UAPF;AAQTK,oBAAM,EAACJ;AARE,aAAX;AAWC,iBAAKvX,GAAL,CAAS4X,WAAT,CAAqB3O,IAArB,EACGvG,SADH,CACa,UAACC,IAAD,EAAY;AACF6D,sBAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA4CC,KAA5C,GAAoD,EAApD;AACAF,sBAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAwCC,KAAxC,GAAgD,EAAhD;;AACnB,qBAAI,CAACmR,mBAAL;;AACA,qBAAI,CAACzC,YAAL;AACF,aANF;AASF;;;iBAED,wBAAY;AAAA;;AACV,iBAAKpV,GAAL,CAASoV,YAAT,GACG1S,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACsU,SAAL,GAAiBtU,IAAjB,CADqB,CAErB;AACD,aAJH;AAKD;;;iBAGD,iBAAK;AAAA;;AACH,gBAAIvC,GAAG,GAAG,mCAAM,GAAGC,MAAT,CAAgB,YAAhB,CAAV;AACA,iBAAKqU,QAAL,GAAgB,EAAhB;AAEA,iBAAK1U,GAAL,CAAS8X,WAAT,GACGpV,SADH,CACa,UAACC,IAAD,EAAY;AAErB,kBAAIoG,KAAK,GAAGpG,IAAI,CAAC6N,MAAL,CAAY,UAAA5P,CAAC;AAAA,uBAAIA,CAAC,CAACuV,OAAF,CAAUrJ,IAAV,KAAmB,OAAI,CAAC8H,IAA5B;AAAA,eAAb,CAAZ;;AAEA,kBAAG7L,KAAH,EAAS;AACP,oBAAIgP,IAAI,GAAGhP,KAAK,CAAC4B,MAAjB;;AACA,qBAAI,IAAIhJ,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACoW,IAAf,EAAqBpW,CAAC,EAAtB,EAAyB;AAEvB,sBAAGvB,GAAG,IAAI2I,KAAK,CAACpH,CAAD,CAAL,CAAS4U,MAAnB,EAA0B;AACxB,wBAAGnW,GAAG,IAAI2I,KAAK,CAACpH,CAAD,CAAL,CAASc,KAAnB,EAAyB;AACvB,6BAAI,CAACiS,QAAL,CAAc1T,IAAd,CAAmB+H,KAAK,CAACpH,CAAD,CAAxB;AACD;AACF;AAEF;AACF;AACF,aAjBH;AAkBD;;;iBAED,2BAAkBqH,EAAlB,EAAoB;AAAA;;AAClB,gBAAIC,IAAI,GAAG;AAACD,gBAAE,EAAFA;AAAD,aAAX;AACA,iBAAKhJ,GAAL,CAASgY,gBAAT,CAA0B/O,IAA1B,EACGvG,SADH,CACa,UAACC,IAAD,EAAY;AACrB,iEAAKd,IAAL,CAAU;AACRC,qBAAK,EAAC,oBADE;AAERgB,oBAAI,EAAC,qCAFG;AAGRC,iCAAiB,EAAC;AAHV,eAAV;;AAKA,qBAAI,CAACqS,YAAL;;AACA,qBAAI,CAACD,WAAL;;AACA,qBAAI,CAACD,KAAL;AACD,aAVH;AAWD;;;iBAED,uBAActU,CAAd,EAAgB2U,CAAhB,EAAiB;AACf,mBAAOjN,IAAI,CAAC4N,IAAL,CAAUtV,CAAC,GAAC2U,CAAZ,CAAP;AACD;;;iBAED,mCAAuB;AAAA;;AACrB,gBAAInV,GAAG,GAAG,mCAAM,GAAGC,MAAT,CAAgB,YAAhB,CAAV;AACA,iBAAKqU,QAAL,GAAgB,EAAhB;AAEA,iBAAK1U,GAAL,CAAS8X,WAAT,GACGpV,SADH,CACa,UAACC,IAAD,EAAY;AAErB,kBAAIoG,KAAK,GAAGpG,IAAI,CAAC6N,MAAL,CAAY,UAAA5P,CAAC;AAAA,uBAAIA,CAAC,CAACuV,OAAF,CAAUrJ,IAAV,KAAmB,OAAI,CAAC8H,IAA5B;AAAA,eAAb,CAAZ;;AACA,kBAAG7L,KAAH,EAAS;AACP,oBAAIgP,IAAI,GAAGhP,KAAK,CAAC4B,MAAjB;;AACA,qBAAI,IAAIhJ,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACoW,IAAf,EAAqBpW,CAAC,EAAtB,EAAyB;AAEvB;AACA;AACE;AACA;AAEA,yBAAI,CAAC+S,QAAL,CAAc1T,IAAd,CAAmB+H,KAAK,CAACpH,CAAD,CAAxB,EAPqB,CAQrB;;AACD;AAEJ;AACF,aAlBH;AAmBD;;;;;;;yBAxbU8S,gB,EAAgB,iJ;AAAA,O;;;cAAhBA,gB;AAAgB,oC;AAAA,iB;AAAA,gB;AAAA,8yC;AAAA;AAAA;ACV7B;;AAGA;AAAA,qCAA4B,KAA5B;AAAiC,aAAjC;;AACA;;AAEA;;AAEQ;AAAA,sCAA6B,KAA7B;AAAkC,aAAlC;;AACR;;AACA;;AAEA;AAAA,oCAA2B,KAA3B;AAAgC,aAAhC;;AAGA;;AAEA;;AACI;;AACI;;AACI;;AACI;;AACA;;AACJ;;AAIA;;AACA;;AAQA;;AAGA;;AAAC;;AACD;;AAAC;;AAED;;AACA;;AAiEA;;AAKA;;AA2CA;;AACA;;AAwCJ;;AACJ;;AACJ;;AAGA;;AACI;;AAA8B;AAAA,qBAAS,IAAAoD,mBAAA,EAAT;AAA8B,aAA9B;;AAAgC;;AAC9D;;AACI;;AACI;;AACI;;AACJ;;AACA;;AACA;;AACI;;AACI;;AAAG;;AAAM;;AAAI;;AACb;;AACI;;AACQ;;AAAkB;;AAAiB;;AACvC;;AAGJ;;AACJ;;AACJ;;AACA;;AACI;;AAAG;;AAA2B;;AAAI;;AAClC;;AAAoD;AAAA,qBAAU,IAAAI,kBAAA,QAAV;AAAoC,aAApC;;AAApD;;AACA;;AACA;;AAAG;;AAA8B;;AACjC;;AAAwD;AAAA,qBAAU,IAAAC,cAAA,QAAV;AAAgC,aAAhC;;AAAxD;;AACJ;;AACJ;;AACA;;AACA;;AAAkC;AAAA,qBAAS,IAAAjM,SAAA,EAAT;AAAoB,aAApB;;AAAsB;;AAAS;;AACrE;;AACJ;;AACJ;;;;AAzOA,iGAAuB,OAAvB,EAAuB,SAAvB;;AAMQ;;AAAA;;AAIR;;AAAA;;AAY0B;;AAAA;;AAKA;;AAAA;;AAQA;;AAAA;;AAGkD;;AAAA;;AACD;;AAAA;;AAGxC;;AAAA;;AAiET;;AAAA;;AAKA;;AAAA;;AA4CA;;AAAA;;AA6CP;;AAAA;;AAcuB;;AAAA;;;;;;;;;wED9M7BwI,gB,EAAgB;gBAL5B,uDAK4B;iBALlB;AACTxR,oBAAQ,EAAE,aADD;AAETC,uBAAW,EAAE,0BAFJ;AAGTC,qBAAS,EAAE,CAAC,yBAAD;AAHF,W;AAKkB,U;;;;;;;;;;;;;;;;;;;;;;AEV7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACkBwB;;AACI;;AAAI;;AAAiB;;AACrB;;AAAI;;AAAiB;;AACrB;;AAAI;;AAAqB;;AAC7B;;;;;;AAHQ;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AAJZ;;AACI;;AAKJ;;;;;;;;AALQ;;AAAA;;;;;;AAXhB;;AACI;;AACI;;AACJ;;AACA;;AACI;;AACI;;AAAI;;AAAK;;AACT;;AAAI;;AAAiB;;AACrB;;AAAI;;AAAqB;;AAC7B;;AACA;;AAOJ;;AACJ;;;;;;;;AAhBQ;;AAAA;;AAQe;;AAAA;;;;;;;;;;UDVtBgV,kB;AAQX,sCAAc;AAAA;;AAFJ,eAAAlY,YAAA,GAAe,IAAI,0DAAJ,EAAf;AAEO;;;;iBAEjB,oBAAQ,CACP;;;iBAED,sBAAU;AACR,iBAAKA,YAAL,CAAkBM,IAAlB;AACD;;;;;;;yBAfU4X,kB;AAAkB,O;;;cAAlBA,kB;AAAkB,sC;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,gB;AAAA,e;AAAA,iS;AAAA;AAAA;ACP/B;;AACI;;AAA8B;AAAA,qBAAS,IAAAC,UAAA,EAAT;AAAqB,aAArB;;AAAuB;;AACrD;;AACI;;AACI;;AACI;;AACJ;;AACA;;AAmBJ;;AACJ;;AACJ;;;;AA5BmB;;AAOe;;AAAA;;;;;;;;;wEDArBD,kB,EAAkB;gBAL9B,uDAK8B;iBALpB;AACTlV,oBAAQ,EAAE,eADD;AAETC,uBAAW,EAAE,4BAFJ;AAGTC,qBAAS,EAAE,CAAC,2BAAD;AAHF,W;AAKoB,U;;;AAEpBkV,yBAAe;kBAAvB;AAAuB,Y;AACfC,oBAAU;kBAAlB;AAAkB,Y;AACVC,qBAAW;kBAAnB;AAAmB,Y;AAEVtY,sBAAY;kBAArB;AAAqB;;;;;;;;;;;;;;;;;;;AEbxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACyCwB;;AAAoB;;AAAmC;;;;;;AACvD;;AAAqB;;AAAyB;;;;;;;;AAAzB;;AAAA;;;;;;;;AANzB;;AACI;;AAAI;;AAAoC;;AAAsB;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA2B;;AAAI;;AAC7F;;AAAI;;AAA2B;;AAC/B;;AAAI;;AAAwB;;AAC5B;;AAAI;;;;AAA8C;;AAClD;;AACA;;AACA;;AACI;;AACA;;AAA0B;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA4E;;AAE1G;;AAEJ;;;;;;;;AAZQ;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;;;AAWhB;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAAwD;;AAA0B;;;;UD3CnHuY,a;AAgBX,+BAAoBxY,GAApB,EACUiU,MADV,EACuB;AAAA;;AADH,eAAAjU,GAAA,GAAAA,GAAA;AACV,eAAAiU,MAAA,GAAAA,MAAA;AAZH,eAAAwE,OAAA,GAAkB,KAAlB;AAMA,eAAAnY,QAAA,GAAmB,KAAnB;AAEA,eAAAoY,OAAA,GAAkB,IAAlB;AAMH,eAAKzS,OAAL,GAAejG,GAAG,CAACiG,OAAnB;AACD;;;;iBAED,oBAAQ;AACN,iBAAKoP,UAAL;AACA,iBAAKsD,eAAL;AACD;;;iBAGH,sBAAU;AAAA;;AACR,iBAAK3Y,GAAL,CAAS2V,QAAT,GACGjT,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACjC,OAAL,GAAeiC,IAAf;AACD,aAHH;AAID;;;iBAED,kBAASqG,EAAT,EAAYnI,IAAZ,EAAkBD,CAAlB,EAAqB2U,CAArB,EAAsB;AACpB,iBAAKkD,OAAL,GAAe,IAAf;AACA,iBAAKG,aAAL,GAAqB/X,IAArB;AACA,iBAAKgY,QAAL,GAAgB7P,EAAhB;AACA,iBAAK8P,UAAL,GAAkBlY,CAAlB;AACA,iBAAKmY,WAAL,GAAmBxD,CAAnB,CALoB,CAMpB;AACD;;;iBAED,qBAAS;AACP,iBAAKjV,QAAL,GAAgB,IAAhB;AACD;;;iBAED,eAAM0I,EAAN,EAAQ;AACN,iBAAKiL,MAAL,CAAYM,aAAZ,4BAA8CvL,EAA9C;AACD;;;iBAED,oBAAWA,EAAX,EAAa;AACX,gBAAIoG,MAAM,GAAG,KAAKsF,QAAL,CAAc/T,IAAd,CAAmB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACJ,KAAF,CAAQ2E,GAAR,IAAe6D,EAAf,IAAqBpI,CAAC,CAACuV,OAAF,CAAUrJ,IAAV,KAAmB,UAA5C;AAAA,aAApB,CAAb;AACA,gBAAI1M,GAAG,GAAG,mCAAM,GAAGC,MAAT,CAAgB,YAAhB,CAAV,CAFW,CAIX;;AACA,gBAAG+O,MAAH,EAAU;AACR,kBAAGhP,GAAG,GAAGgP,MAAM,CAACmH,MAAhB,EAAuB;AACrB,oBAAI3U,IAAI,GAAG,mCAAM,CAACwN,MAAM,CAACmH,MAAR,CAAN,CAAsBlW,MAAtB,CAA6B,YAA7B,CAAX;AACAuB,oBAAI,GAAG,mCAAM,CAAC,YAAD,CAAN,CAAqBvB,MAArB,CAA4B,YAA5B,CAAP;AACA,2DAAiC+O,MAAM,CAACmH,MAAxC;AACD;AACF;;AAEC,gBAAIyC,OAAO,GAAG,KAAKtE,QAAL,CAAc/T,IAAd,CAAmB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACJ,KAAF,CAAQ2E,GAAR,IAAe6D,EAAf,IAAqBpI,CAAC,CAAC2V,MAAF,IAAWnW,GAAhC,IAAuCQ,CAAC,CAAC6B,KAAF,IAAWrC,GAAtD;AAAA,aAApB,CAAd;;AACF,gBAAG4Y,OAAH,EAAW;AACT;AACE,8CAAyBA,OAAO,CAAC7C,OAAR,CAAgBrJ,IAAzC;AACH,aAHD,MAGK;AACH;AACD;AAEF;;;iBAED,2BAAe;AAAA;;AACb,iBAAK9M,GAAL,CAAS8X,WAAT,GACGpV,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAAC+R,QAAL,GAAgB/R,IAAhB,CADqB,CAErB;;AACA,qBAAI,CAAC+V,OAAL,GAAe,KAAf;AACD,aALH;AAMD;;;;;;;yBAlFUF,a,EAAa,iJ,EAAA,uH;AAAA,O;;;cAAbA,a;AAAa,iC;AAAA,iB;AAAA,e;AAAA,qhB;AAAA;AAAA;ACV1B;;AAMA;AAAA,mCAA0B,KAA1B;AAA+B,aAA/B,EAAgC,eAAhC,EAAgC;AAAA,qBACf,IAAAnD,UAAA,EADe;AACH,aAD7B;;AAGA;;AAEA;;AAGA;AAAA,oCAA2B,KAA3B;AAAgC,aAAhC;;AACA;;AACA;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACA;;AACA;;AACI;;AACI;;AACI;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAO;;AACX;;AAAI;;AAAgB;;AACpB;;AAAI;;AAAM;;AACV;;AAAI;;AAAQ;;AAEhB;;AACJ;;AACA;;AACI;;AAcJ;;AACJ;;AACA;;AACA;;AACJ;;AACJ;;AACJ;;;;AAvDA,6FAAmB,eAAnB,EAAmB,iBAAnB,EAAmB,UAAnB,EAAmB,YAAnB,EAAmB,YAAnB,EAAmB,cAAnB,EAAmB,aAAnB,EAAmB,eAAnB;;AAWA;;AAAA,+FAAqB,SAArB,EAAqB,WAArB;;AAwBwB;;AAAA;;AAiB6C;;AAAA;;;;;;;;;;wED3CxDmD,a,EAAa;gBALzB,uDAKyB;iBALf;AACTvV,oBAAQ,EAAE,UADD;AAETC,uBAAW,EAAE,uBAFJ;AAGTC,qBAAS,EAAE,CAAC,sBAAD;AAHF,W;AAKe,U;;;;;;;;;;;;;;;;;;;;;;;;AEV1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACa4B;;AACI;;AACM;;AACN;;AACJ;;;;;;AAHY;;AAAA;;AACF;;AAAA;;;;;;AAgBF;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;;;AAHZ;;AACI;;AAAI;;AACA;;AAGA;;AAA6B;;AACjC;;AAAG;;AAAM;;AAAI;;AAAoB;;AAAG;;AAAQ;;AAAI;;AAAmB;;AACnE;;AACI;;AACI;;AACI;;AAA4D;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA5D;;AACJ;;AACA;;AACI;;AACI;;AACJ;;AACF;;AACN;;AACJ;;AACJ;;;;;;AAlBQ;;AAAA;;AACc;;AAAA;;AAGd;;AAAA;;AACS;;AAAA;;AAAmC;;AAAA;;AAQhC;;AAAA;;;;;;;;AAtB5B;;AACI;;AACI;;AACI;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAQ;;AAChB;;AACJ;;AACA;;AACI;;AAoBJ;;AACA;;AACA;;AACA;;AAAkD;;AAAuB;;AACzE;;AACA;;AAAkC;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAwD;;AAAmB;;AACjH;;;;;;;;AA1BY;;AAAA;;AAsB+D;;AAAA;;AACtD;;AAAA;;;;;;;;;;UDzC5B8V,mB;AAWX,qCAAoBjZ,GAApB,EAAwC;AAAA;;AAApB,eAAAA,GAAA,GAAAA,GAAA;AARV,eAAAC,YAAA,GAAe,IAAI,0DAAJ,EAAf;AAIH,eAAAiZ,UAAA,GAAa,EAAb;AACA,eAAAC,eAAA,GAAkB,EAAlB;AAIL,eAAKlT,OAAL,GAAejG,GAAG,CAACiG,OAAnB;AACD;;;;iBAED,oBAAQ;AAAA;;AAGN,iBAAKjG,GAAL,CAASoZ,QAAT,GACC1W,SADD,CACW,UAACC,IAAD,EAAY;AACrB,qBAAI,CAAC0W,YAAL,GAAoB1W,IAApB;;AACA,mBAAI,IAAIhB,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAEgB,IAAI,CAACgI,MAAvB,EAA+BhJ,CAAC,EAAhC,EAAmC;AACjC,uBAAI,CAACuX,UAAL,CAAgBlY,IAAhB,CAAqB2B,IAAI,CAAChB,CAAD,CAAJ,CAAQnB,KAA7B;;AACA,oBAAI8Y,MAAK,GAAG3W,IAAI,CAACgI,MAAL,GAAc,CAA1B;;AACA,oBAAGhJ,CAAC,IAAI2X,MAAR,EAAc;AACZ,sBAAMC,OAAO,GAAG,IAAIC,GAAJ,CAAQ,OAAI,CAACN,UAAb,CAAhB;;AACA,sBAAI7W,MAAM,sBAAOkX,OAAP,CAAV;;AACA,yBAAI,CAACL,UAAL,GAAkB7W,MAAlB;AACD;AACF;AAEF,aAbD;AAcD;;;iBAED,iCAAqB;AACnB,gBAAIoX,MAAM,GAAsBjT,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAmCC,KAAnE;AACA,iBAAKd,UAAL,GAAkB,KAAKyT,YAAL,CAAkB7I,MAAlB,CAAyB,UAAA6I,YAAY;AAAA,qBAAIA,YAAY,CAAC7Y,KAAb,KAAuBiZ,MAA3B;AAAA,aAArC,CAAlB;AACA,gBAAIC,KAAK,GAAG,KAAK9T,UAAL,CAAgB4K,MAAhB,CAAuB,UAAA5K,UAAU;AAAA,qBAAIA,UAAU,CAACkD,QAAX,CAAoB,CAApB,EAAuBA,QAAvB,KAAoC,IAAxC;AAAA,aAAjC,CAAZ;;AACA,gBAAG2Q,MAAM,IAAI,GAAb,EAAiB;AACjB,mBAAK7T,UAAL,GAAkB,KAAKA,UAAL,CAAgB4K,MAAhB,CAAuB,UAAA5K,UAAU;AAAA,uBAAIA,UAAU,CAACkD,QAAX,CAAoB,CAApB,EAAuBA,QAAvB,IAAmC,IAAvC;AAAA,eAAjC,CAAlB;AACC;;AAED6Q,mBAAO,CAACC,GAAR,CAAYF,KAAZ,EARmB,CASrB;AAEC;;;iBAED,mBAAO;AACL,iBAAKzE,UAAL,GAAkB,KAAlB;AACA,iBAAKhV,YAAL,CAAkBM,IAAlB;AACD;;;iBAED,6BAAoByI,EAApB,EAAuBoI,MAAvB,EAA6B;AAAA;;AAE3B,gBAAGA,MAAM,CAAC1K,KAAP,CAAaiE,MAAb,GAAsB,CAAzB,EAA2B;AACzB,kBAAIkP,GAAG,GAAGC,MAAM,CAAC9Q,EAAD,CAAhB;AACAxC,sBAAQ,CAACC,cAAT,CAAwBoT,GAAxB,EAA6BlR,KAA7B;AACAnC,sBAAQ,CAACC,cAAT,WAA2BoT,GAA3B,aAAwCE,KAAxC,CAA8CC,OAA9C,GAAwD,OAAxD;AACA;AACD;;AAED,gBAAIC,QAAQ,GAAG,KAAKd,eAAL,CAAqB3I,MAArB,CAA4B,UAAA5P,CAAC;AAAA,qBAAIA,CAAC,CAACoI,EAAF,KAASA,EAAT,IAAepI,CAAC,CAACM,QAAF,GAAa,CAAhC;AAAA,aAA7B,CAAf;AACA,gBAAIV,KAAK,GAAsBgG,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAmCC,KAAlE;AACA,gBAAIuC,IAAI,GAAG;AACTzI,mBAAK,EAALA,KADS;AAETyZ,sBAAQ,EAARA,QAFS;AAGT7I,oBAAM,EAACA,MAAM,CAAC1K,KAHL;AAITT,qBAAO,YAAI,KAAKA,OAAL,CAAaoJ,MAAjB,cAA2B,KAAKpJ,OAAL,CAAaqJ,QAAxC;AAJE,aAAX;AAOA,iBAAKtP,GAAL,CAASka,cAAT,CAAwBjR,IAAxB,EACGvG,SADH,CACa,UAACC,IAAD,EAAY;AACrB,iEAAKd,IAAL,CAAU;AACRC,qBAAK,EAAC,YADE;AAERgB,oBAAI,EAAE,wCAFE;AAGRX,oBAAI,EAAC,SAHG;AAIRuH,qBAAK,EAAC,IAJE;AAKR3G,iCAAiB,EAAC;AALV,eAAV,GAOmByD,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAmCC,KAAnC,GAA2C,GAP9D;;AAQA,qBAAI,CAAC9D,OAAL;AACD,aAXH;AAaD;;;iBAED,yBAAgBoG,EAAhB,EAAoB9H,QAApB,EAA8B4H,QAA9B,EAAuCqR,IAAvC,EAA4ClV,MAA5C,EAAkD;AAEhD,gBAAIgE,IAAI,GACR;AACED,gBAAE,EAAFA,EADF;AAEEF,sBAAQ,EAARA,QAFF;AAGEqR,kBAAI,EAAJA,IAHF;AAIElV,oBAAM,EAANA,MAJF;AAKE/D,sBAAQ,EAACA,QAAQ,CAACwF;AALpB,aADA;AASA,gBAAInF,KAAK,GAAG,KAAK4X,eAAL,CAAqB3X,SAArB,CAA+B,UAAAZ,CAAC;AAAA,qBAAIA,CAAC,CAACoI,EAAF,KAASA,EAAT,IAAepI,CAAC,CAACkI,QAAF,KAAeA,QAA9B,IAA0ClI,CAAC,CAACuZ,IAAF,KAAWA,IAArD,IAA6DvZ,CAAC,CAACqE,MAAF,KAAaA,MAA9E;AAAA,aAAhC,CAAZ;;AAEA,gBAAG1D,KAAK,IAAI,CAAC,CAAb,EAAgB;AACd,mBAAK4X,eAAL,CAAqBnY,IAArB,CAA0BiI,IAA1B;AACD,aAFD,MAEK;AACH,mBAAKkQ,eAAL,CAAqB5X,KAArB,IAA8B0H,IAA9B;AACD;;AAED0Q,mBAAO,CAACC,GAAR,CAAY3Q,IAAZ,EAnBgD,CAqBhD;AAED;;;;;;;yBA5GUgQ,mB,EAAmB,iJ;AAAA,O;;;cAAnBA,mB;AAAmB,uC;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,iB;AAAA,e;AAAA,0rB;AAAA;AAAA;ACXhC;;AACI;;AAA8B;AAAA,qBAAS,IAAArW,OAAA,EAAT;AAAkB,aAAlB;;AAAoB;;AAClD;;AACI;;AACI;;AACI;;AACJ;;AACA;;AACQ;;AAAG;;AAA8B;;AAEjC;;AACI;;AAAQ;AAAA,qBAAU,IAAAwX,qBAAA,EAAV;AAAiC,aAAjC;;AACJ;;AAAkB;;AAAc;;AAChC;;AAKJ;;AACJ;;AACA;;AACA;;AAoCZ;;AACJ;;AACJ;;;;AA3DmB;;AAauB;;AAAA;;AAQuB;;AAAA,8FAA4C,SAA5C,EAA4C,cAA5C;;;;;;;;;wEDVpDnB,mB,EAAmB;gBAL/B,uDAK+B;iBALrB;AACThW,oBAAQ,EAAE,gBADD;AAETC,uBAAW,EAAE,6BAFJ;AAGTC,qBAAS,EAAE,CAAC,4BAAD;AAHF,W;AAKqB,U;;;;;AAErB8R,oBAAU;kBAAlB;AAAkB,Y;AACThV,sBAAY;kBAArB;AAAqB;;;;;;;;;;;;;;;;;;;AEdxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAkBaoa,Y;;;;;cAAAA;;;;2BAAAA,Y;AAAY,S;AAAA,kBARd,CACP,4DADO,EAEP,4DAFO,EAGP,0DAHO,EAIP,kEAJO,CAQc;;;;4HAAZA,Y,EAAY;AAAA,yBATR,wEASQ;AATO,oBAE5B,4DAF4B,EAG5B,4DAH4B,EAI5B,0DAJ4B,EAK5B,kEAL4B,CASP;AAJF,oBAEZ,wEAFY;AAIE,S;AAFC,O;;;;;wEAEbA,Y,EAAY;gBAVxB,sDAUwB;iBAVf;AACRpL,wBAAY,EAAE,CAAC,wEAAD,CADN;AAERC,mBAAO,EAAE,CACP,4DADO,EAEP,4DAFO,EAGP,0DAHO,EAIP,kEAJO,CAFD;AAQRoL,mBAAO,EAAC,CAAC,wEAAD;AARA,W;AAUe,U;;;;;;;;;;;;;;;;;;AClBzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOaC,gB;AAEX,oCAAc;AAAA;AAAG;;;;iBAEjB,oBAAQ,CACP;;;;;;;yBALUA,gB;AAAgB,O;;;cAAhBA,gB;AAAgB,oC;AAAA,gB;AAAA,e;AAAA;AAAA;ACP7B;;AACA;;;;;;;;;wEDMaA,gB,EAAgB;gBAL5B,uDAK4B;iBALlB;AACTtX,oBAAQ,EAAE,aADD;AAETC,uBAAW,EAAE,0BAFJ;AAGTC,qBAAS,EAAE,CAAC,yBAAD;AAHF,W;AAKkB,U;;;;;;;;;;;;;;;;;;;;AEP7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAkBaqX,iB;;;;;cAAAA;;;;2BAAAA,iB;AAAiB,S;AAAA,kBAPnB,CACP,4DADO,EAEP,qFAFO,EAGP,0DAHO,CAOmB;;;;4HAAjBA,iB,EAAiB;AAAA,yBARb,kEAQa;AARA,oBAE1B,4DAF0B,EAG1B,qFAH0B,EAI1B,0DAJ0B,CAQA;AAJf,oBAEH,kEAFG;AAIe,S;AAFL,O;;;;;wEAEZA,iB,EAAiB;gBAT7B,sDAS6B;iBATpB;AACRvL,wBAAY,EAAE,CAAC,kEAAD,CADN;AAERC,mBAAO,EAAE,CACP,4DADO,EAEP,qFAFO,EAGP,0DAHO,CAFD;AAORoL,mBAAO,EAAE,CAAC,kEAAD;AAPD,W;AASoB,U;;;;;;;;;;;;;;;;;;AClB9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOaG,gB;AAEX,oCAAc;AAAA;AAAG;;;;iBAEjB,oBAAQ,CACP;;;;;;;yBALUA,gB;AAAgB,O;;;cAAhBA,gB;AAAgB,oC;AAAA,gB;AAAA,e;AAAA;AAAA;ACP7B;;AACA;;;;;;;;;wEDMaA,gB,EAAgB;gBAL5B,uDAK4B;iBALlB;AACTxX,oBAAQ,EAAE,aADD;AAETC,uBAAW,EAAE,0BAFJ;AAGTC,qBAAS,EAAE,CAAC,yBAAD;AAHF,W;AAKkB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEJzB;;AACI;;AACI;;AACI;;AACI;;AAAW;;AACf;;AACJ;;AACJ;;AACJ;;;;;;AA2KgE;;AAAoD;;AAAG;;AAAM;;AAAI;;AAAwH;;;;;;AAAxH;;AAAA;;;;;;AACjE;;AAAmD;;AAAG;;AAAK;;AAAI;;AAAwH;;;;;;AAAxH;;AAAA;;;;;;AAC/D;;AAAsD;;AAAG;;AAAQ;;AAAI;;AAAwH;;;;;;AAAxH;;AAAA;;;;;;AACrE;;AAAuD;;AAAG;;AAAS;;AAAI;;AAAwH;;;;;;AAAxH;;AAAA;;;;;;AAK/D;;AACI;;AACJ;;;;;;;;AADI;;AAAA;;;;;;AAEJ;;AACI;;AACJ;;;;;;;;AADI;;AAAA;;;;;;AARZ;;AACI;;AAAG;;AAAiC;;AACpC;;AACI;;AACA;;AAGA;;AAGJ;;AACJ;;;;;;;;AAVO;;AAAA;;AAEC;;AAAA;;AACc;;AAAA;;AAGA;;AAAA;;;;;;AAd9B;;AACA;;AACI;;AACI;;AACA;;AACA;;AACA;;AACA;;AAYJ;;AACJ;;AACA;;;;;;AAlBW;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACE;;AAAA;;;;;;AARjB;;AACI;;AAsBJ;;;;;;AAtBkB;;AAAA;;;;;;AA2DV;;AACJ;;AAAI;;AAAgC;;AAChC;;;;;;AADA;;AAAA;;;;;;AAFJ;;AACI;;AAGJ;;;;;;AAHkB;;AAAA;;;;;;AAZtB;;AACJ;;AACI;;AACI;;AACJ;;AACA;;AACI;;AACJ;;AACJ;;AACA;;AACQ;;AAAI;;AAAkB;;AACtB;;AAKR;;AACI;;;;;;;;AAdI;;AAAA;;AAGA;;AAAA;;AAKiB;;AAAA;;;;;;AAZzB;;AACI;;AAkBJ;;;;;;AAlBkB;;AAAA;;;;;;AA0Cd;;AACI;;AAAI;;AAAoB;;AAC5B;;;;;;AADQ;;AAAA;;;;;;AAER;;AACI;;AAAI;;AAAkC;;AAC1C;;;;;;AADQ;;AAAA;;;;;;AAYR;;AACA;;AACI;;AAAI;;AAAgC;;AACpC;;AAAI;;AAEJ;;AACJ;;AACA;;;;;;AALQ;;AAAA;;AACA;;AAAA;;;;;;AAJZ;;AACI;;AAQJ;;;;;;AARkB;;AAAA;;;;;;AAgBlB;;AACJ;;AAAgB;;AAEhB;;AACK;;;;;;AAHW;;AAAA;;;;;;AAFhB;;AACI;;AAKJ;;;;;;AALkB;;AAAA;;;;;;AASlB;;AAAkC;;AAAE;;;;;;AACpC;;AAAiC;;AAAE;;;;;;AAiBnC;;AACA;;AACA;;;;;;AADA;;AAAA;;;;;;AASY;;AACI;;AAAI;;AAAiC;;AACzC;;;;;;AADQ;;AAAA;;;;;;AAFZ;;AACI;;AAGJ;;;;;;AAHkB;;AAAA;;;;;;AAcd;;AACI;;AAAI;;AAAiC;;AACzC;;;;;;AADQ;;AAAA;;;;;;AAFZ;;AACI;;AAGJ;;;;;;AAHkB;;AAAA;;;;;;AAcd;;AACJ;;AAEI;;AAAoJ;;AACnJ;;;;;;;;AADD;;AAAA;;;;;;AAJJ;;AACI;;AAKJ;;;;;;AALkB;;AAAA;;;;;;AAoP9C;;AACI;;AACI;;AACJ;;AACJ;;;;;;AAFQ;;AAAA;;;;;;;;AAtlBhC;;AACI;;AACI;;AACI;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAI;;AAAE;;AACN;;AAAI;;AAAkB;;AAC1B;;AACA;;AACI;;AAAI;;AAAa;;AACjB;;AAAI;;;;AAAgD;;AAExD;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAI;;AAAO;;AACX;;AAAI;;AAA8B;;AACtC;;AACA;;AACI;;AAAI;;AAAO;;AACX;;AAAI;;AAAsF;;AAC9F;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAI;;AAAG;;AACP;;AAAI;;AAAgB;;AAAiB;;AAAI;;AAC7C;;AACA;;AACI;;AAAI;;AAAiB;;AAErB;;AAAI;;;;AAAsC;;AAC9C;;AACJ;;AACJ;;AACJ;;AACJ;;AAEA;;AACQ;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAgB;;AAAQ;;AACxB;;AAAI;;AAA2B;;AACnC;;AACA;;AACI;;AAAI;;AAA+B;;AACnC;;AAAI;;AAAiC;;AACzC;;AACA;;AACI;;AAAI;;AAAqB;;AACzB;;AAAI;;AAAsH;;AAC9H;;AACJ;;AACR;;AAEA;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAI;;AAAE;;AACN;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAgB;;AACpB;;AAAI;;AAAgB;;AACxB;;AACA;;AACI;;AAAI;;AAAC;;AACL;;AAAI;;AAAY;;AAEhB;;AAAI;;;;AAA+C;;AACnD;;AAAI;;AAAoB;;AAC5B;;AACA;;AACI;;AAAI;;AAAK;;AACT;;AAAI;;AAAY;;AACpB;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AAGI;;AACI;;AACI;;AAAI;;AAAa;;AACrB;;AACA;;AACI;;AACI;;AACI;;AACI;;AACI;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AAwBJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AAAI;;AAAS;;AACjB;;AACA;;AACI;;AACI;;AACI;;AACI;;AACI;;AACI;;AACI;;AAAgB;;AAAQ;;AACxB;;AAAI;;AAAoB;;AAC5B;;AACA;;AAoBA;;AACI;;AAAI;;AAAkC;;AACtC;;AAAI;;AAA2C;;AACnD;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AAAI;;AAAS;;AACb;;AAAI;;AAAoB;;AAC5B;;AACA;;AACI;;AAAI;;AAAgB;;AACpB;;AAAI;;AAAiB;;AACzB;;AACA;;AACI;;AAAI;;AAAgB;;AACpB;;AAAI;;AAAkB;;AAC1B;;AACA;;AACI;;AAAI;;AAA0B;;AAE9B;;AAGA;;AAGJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AAAI;;AAAK;;AACT;;AAAI;;AAAK;;AACb;;AACA;;AAUJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAI;;AAAM;;AACV;;AAOJ;;AACA;;AACI;;AAAI;;AAAoB;;AACxB;;AACA;;AAHJ;;AAIA;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AAAI;;AAAc;;AACtB;;AACA;;AACI;;AACI;;AACI;;AACI;;AACI;;AAGA;;AACA;;AACI;;AACI;;AAAI;;AAAY;;AACpB;;AACA;;AACI;;AAKJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AAAI;;AAAc;;AACtB;;AACA;;AACI;;AAKJ;;AACJ;;AAEA;;AACI;;AACI;;AAAI;;AAAiB;;AACzB;;AACA;;AAEI;;AAOJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AAsNJ;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AAEI;;AACI;;AACI;;AAAgB;;AAAO;;AAC3B;;AACA;;AAKJ;;AAEA;;AACI;;AACI;;AAAgB;;AAAa;;AAC7B;;AAAgB;;AAAa;;AACjC;;AACA;;AACI;;AACA;;AACI;;AACA;;AACA;;AACJ;;AACA;;AACI;;AACA;;AACA;;AACA;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACA;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAAyB;;AAAS;;AACxE;;AACJ;;;;;;AAxmBgC;;AAAA;;AAIA;;AAAA;;AAgBA;;AAAA;;AAIA;;AAAA;;AAegB;;AAAA;;AAKhB;;AAAA;;AAgBJ;;AAAA;;AAIA;;AAAA;;AAIA;;AAAA;;AAoBJ;;AAAA;;AAEA;;AAAA;;AACA;;AAAA;;AAIA;;AAAA;;AAiCoC;;AAAA;;AAUA;;AAAA;;AAcS;;AAAA;;AA+CJ;;AAAA;;AAsBT;;AAAA;;AAQA;;AAAA;;AAIA;;AAAA;;AAIA;;AAAA;;AAKU;;AAAA;;AAGA;;AAAA;;AAYD;;AAAA;;AAgBJ;;AAAA;;AAUb;;AAAA;;AACA;;AAAA;;AAiBD;;AAAA;;AASsB;;AAAA;;AAcA;;AAAA;;AAcA;;AAAA;;AAqPzC;;AAAA;;AAcA;;AAAA;;;;UClmBnBuX,c;AAWX,gCAAoBxG,KAApB,EACoBlU,GADpB,EACwC;AAAA;;AADpB,eAAAkU,KAAA,GAAAA,KAAA;AACA,eAAAlU,GAAA,GAAAA,GAAA;AAPb,eAAAqE,KAAA,GAAgB,IAAhB;AACA,eAAAqU,OAAA,GAAkB,IAAlB;AAOL,eAAK1P,EAAL,GAAU,KAAKkL,KAAL,CAAWyG,QAAX,CAAoBC,QAApB,CAA6BrR,GAA7B,CAAiC,IAAjC,CAAV;AACD;;;;iBAID,oBAAQ;AAAA;;AACN,iBAAKvJ,GAAL,CAAS6a,YAAT,CAAsB,KAAK7R,EAA3B,EACGtG,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAAC+V,OAAL,GAAe,IAAf;AACA,qBAAI,CAACoC,QAAL,GAAgBnY,IAAhB;;AACA,qBAAI,CAACwS,WAAL,CAAiB,OAAI,CAAC2F,QAAL,CAAc3V,GAA/B;;AACA,qBAAI,CAACjE,QAAL,GAAgB,IAAI6Z,IAAI,CAACC,YAAT,CAAsB,OAAtB,EAA+B3a,MAA/B,CAAsC,OAAI,CAACya,QAAL,CAAc5Z,QAApD,CAAhB;AACA,qBAAI,CAAC+Z,OAAL,GAAe3S,IAAI,CAAC4N,IAAL,CAAU,OAAI,CAAC4E,QAAL,CAAcG,OAAd,GAAwB,GAAxB,GAA8B,OAAI,CAACH,QAAL,CAAcI,OAAtD,CAAf;AACA,kBAAIC,mBAAmB,GAAG,OAAI,CAACL,QAAL,CAAc7Z,QAAd,CAAuBoE,UAAvB,CAAkC,OAAI,CAACyV,QAAL,CAAc9J,OAAhD,CAA1B;AACA,kBAAIoK,mBAAmB,GAAG,OAAI,CAACN,QAAL,CAAc5Z,QAAd,GAA0Bia,mBAApD;AACA,qBAAI,CAACE,cAAL,GAAsB/S,IAAI,CAAC4N,IAAL,CAAU,OAAI,CAAC4E,QAAL,CAAc5Z,QAAd,GAAyB,OAAI,CAAC4Z,QAAL,CAAc7Z,QAAd,CAAuBoE,UAAvB,CAAkC,OAAI,CAACyV,QAAL,CAAc9J,OAAhD,CAAnC,CAAtB;AACA,qBAAI,CAACsK,aAAL,GAAqBhT,IAAI,CAAC4N,IAAL,CAAU,OAAI,CAAC4E,QAAL,CAAcG,OAAd,GAAwB,OAAI,CAACI,cAA7B,GAA8C,GAAxD,CAArB,CATqB,CAUrB;AACA;AACA;;AACA,qBAAI,CAAC3C,OAAL,GAAe,KAAf;AACD,aAfH;AAgBD;;;iBAED,qBAAYlY,KAAZ,EAAiB;AAAA;;AACf,iBAAKR,GAAL,CAASub,mBAAT,CAA6B/a,KAA7B,EACGkC,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAAC6Y,QAAL,GAAgB7Y,IAAhB;AACD,aAHH;AAKD;;;iBAED,kBAASgE,CAAT,EAAU;AACR,oBAAOA,CAAP;AAEI,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;AAVZ;AAaD;;;iBAED,oBAAWA,CAAX,EAAY;AACV,gBAAG,KAAKtC,KAAR,EAAc;AACZ,mBAAKA,KAAL,GAAa,KAAb;AACA,mBAAKD,SAAL,GAAiBuC,CAAC,GAAG,CAArB;AACA,qBAAOA,CAAC,GAAG2B,IAAI,CAACC,GAAL,CAAS,KAAKnE,SAAd,CAAX;AACD,aAJD,MAIK;AACH,qBAAOuC,CAAC,GAAG2B,IAAI,CAACC,GAAL,CAAS,KAAKnE,SAAd,CAAX;AACD;AACF;;;iBAED,wBAAY;AAEV,gBAAI0W,QAAQ,GAAG,KAAKA,QAApB;AACA,gBAAIQ,aAAa,GAAG,KAAKA,aAAzB;AACA,gBAAID,cAAc,GAAG,KAAKA,cAA1B,CAJU,CAKV;;AAEAP,oBAAQ,CAACW,OAAT,GAAmB,mCAAM,CAACX,QAAQ,CAACW,OAAV,CAAN,CAAyBC,GAAzB,GAA+Brb,MAA/B,CAAsC,YAAtC,CAAnB;AACAya,oBAAQ,CAACa,OAAT,GAAmB,mCAAM,CAACb,QAAQ,CAACa,OAAV,CAAN,CAAyBD,GAAzB,GAA+Brb,MAA/B,CAAsC,YAAtC,CAAnB;AACAya,oBAAQ,CAACrY,KAAT,GAAiB,mCAAM,CAACqY,QAAQ,CAACrY,KAAV,CAAN,CAAuBpC,MAAvB,CAA8B,YAA9B,CAAjB;AACAya,oBAAQ,CAACc,SAAT,GAAqB,IAAIb,IAAI,CAACC,YAAT,CAAsB,OAAtB,EAA+B3a,MAA/B,CAAsCya,QAAQ,CAAC5Z,QAA/C,CAArB;AAGA,gBAAI+C,QAAQ,GAAG,KAAK4X,QAAL,CAAcf,QAAQ,CAAC9J,OAAvB,CAAf;AACA,gBAAItD,QAAQ,GAAG,KAAK8N,QAAL,CAAcM,UAA7B;AACA,gBAAI3F,OAAO,GAAG,EAAd;AAEA,gBAAI4F,SAAS,GAAG,EAAhB;AACA,gBAAId,OAAO,GAAG,KAAKA,OAAnB;AAEA,gBAAIrV,UAAU,GAAGkV,QAAQ,CAAC7Z,QAAT,CAAkB2E,UAAlB,CAA6BkV,QAAQ,CAAC9J,OAAtC,CAAjB;AAEA,gBAAIgL,MAAM,GAAGpW,UAAU,CAAC4K,MAAX,CAAkB,UAAA5P,CAAC;AAAA,qBAAIA,CAAC,CAACK,QAAF,CAAWiE,KAAX,CAAiBF,MAAjB,KAA4B,OAAhC;AAAA,aAAnB,CAAb;AACA,gBAAIQ,QAAQ,GAAGI,UAAU,CAAC4K,MAAX,CAAkB,UAAA5P,CAAC;AAAA,qBAAIA,CAAC,CAACK,QAAF,CAAWiE,KAAX,CAAiBF,MAAjB,KAA4B,UAAhC;AAAA,aAAnB,CAAf;AACA,gBAAIiX,MAAM,GAAGrW,UAAU,CAAC4K,MAAX,CAAkB,UAAA5P,CAAC;AAAA,qBAAIA,CAAC,CAACK,QAAF,CAAWiE,KAAX,CAAiBF,MAAjB,KAA4B,QAA5B,IAAwCpE,CAAC,CAACK,QAAF,CAAWiE,KAAX,CAAiBF,MAAjB,KAA4B,eAAxE;AAAA,aAAnB,CAAb;AACA,gBAAIkX,eAAJ;AACA,gBAAIC,MAAM,GAAG,EAAb;AACA,gBAAIC,MAAM,GAAG,EAAb;AACA,gBAAIC,KAAK,GAAG,EAAZ;;AAEA,gBAAGJ,MAAM,CAACtR,MAAP,GAAgB,CAAnB,EAAqB;AAEnB;AAEAwR,oBAAM,GAAGF,MAAM,CAAC,CAAD,CAAN,CAAUhb,QAAV,CAAmB+D,MAA5B;AACAoX,oBAAM,GAAGH,MAAM,CAAC,CAAD,CAAN,CAAUhb,QAAV,CAAmBwE,KAA5B;AACA4W,mBAAK,GAAGJ,MAAM,CAAC,CAAD,CAAN,CAAUhb,QAAV,CAAmBqb,MAA3B;AACA,kBAAIC,WAAW,GAAIN,MAAM,CAAC,CAAD,CAAN,CAAU/a,QAAV,GAAqB4Z,QAAQ,CAACI,OAA/B,GAAwC,IAA1D;AACAgB,6BAAe,GAAGK,WAAW,CAACC,OAAZ,CAAoB,CAApB,CAAlB;AAED,aAVD,MAUK;AACHN,6BAAe,GAAG,KAAlB;AACD;;AAED,gBAAIO,IAAI,GAAG7W,UAAU,CAAC4K,MAAX,CAAkB,UAAA5P,CAAC;AAAA,qBAAIA,CAAC,CAACK,QAAF,CAAWiE,KAAX,CAAiBF,MAAjB,KAA4B,MAAhC;AAAA,aAAnB,CAAX,CA5CU,CA6CV;;AACA,gBAAI0X,aAAJ;AACA,gBAAIC,WAAW,GAAG,EAAlB;AACA,gBAAIC,UAAU,GAAG,EAAjB;AACA,gBAAIC,WAAW,GAAG,EAAlB;;AACA,gBAAGJ,IAAI,CAAC9R,MAAL,IAAe,CAAlB,EAAoB;AAClB+R,2BAAa,GAAG,KAAhB;AACD,aAFD,MAEK;AACH,kBAAII,SAAS,GAAIL,IAAI,CAAC,CAAD,CAAJ,CAAQvb,QAAR,GAAmB4Z,QAAQ,CAAC5Z,QAA7B,GAAuC,IAAvD;AACAwb,2BAAa,GAAGI,SAAS,CAACN,OAAV,CAAkB,CAAlB,CAAhB;AACAG,yBAAW,GAAGF,IAAI,CAAC,CAAD,CAAJ,CAAQxb,QAAR,CAAiB+D,MAA/B;AACA4X,wBAAU,GAAGH,IAAI,CAAC,CAAD,CAAJ,CAAQxb,QAAR,CAAiBwE,KAA9B;AACAoX,yBAAW,GAAEJ,IAAI,CAAC,CAAD,CAAJ,CAAQxb,QAAR,CAAiBqb,MAA9B;AACD;;AACD,gBAAIS,IAAI,GAAGnX,UAAU,CAAC4K,MAAX,CAAkB,UAAA5P,CAAC;AAAA,qBAAIA,CAAC,CAACK,QAAF,CAAWiE,KAAX,CAAiBF,MAAjB,KAA4B,kBAAhC;AAAA,aAAnB,CAAX;AACA,gBAAIgY,UAAU,GAAIlC,QAAQ,CAAC5Z,QAAT,GAAoB6b,IAAI,CAAC,CAAD,CAAJ,CAAQ7b,QAA9C;AACA,gBAAI+b,MAAM,GAAGF,IAAI,CAAC,CAAD,CAAJ,CAAQ9b,QAAR,CAAiBic,KAAjB,GAAyBF,UAAtC;AACA,gBAAIG,cAAc,GAAG7U,IAAI,CAAC4N,IAAL,CAAU8G,UAAV,CAArB;AACA,gBAAIE,KAAK,GAAGtX,UAAU,CAAC4K,MAAX,CAAkB,UAAA5P,CAAC;AAAA,qBAAIA,CAAC,CAACK,QAAF,CAAWiE,KAAX,CAAiBF,MAAjB,KAA4B,mBAAhC;AAAA,aAAnB,CAAZ;AACA,gBAAIoY,eAAe,aAAM5X,QAAQ,CAAC,CAAD,CAAR,CAAYvE,QAAZ,CAAqB+D,MAA3B,cAAqCQ,QAAQ,CAAC,CAAD,CAAR,CAAYvE,QAAZ,CAAqBwE,KAA1D,uBAA4ED,QAAQ,CAAC,CAAD,CAAR,CAAYvE,QAAZ,CAAqByE,OAAjG,uBAAqHF,QAAQ,CAAC,CAAD,CAAR,CAAYvE,QAAZ,CAAqB0E,OAA1I,MAAnB;AACA,gBAAI0X,YAAY,GAAG,EAAnB;AACA,gBAAIC,YAAY,GAAG,EAAnB;AAEA,gBAAIC,iBAAiB,GAAG,EAAxB;;AAEA,gBAAGzC,QAAQ,CAAC0C,GAAZ,EAAgB;AACdD,+BAAiB,GAAG,IAApB;AACD,aAFD,MAEK;AACHA,+BAAiB,GAAG,IAApB;AACD;;AAED,gBAAIhM,EAAE,GAAG,CAAT;;AACA,iBAAI,IAAI5P,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAACqa,MAAM,CAACrR,MAAxB,EAAgChJ,CAAC,EAAjC,EAAoC;AAClC,kBAAGqa,MAAM,CAACra,CAAD,CAAN,CAAUV,QAAV,CAAmBwc,KAAnB,KAA6B,OAAhC,EAAwC;AACtC,oBAAIC,IAAI,oBAAa5C,QAAQ,CAAC/V,OAAT,CAAiBE,MAA9B,cAAwC6V,QAAQ,CAAC7Z,QAAT,CAAkBgE,MAA1D,cAAoE6V,QAAQ,CAAC7Z,QAAT,CAAkBmE,OAAtF,cAAiGnB,QAAjG,OAAR;AACA8X,yBAAS,CAAC/a,IAAV,CAAe0c,IAAf;AACD,eAHD,MAGM,IAAG1B,MAAM,CAACra,CAAD,CAAN,CAAUV,QAAV,CAAmBwc,KAAnB,KAA6B,MAAhC,EAAuC;AAC3C,oBAAIC,KAAI,mBAAY5C,QAAQ,CAAC/V,OAAT,CAAiBE,MAA7B,cAAuC6V,QAAQ,CAAC7Z,QAAT,CAAkBgE,MAAzD,cAAmE6V,QAAQ,CAAC7Z,QAAT,CAAkBmE,OAArF,cAAgGnB,QAAhG,OAAR;;AACA8X,yBAAS,CAAC/a,IAAV,CAAe0c,KAAf;AACD,eAHK,MAGA,IAAG1B,MAAM,CAACra,CAAD,CAAN,CAAUV,QAAV,CAAmBwc,KAAnB,KAA6B,SAAhC,EAA0C;AAC9C,oBAAIC,MAAI,sBAAe5C,QAAQ,CAAC/V,OAAT,CAAiBE,MAAhC,cAA0C6V,QAAQ,CAAC7Z,QAAT,CAAkBgE,MAA5D,cAAsE6V,QAAQ,CAAC7Z,QAAT,CAAkBmE,OAAxF,cAAmGnB,QAAnG,OAAR;;AACA8X,yBAAS,CAAC/a,IAAV,CAAe0c,MAAf;AACD,eAHK,MAGA,IAAG1B,MAAM,CAACra,CAAD,CAAN,CAAUV,QAAV,CAAmBwc,KAAnB,KAA6B,UAAhC,EAA2C;AAC/C,oBAAIC,MAAI,uBAAgB5C,QAAQ,CAAC/V,OAAT,CAAiBE,MAAjC,cAA2C6V,QAAQ,CAAC7Z,QAAT,CAAkBgE,MAA7D,cAAuE6V,QAAQ,CAAC7Z,QAAT,CAAkBmE,OAAzF,cAAoGnB,QAApG,OAAR;;AACA8X,yBAAS,CAAC/a,IAAV,CAAe0c,MAAf;AACD,eAHK,MAGD;AACH,oBAAIA,MAAI,aAAM1B,MAAM,CAACra,CAAD,CAAN,CAAUV,QAAV,CAAmBwc,KAAzB,eAAmC3C,QAAQ,CAAC/V,OAAT,CAAiBE,MAApD,cAA8D6V,QAAQ,CAAC7Z,QAAT,CAAkBgE,MAAhF,cAA0F6V,QAAQ,CAAC7Z,QAAT,CAAkBmE,OAA5G,cAAuHnB,QAAvH,cAAmIsN,EAAE,EAArI,CAAR;;AACAwK,yBAAS,CAAC/a,IAAV,CAAe0c,MAAf;AACD;;AACDL,0BAAY,CAACrc,IAAb,CAAkBgb,MAAM,CAACra,CAAD,CAAN,CAAUV,QAAV,CAAmBwc,KAArC;AACA,kBAAIvc,QAAQ,GAAI8a,MAAM,CAACra,CAAD,CAAN,CAAUT,QAAV,GAAqB,KAAK4Z,QAAL,CAAcI,OAApC,GAA6C,IAA5D;AACAha,sBAAQ,GAAGuQ,MAAM,CAACvQ,QAAD,CAAjB;AACA,kBAAIyc,cAAc,GAAGzc,QAAQ,CAACsb,OAAT,CAAiB,CAAjB,CAArB;AACA,kBAAIoB,KAAK,aAAM5B,MAAM,CAACra,CAAD,CAAN,CAAUV,QAAV,CAAmBwc,KAAzB,eAAmCzB,MAAM,CAACra,CAAD,CAAN,CAAUV,QAAV,CAAmB+D,MAAtD,cAAgEgX,MAAM,CAACra,CAAD,CAAN,CAAUV,QAAV,CAAmBwE,KAAnF,gBAA8FkY,cAA9F,SAA+G3B,MAAM,CAACra,CAAD,CAAN,CAAUV,QAAV,CAAmBqb,MAAlI,MAAT;AACAgB,0BAAY,CAACtc,IAAb,CAAkB4c,KAAlB;AACD;;AAED,iBAAI,IAAIjc,GAAC,GAAC,CAAV,EAAaA,GAAC,GAAC+L,QAAQ,CAAC/C,MAAxB,EAA+BhJ,GAAC,EAAhC,EAAmC;AACjCwU,qBAAO,CAACnV,IAAR,CAAa0M,QAAQ,CAAC/L,GAAD,CAAR,CAAYwU,OAAZ,CAAoBnR,MAAjC;AACD;;AAGD,gBAAG8V,QAAQ,CAAC9J,OAAT,IAAoB,CAAvB,EAAyB;AACvB8J,sBAAQ,CAACI,OAAT,GAAmBI,aAAa,GAAGD,cAAnC;AACD;;AAGD,gBAAMwC,GAAG,GAAG,IAAI,8DAAJ,EAAZ;AACA,2EAAeC,QAAf,CAAwB,oDAAxB;;AAGA,qBAAeC,UAAf,GAAyB;;;;;;uCACvBF,G;uCACM,qD;uCAEI,oD;;AAAK,+BAAM,IAAI,mDAAJ,CAAQ,gCAAR,EAA0CG,KAA1C,CAAgD,EAAhD,EAAoDC,MAApD,CAA2D,CAAC,EAAD,EAAK,CAAL,CAA3D,EAAoEC,KAApE,EAAN;;;;sEAAmFC,O,CAAQ,C,EAAGC,G;uCACvG,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,yCACaC,IADb,GACoBD,GAD7B,EACkCE,SADlC,CAC4C,QAD5C,EACsDC,QADtD,CAC+D,EAD/D,EACmEJ,OADnE,CAC2E,CAD3E,EAC8EC,G;uCAC9E,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,iBAAR,EAA2BA,GAApC,EAAyCI,SAAzC,CAAmD,SAAnD,EAA8DD,QAA9D,CAAuE,CAAvE,EAA0ED,SAA1E,CAAoF,QAApF,EAA8FF,G;;uCAEhG,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BA,GAD5B,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BA,GAF5B,EAGE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,mBAAR,EAA6BA,GAAtC,EAA2CI,SAA3C,CAAqD,SAArD,EAAgED,QAAhE,CAAyE,CAAzE,EAA4ED,SAA5E,CAAsF,QAAtF,EAAgGF,GAHlG,C;uCAKA,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BA,GAD5B,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BA,GAF5B,EAGE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,+BAAR,EAAyCA,GAAlD,EAAuDI,SAAvD,CAAiE,SAAjE,EAA4ED,QAA5E,CAAqF,CAArF,EAAwFD,SAAxF,CAAkG,QAAlG,EAA4GF,GAH9G,C;wCAKA,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BA,GAD5B,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BA,GAF5B,EAGE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,gBAAR,EAA0BA,GAAnC,EAAwCI,SAAxC,CAAkD,SAAlD,EAA6DD,QAA7D,CAAsE,CAAtE,EAAyED,SAAzE,CAAmF,QAAnF,EAA6FF,GAH/F,C;;wEAKCK,M,CAAO,CAAC,KAAD,EAAO,KAAP,EAAa,KAAb,C,EAAqBL,G;;qCAvB7BM,G;;AA0BJb,2BAAG,CAACa,GAAJ,CACEb,GAAG,CAACc,EAAJ,CAAO,CAAP,CADF;AAIAd,2BAAG,CAACa,GAAJ,CACE,IAAI,qDAAJ,CAAU,CACR,CACE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAU,CACjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,iBAAR,EAA2BL,IAA3B,GAAkCD,GAA3C,EAAgDQ,OAAhD,CAAwD,CAAxD,EAA2DN,SAA3D,CAAqE,QAArE,EAA+EE,SAA/E,CAAyF,SAAzF,EAAoGf,KAApG,CAA0G,SAA1G,EAAqHc,QAArH,CAA8H,CAA9H,EAAiIH,GADnI,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BA,GAF5B,CADiB,EAKjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,IAAR,EAAcA,GAAvB,EAA4BI,SAA5B,CAAsC,SAAtC,EAAiDD,QAAjD,CAA0D,CAA1D,EAA6DH,GAD/D,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,WAAWtD,QAAQ,CAACta,KAApB,GAA6B4d,GAAtC,EAA2CG,QAA3C,CAAoD,CAApD,EAAuDH,GAFzD,CALiB,EASjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,cAAR,EAAwBA,GAAjC,EAAsCI,SAAtC,CAAgD,SAAhD,EAA2DD,QAA3D,CAAoE,CAApE,EAAuEH,GADzE,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,WAAWtD,QAAQ,CAACW,OAApB,GAA+BwC,MAA/B,CAAsC,CAAC,CAAD,EAAG,CAAH,CAAtC,EAA6CG,GAAtD,EAA2DG,QAA3D,CAAoE,CAApE,EAAuEH,GAFzE,CATiB,CAAV,EAaNK,MAbM,CAaC,CAAC,KAAD,EAAO,KAAP,CAbD,EAagBL,GAbzB,EAcEA,GAfJ,EAiBE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAU,CACjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,UAAR,EAAoBC,IAApB,GAA2BD,GAApC,EAAyCQ,OAAzC,CAAiD,CAAjD,EAAoDN,SAApD,CAA8D,QAA9D,EAAwEE,SAAxE,CAAkF,SAAlF,EAA6Ff,KAA7F,CAAmG,SAAnG,EAA8Gc,QAA9G,CAAuH,CAAvH,EAA0HH,GAD5H,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BA,GAF5B,CADiB,EAKjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,SAAR,EAAmBA,GAA5B,EAAiCI,SAAjC,CAA2C,SAA3C,EAAsDD,QAAtD,CAA+D,CAA/D,EAAkEH,GADpE,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,WAAWtD,QAAQ,CAAC7Z,QAAT,CAAkBA,QAA7B,GAAyCmd,GAAlD,EAAuDG,QAAvD,CAAgE,EAAhE,EAAoEH,GAFtE,CALiB,EASjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,SAAR,EAAmBA,GAA5B,EAAiCI,SAAjC,CAA2C,SAA3C,EAAsDD,QAAtD,CAA+D,CAA/D,EAAkEH,GADpE,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,WAAWtD,QAAQ,CAAC/V,OAAT,CAAiBE,MAA5B,cAAsC6V,QAAQ,CAAC7Z,QAAT,CAAkBgE,MAAxD,cAAkE6V,QAAQ,CAAC7Z,QAAT,CAAkBmE,OAApF,GAA+FgZ,GAAxG,EAA6GG,QAA7G,CAAsH,EAAtH,EAA0HH,GAF5H,CATiB,CAAV,EAaNK,MAbM,CAaC,CAAC,KAAD,EAAO,KAAP,CAbD,EAagBL,GAbzB,EAcEA,GA/BJ,EAiCE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAU,CACjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,qBAAR,EAA+BC,IAA/B,GAAsCD,GAA/C,EAAoDQ,OAApD,CAA4D,CAA5D,EAA+DN,SAA/D,CAAyE,QAAzE,EAAmFE,SAAnF,CAA6F,SAA7F,EAAwGf,KAAxG,CAA8G,SAA9G,EAAyHc,QAAzH,CAAkI,CAAlI,EAAqIH,GADvI,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BA,GAF5B,CADiB,EAKjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,KAAR,EAAeA,GAAxB,EAA6BI,SAA7B,CAAuC,SAAvC,EAAkDD,QAAlD,CAA2D,CAA3D,EAA8DH,GADhE,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,WAAWtD,QAAQ,CAACja,IAApB,GAA4Bwd,IAA5B,GAAmCD,GAA5C,EAAiDG,QAAjD,CAA0D,EAA1D,EAA8DH,GAFhE,CALiB,EASjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,mBAAR,EAA6BA,GAAtC,EAA2CI,SAA3C,CAAqD,SAArD,EAAgED,QAAhE,CAAyE,CAAzE,EAA4EH,GAD9E,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,WAAWtD,QAAQ,CAACrY,KAApB,GAA6Bwb,MAA7B,CAAoC,CAAC,CAAD,EAAG,CAAH,CAApC,EAA2CG,GAApD,EAAyDG,QAAzD,CAAkE,CAAlE,EAAqEH,GAFvE,CATiB,CAAV,EAaNK,MAbM,CAaC,CAAC,KAAD,EAAO,KAAP,CAbD,EAagBL,GAbzB,EAcEA,GA/CJ,CADQ,CAAV,EAoDGS,MApDH,CAoDU,WApDV,EAoDuBJ,MApDvB,CAoD8B,CAAC,KAAD,EAAO,KAAP,EAAa,KAAb,CApD9B,EAoDmDL,GArDrD;AAwDAP,2BAAG,CAACa,GAAJ,CACE,IAAI,qDAAJ,CAAU,CACR,CACE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAU,CACjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,0BAAR,EAAoCL,IAApC,GAA2CD,GAApD,EAAyDQ,OAAzD,CAAiE,CAAjE,EAAoEN,SAApE,CAA8E,QAA9E,EAAwFE,SAAxF,CAAkG,SAAlG,EAA6Gf,KAA7G,CAAmH,SAAnH,EAA8Hc,QAA9H,CAAuI,CAAvI,EAA0IH,GAD5I,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BA,GAF5B,CADiB,EAKjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,UAAR,EAAoBA,GAA7B,EAAkCI,SAAlC,CAA4C,SAA5C,EAAuDD,QAAvD,CAAgE,CAAhE,EAAmEH,GADrE,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,WAAWtD,QAAQ,CAAC/V,OAAT,CAAiBC,MAA5B,GAAsCoZ,GAA/C,EAAoDG,QAApD,CAA6D,EAA7D,EAAiEH,GAFnE,CALiB,EASjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,iCAAR,EAA2CA,GAApD,EAAyDI,SAAzD,CAAmE,SAAnE,EAA8ED,QAA9E,CAAuF,CAAvF,EAA0FH,GAD5F,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,WAAWtD,QAAQ,CAAC7Z,QAAT,CAAkBmJ,WAA7B,GAA4CgU,GAArD,EAA0DG,QAA1D,CAAmE,EAAnE,EAAuEH,GAFzE,CATiB,EAajB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,2BAAR,EAAqCA,GAA9C,EAAmDI,SAAnD,CAA6D,SAA7D,EAAwED,QAAxE,CAAiF,CAAjF,EAAoFH,GADtF,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,aAAatD,QAAQ,CAAC/V,OAAT,CAAiBE,MAA9B,cAAwC6V,QAAQ,CAAC7Z,QAAT,CAAkBgE,MAA1D,cAAoE6V,QAAQ,CAAC7Z,QAAT,CAAkBmE,OAAtF,cAAiG0V,QAAQ,CAAC7Z,QAAT,CAAkBoJ,OAAnH,GAA8H+T,GAAvI,EAA4IG,QAA5I,CAAqJ,EAArJ,EAAyJH,GAF3J,CAbiB,CAAV,EAiBNK,MAjBM,CAiBC,CAAC,KAAD,EAAO,KAAP,CAjBD,EAiBgBL,GAjBzB,EAkBEA,GAnBJ,CADQ,CAAV,EAwBGS,MAxBH,CAwBU,WAxBV,EAwBuBJ,MAxBvB,CAwB8B,CAAC,MAAD,CAxB9B,EAwBwCL,GAzB1C;AA4BAP,2BAAG,CAACa,GAAJ,CACE,IAAI,qDAAJ,CAAU,CACR,CACE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAU,CACjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,2BAAR,EAAqCL,IAArC,GAA4CD,GAArD,EAA0DQ,OAA1D,CAAkE,CAAlE,EAAqEN,SAArE,CAA+E,QAA/E,EAAyFE,SAAzF,CAAmG,SAAnG,EAA8Gf,KAA9G,CAAoH,SAApH,EAA+Hc,QAA/H,CAAwI,CAAxI,EAA2IH,GAD7I,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BA,GAF5B,EAGE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BA,GAH5B,EAIE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BA,GAJ5B,CADiB,EAQjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,KAAR,EAAeA,GAAxB,EAA6BI,SAA7B,CAAuC,SAAvC,EAAkDD,QAAlD,CAA2D,CAA3D,EAA8DH,GADhE,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,WAAR,EAAqBA,GAA9B,EAAmCI,SAAnC,CAA6C,SAA7C,EAAwDD,QAAxD,CAAiE,CAAjE,EAAoEH,GAFtE,EAGE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,mBAAR,EAA6BA,GAAtC,EAA2CI,SAA3C,CAAqD,SAArD,EAAgED,QAAhE,CAAyE,CAAzE,EAA4EH,GAH9E,EAIE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,mBAAR,EAA6BA,GAAtC,EAA2CI,SAA3C,CAAqD,SAArD,EAAgED,QAAhE,CAAyE,CAAzE,EAA4EH,GAJ9E,CARiB,EAcjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,MAAaA,GAAtB,EAA2BG,QAA3B,CAAoC,CAApC,EAAuCH,GADzC,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,WAAWtD,QAAQ,CAACc,SAApB,GAAiCwC,GAA1C,EAA+CG,QAA/C,CAAwD,CAAxD,EAA2DH,GAF7D,EAGE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,WAAWtD,QAAQ,CAACa,OAApB,GAA+ByC,GAAxC,EAA6CG,QAA7C,CAAsD,CAAtD,EAAyDH,GAH3D,EAIE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,WAAWtD,QAAQ,CAACxZ,OAApB,GAA+B8c,GAAxC,EAA6CG,QAA7C,CAAsD,CAAtD,EAAyDH,GAJ3D,CAdiB,EAoBjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,UAAiBA,GAA1B,EAA+BI,SAA/B,CAAyC,SAAzC,EAAoDD,QAApD,CAA6D,CAA7D,EAAgEH,GADlE,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,WAAWtD,QAAQ,CAACc,SAApB,GAAiCwC,GAA1C,EAA+CG,QAA/C,CAAwD,CAAxD,EAA2DH,GAF7D,EAGE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,KAAYA,GAArB,EAA0BU,MAA1B,CAAiC,CAAC,KAAD,CAAjC,EAA0CP,QAA1C,CAAmD,CAAnD,EAAsDH,GAHxD,EAIE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,KAAYA,GAArB,EAA0BU,MAA1B,CAAiC,CAAC,KAAD,CAAjC,EAA0CP,QAA1C,CAAmD,CAAnD,EAAsDH,GAJxD,CApBiB,CAAV,EA0BNK,MA1BM,CA0BC,CAAC,IAAD,EAAM,KAAN,EAAY,KAAZ,EAAkB,KAAlB,CA1BD,EA0B2BL,GA1BpC,EA2BEA,GA5BJ,CADQ,CAAV,EAiCGS,MAjCH,CAiCU,WAjCV,EAiCuBJ,MAjCvB,CAiC8B,CAAC,MAAD,CAjC9B,EAiCwCL,GAlC1C;AAqCAP,2BAAG,CAACc,EAAJ,CAAO,CAAP;AACAd,2BAAG,CAACa,GAAJ,CACE,IAAI,qDAAJ,CAAU,CACR,CACE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAU,CACjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,+BAAR,EAAyCL,IAAzC,GAAgDD,GAAzD,EAA8DE,SAA9D,CAAwE,QAAxE,EAAkFE,SAAlF,CAA4F,SAA5F,EAAuGf,KAAvG,CAA6G,SAA7G,EAAwHc,QAAxH,CAAiI,CAAjI,EAAoIH,GADtI,CADiB,EAIjB,CACE,IAAI,oDAAJ,CACE,IAAI,qDAAJ,CAAU,CACR,CACE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAU,CACjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,eAAR,EAAyBA,GAAlC,EAAuCI,SAAvC,CAAiD,SAAjD,EAA4DD,QAA5D,CAAqE,CAArE,EAAwEH,GAD1E,CADiB,EAIjB,CACE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAU,CACjB,CACE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAU,CACjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,oBAAR,EAA8BA,GAAvC,EAA4CE,SAA5C,CAAsD,QAAtD,EAAgEE,SAAhE,CAA0E,SAA1E,EAAqFD,QAArF,CAA8F,CAA9F,EAAiGH,GADnG,CADiB,EAIjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,aAAatD,QAAQ,CAAC/V,OAAT,CAAiBE,MAA9B,cAAwC6V,QAAQ,CAAC7Z,QAAT,CAAkBgE,MAA1D,cAAoE6V,QAAQ,CAAC7Z,QAAT,CAAkBmE,OAAtF,cAAiGnB,QAAjG,GAA6Gma,GAAtH,EAA2HA,GAD7H,CAJiB,EAOjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,wBAAR,EAAkCA,GAA3C,EAAgDE,SAAhD,CAA0D,QAA1D,EAAoEE,SAApE,CAA8E,SAA9E,EAAyFD,QAAzF,CAAkG,CAAlG,EAAqGH,GADvG,CAPiB,EAUjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,WAAWtD,QAAQ,CAAC7Z,QAAT,CAAkBoE,UAAlB,CAA6ByV,QAAQ,CAAC9J,OAAtC,CAAX,GAA6DoN,GAAtE,EAA2EA,GAD7E,CAViB,CAAV,EAaNK,MAbM,CAaC,CAAC,MAAD,CAbD,EAaWL,GAbpB,EAcEG,QAdF,CAcW,CAdX,EAccH,GAfhB,EAgBE,IAAI,oDAAJ,CACE,IAAI,qDAAJ,CAAU,CACV,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,qBAAR,EAA+BA,GAAxC,EAA6CE,SAA7C,CAAuD,QAAvD,EAAiEE,SAAjE,CAA2E,SAA3E,EAAsFD,QAAtF,CAA+F,CAA/F,EAAkGH,GADpG,CADU,EAIV,CACE,IAAI,qDAAJ,CAAUrC,SAAV,EAAqBwC,QAArB,CAA8B,CAA9B,EAAiCH,GADnC,CAJU,CAAV,EAOCK,MAPD,CAOQ,CAAC,MAAD,CAPR,EAOkBL,GARpB,EASEA,GAzBJ,CADiB,CAAV,EA4BNS,MA5BM,CA4BC,WA5BD,EA4BcJ,MA5Bd,CA4BqB,CAAC,KAAD,EAAQ,KAAR,CA5BrB,EA4BqCL,GA5B9C,EA6BEA,GA9BJ,CAJiB,CAAV,EAoCNS,MApCM,CAoCC,WApCD,EAoCcJ,MApCd,CAoCqB,CAAC,MAAD,CApCrB,EAoC+BL,GApCxC,EAqCEU,MArCF,CAqCS,CAAC,KAAD,CArCT,EAqCkBN,SArClB,CAqC4B,SArC5B,EAqCuCJ,GAtCzC,CADQ,EAyCR,CACE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAU,CACjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,WAAR,EAAqBA,GAA9B,EAAmCI,SAAnC,CAA6C,SAA7C,EAAwDD,QAAxD,CAAiE,CAAjE,EAAoEH,GADtE,CADiB,EAIjB,CACE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAU,CACjB,CACE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAU,CACjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,UAAR,EAAoBA,GAA7B,EAAkCE,SAAlC,CAA4C,QAA5C,EAAsDE,SAAtD,CAAgE,SAAhE,EAA2ED,QAA3E,CAAoF,CAApF,EAAuFH,GADzF,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,iBAAR,EAA2BA,GAApC,EAAyCE,SAAzC,CAAmD,QAAnD,EAA6DE,SAA7D,CAAuE,SAAvE,EAAkFD,QAAlF,CAA2F,CAA3F,EAA8FH,GAFhG,CADiB,EAKjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQhB,eAAR,EAAyBgB,GAAlC,EAAuCG,QAAvC,CAAgD,EAAhD,EAAoDH,GADtD,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,WAAW5Y,QAAQ,CAAC,CAAD,CAAR,CAAYvE,QAAZ,CAAqBwJ,KAAhC,gBAA2CjF,QAAQ,CAAC,CAAD,CAAR,CAAYvE,QAAZ,CAAqB2J,KAAhE,GAAyEwT,GAAlF,EAAuFE,SAAvF,CAAiG,QAAjG,EAA2GC,QAA3G,CAAoH,EAApH,EAAwHH,GAF1H,CALiB,EASjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,oBAAR,EAA8BA,GAAvC,EAA4CE,SAA5C,CAAsD,QAAtD,EAAgEE,SAAhE,CAA0E,SAA1E,EAAqFD,QAArF,CAA8F,CAA9F,EAAiGH,GADnG,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,mBAAR,EAA6BA,GAAtC,EAA2CE,SAA3C,CAAqD,QAArD,EAA+DE,SAA/D,CAAyE,SAAzE,EAAoFD,QAApF,CAA6F,CAA7F,EAAgGH,GAFlG,CATiB,EAajB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ5Y,QAAQ,CAAC,CAAD,CAAR,CAAYvE,QAAZ,CAAqB2J,KAA7B,EAAoCwT,GAA7C,EAAkDE,SAAlD,CAA4D,QAA5D,EAAsEC,QAAtE,CAA+E,EAA/E,EAAmFH,GADrF,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,WAAWtD,QAAQ,CAACiE,OAApB,gBAAiCjE,QAAQ,CAACkE,OAA1C,GAAqDZ,GAA9D,EAAmEE,SAAnE,CAA6E,QAA7E,EAAuFC,QAAvF,CAAgG,EAAhG,EAAoGH,GAFtG,CAbiB,CAAV,EAmBNK,MAnBM,CAmBC,CAAC,KAAD,EAAO,KAAP,CAnBD,EAmBgBL,GAnBzB,EAoBEG,QApBF,CAoBW,CApBX,EAoBcH,GArBhB,EAyBE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,4BAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAU,CACjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,WAAR,EAAqBA,GAA9B,EAAmCI,SAAnC,CAA6C,SAA7C,EAAwDF,SAAxD,CAAkE,QAAlE,EAA4EC,QAA5E,CAAqF,CAArF,EAAwFH,GAD1F,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,mBAAR,EAA6BA,GAAtC,EAA2CI,SAA3C,CAAqD,SAArD,EAAgEF,SAAhE,CAA0E,QAA1E,EAAoFC,QAApF,CAA6F,CAA7F,EAAgGH,GAFlG,CADiB,EAKjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQtD,QAAQ,CAACG,OAAjB,EAA0BmD,GAAnC,EAAwCG,QAAxC,CAAiD,EAAjD,EAAqDD,SAArD,CAA+D,QAA/D,EAAyEF,GAD3E,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ9C,aAAR,EAAuB8C,GAAhC,EAAqCG,QAArC,CAA8C,EAA9C,EAAkDD,SAAlD,CAA4D,QAA5D,EAAsEF,GAFxE,CALiB,EASjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,mBAAR,EAA6BA,GAAtC,EAA2CI,SAA3C,CAAqD,SAArD,EAAgEF,SAAhE,CAA0E,QAA1E,EAAoFC,QAApF,CAA6F,CAA7F,EAAgGH,GADlG,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,wBAAR,EAAkCA,GAA3C,EAAgDI,SAAhD,CAA0D,SAA1D,EAAqEF,SAArE,CAA+E,QAA/E,EAAyFC,QAAzF,CAAkG,CAAlG,EAAqGH,GAFvG,CATiB,EAajB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ/C,cAAR,EAAwBgD,IAAxB,GAA+BD,GAAxC,EAA6CG,QAA7C,CAAsD,EAAtD,EAA0DD,SAA1D,CAAoE,QAApE,EAA8EF,GADhF,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQtD,QAAQ,CAACI,OAAjB,EAA0BmD,IAA1B,GAAiCD,GAA1C,EAA+CG,QAA/C,CAAwD,EAAxD,EAA4DD,SAA5D,CAAsE,QAAtE,EAAgFF,GAFlF,CAbiB,CAAV,EAiBNK,MAjBM,CAiBC,CAAC,KAAD,EAAO,KAAP,CAjBD,EAiBgBL,GAjBzB,EAkBEA,GA/DJ,CADiB,EAkEjB,CACE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAU,CACjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,QAAR,EAAkBA,GAA3B,EAAgCE,SAAhC,CAA0C,QAA1C,EAAoDE,SAApD,CAA8D,SAA9D,EAAyEF,SAAzE,CAAmF,QAAnF,EAA6FC,QAA7F,CAAsG,CAAtG,EAAyGH,GAD3G,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,oBAAR,EAA8BE,SAA9B,CAAwC,QAAxC,EAAkDF,GAA3D,EAAgEI,SAAhE,CAA0E,SAA1E,EAAqFF,SAArF,CAA+F,QAA/F,EAAyGC,QAAzG,CAAkH,CAAlH,EAAqHH,GAFvH,CADiB,EAKjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,WAAWjC,MAAX,eAAsBC,MAAtB,gBAAkCF,eAAlC,SAAoDG,KAApD,QAA8D+B,GAAvE,EAA4EG,QAA5E,CAAqF,CAArF,EAAwFH,GAD1F,EAEE;AACA,4BAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQb,iBAAR,EAA2Ba,GAApC,EAAyCE,SAAzC,CAAmD,QAAnD,EAA6DC,QAA7D,CAAsE,CAAtE,EAAyEH,GAH3E,CALiB,CAAV,EAUNK,MAVM,CAUC,CAAC,KAAD,EAAO,KAAP,CAVD,EAUgBL,GAVzB,EAWEG,QAXF,CAWW,CAXX,EAWcH,GAZhB,EAaE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAU,CACjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,OAAR,EAAiBA,GAA1B,EAA+BE,SAA/B,CAAyC,QAAzC,EAAmDE,SAAnD,CAA6D,SAA7D,EAAwED,QAAxE,CAAiF,CAAjF,EAAoFH,GADtF,CADiB,EAIjB,CACE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAUd,YAAV,EAAwBc,GAAjC,EAAsCG,QAAtC,CAA+C,CAA/C,EAAkDH,GADpD,CAJiB,CAAV,EAONK,MAPM,CAOC,CAAC,MAAD,CAPD,EAOWL,GAPpB,EAQEG,QARF,CAQW,CARX,EAQcH,GArBhB,CAlEiB,CAAV,EA0FNS,MA1FM,CA0FC,WA1FD,EA0FcJ,MA1Fd,CA0FqB,CAAC,KAAD,EAAQ,KAAR,CA1FrB,EA0FqCL,GA1F9C,CA2FF;AA3FE,0BA4FEA,GA7FJ,CAJiB,CAAV,EAmGNS,MAnGM,CAmGC,WAnGD,EAmGcJ,MAnGd,CAmGqB,CAAC,MAAD,CAnGrB,EAmG+BL,GAnGxC,EAoGEU,MApGF,CAoGS,CAAC,KAAD,CApGT,EAoGkBN,SApGlB,CAoG4B,SApG5B,EAoGuCJ,GArGzC,CAzCQ,EAgJR,CACE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAU,CACjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,gBAAR,EAA0BA,GAAnC,EAAwCI,SAAxC,CAAkD,SAAlD,EAA6DD,QAA7D,CAAsE,CAAtE,EAAyEH,GAD3E,CADiB,EAIjB,CACE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAU,CACjB,CACE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAU,CACjB,CACE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAUtD,QAAQ,CAAC7Z,QAAT,CAAkBsE,IAA5B,EAAkC6Y,GAA3C,EAAgDG,QAAhD,CAAyD,CAAzD,EAA4DO,MAA5D,CAAmE,CAAC,KAAD,CAAnE,EAA4EV,GAD9E,CADiB,EAIjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,cAAR,EAAwBE,SAAxB,CAAkC,QAAlC,EAA4CF,GAArD,EAA0DI,SAA1D,CAAoE,SAApE,EAA+ED,QAA/E,CAAwF,CAAxF,EAA2FH,GAD7F,CAJiB,EAOjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,WAAWzB,WAAX,eAA2BC,UAA3B,gBAA2CF,aAA3C,SAA2DG,WAA3D,QAA2EuB,GAApF,EAAyFG,QAAzF,CAAkG,CAAlG,EAAqGH,GADvG,CAPiB,CAAV,EAUNK,MAVM,CAUC,CAAC,MAAD,CAVD,EAUWL,GAVpB,EAWEA,GAZJ,EAcE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAU,CACjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,gBAAR,EAA0BA,GAAnC,EAAwCE,SAAxC,CAAkD,QAAlD,EAA4DE,SAA5D,CAAsE,SAAtE,EAAiFD,QAAjF,CAA0F,CAA1F,EAA6FH,GAD/F,CADiB,EAIjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,WAAWrB,IAAI,CAAC,CAAD,CAAJ,CAAQ9b,QAAR,CAAiB+D,MAA5B,eAAuC+X,IAAI,CAAC,CAAD,CAAJ,CAAQ7b,QAA/C,kCAA+Eic,cAA/E,yBAAmHiB,GAA5H,EAAiIG,QAAjI,CAA0I,CAA1I,EAA6IH,GAD/I,CAJiB,EAOjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,mBAAR,EAA6BA,GAAtC,EAA2CE,SAA3C,CAAqD,QAArD,EAA+DE,SAA/D,CAAyE,SAAzE,EAAoFD,QAApF,CAA6F,CAA7F,EAAgGH,GADlG,CAPiB,EAUjB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,WAAYnB,MAAD,CAAST,OAAT,CAAiB,CAAjB,CAAX,QAAmC4B,GAA5C,EAAiDG,QAAjD,CAA0D,CAA1D,EAA6DH,GAD/D,CAViB,CAAV,EAaNK,MAbM,CAaC,CAAC,MAAD,CAbD,EAaWL,GAbpB,EAcEA,GA5BJ,CADiB,CAAV,EAiCNS,MAjCM,CAiCC,WAjCD,EAiCcJ,MAjCd,CAiCqB,CAAC,KAAD,EAAQ,KAAR,CAjCrB,EAiCqCL,GAjC9C,EAkCEA,GAnCJ,CAJiB,CAAV,EA0CNS,MA1CM,CA0CC,WA1CD,EA0CcJ,MA1Cd,CA0CqB,CAAC,MAAD,CA1CrB,EA0C+BL,GA1CxC,EA2CEU,MA3CF,CA2CS,CAAC,KAAD,CA3CT,EA2CkBN,SA3ClB,CA2C4B,SA3C5B,EA2CuCJ,GA5CzC,CAhJQ,CAAV,EA8LGK,MA9LH,CA8LU,CAAC,MAAD,CA9LV,EA8LoBL,GA/LtB,EAgMEA,GAjMJ,CAJiB,CAAV,EAuMNS,MAvMM,CAuMC,WAvMD,EAuMcJ,MAvMd,CAuMqB,CAAC,MAAD,CAvMrB,EAuM+BL,GAvMxC,EAwMEA,GAzMJ,CADQ,CAAV,EA8MGS,MA9MH,CA8MU,WA9MV,EA8MuBJ,MA9MvB,CA8M8B,CAAC,MAAD,CA9M9B,EA8MwCL,GA/M1C;AAkNAP,2BAAG,CAACa,GAAJ,CACE,IAAI,qDAAJ,CAAU,CACR,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,SAAR,EAAmBN,GAA5B,EAAiCE,SAAjC,CAA2C,QAA3C,EAAqDE,SAArD,CAA+D,SAA/D,EAA0Ef,KAA1E,CAAgF,SAAhF,EAA2Fc,QAA3F,CAAoG,CAApG,EAAuGH,GADzG,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,eAAR,EAAyBA,GAAlC,EAAuCE,SAAvC,CAAiD,QAAjD,EAA2DE,SAA3D,CAAqE,SAArE,EAAgFf,KAAhF,CAAsF,SAAtF,EAAiGc,QAAjG,CAA0G,CAA1G,EAA6GH,GAF/G,EAGE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,gBAAR,EAA0BA,GAAnC,EAAwCE,SAAxC,CAAkD,QAAlD,EAA4DE,SAA5D,CAAsE,SAAtE,EAAiFf,KAAjF,CAAuF,SAAvF,EAAkGc,QAAlG,CAA2G,CAA3G,EAA8GH,GAHhH,CADQ,EAMR,CACE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAUjI,OAAV,EAAmBiI,GAA5B,EAAiCG,QAAjC,CAA0C,CAA1C,EAA6CH,GAD/C,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQtD,QAAQ,CAACmE,WAAjB,EAA8Bb,GAAvC,EAA4CG,QAA5C,CAAqD,CAArD,EAAwDH,GAF1D,EAGE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,2CAEAA,GAFT,EAEcG,QAFd,CAEuB,CAFvB,EAE0BH,GAL5B,CANQ,CAAV,EAcGK,MAdH,CAcU,CAAC,KAAD,EAAO,KAAP,EAAa,KAAb,CAdV,EAc+BL,GAfjC,E,CAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAP,2BAAG,CAACqB,MAAJ,GAAaC,QAAb,cAA4BrE,QAAQ,CAACja,IAArC;;;;;;;;;AACD;;AAEDkd,sBAAU;AAEX;;;;;;;yBA/pBUrD,c,EAAc,+H,EAAA,0I;AAAA,O;;;cAAdA,c;AAAc,kC;AAAA,gB;AAAA,e;AAAA,osB;AAAA;AAAA;ADb3B;;AACA;;AAEI;;AAUA;;AAsnBJ;;;;AAhoBsB;;AAAA;;AAUA;;AAAA;;;;;;;;;;wECATA,c,EAAc;gBAL1B,uDAK0B;iBALhB;AACTzX,oBAAQ,EAAE,WADD;AAETC,uBAAW,EAAE,wBAFJ;AAGTC,qBAAS,EAAE,CAAC,uBAAD;AAHF,W;AAKgB,U;;;;;;;;;;;;;;;;;;;;;;ACb3B,UAAI0E,GAAG,GAAG;AACT,gBAAQ,MADC;AAET,mBAAW,MAFF;AAGT,gBAAQ,MAHC;AAIT,mBAAW,MAJF;AAKT,sBAAc,MALL;AAMT,mBAAW,MANF;AAOT,sBAAc,MAPL;AAQT,mBAAW,MARF;AAST,sBAAc,MATL;AAUT,mBAAW,MAVF;AAWT,sBAAc,MAXL;AAYT,mBAAW,MAZF;AAaT,sBAAc,MAbL;AAcT,mBAAW,MAdF;AAeT,sBAAc,MAfL;AAgBT,mBAAW,MAhBF;AAiBT,gBAAQ,MAjBC;AAkBT,mBAAW,MAlBF;AAmBT,gBAAQ,MAnBC;AAoBT,mBAAW,MApBF;AAqBT,gBAAQ,MArBC;AAsBT,mBAAW,MAtBF;AAuBT,gBAAQ,MAvBC;AAwBT,mBAAW,MAxBF;AAyBT,gBAAQ,MAzBC;AA0BT,mBAAW,MA1BF;AA2BT,sBAAc,MA3BL;AA4BT,mBAAW,MA5BF;AA6BT,gBAAQ,MA7BC;AA8BT,mBAAW,MA9BF;AA+BT,gBAAQ,MA/BC;AAgCT,mBAAW,MAhCF;AAiCT,gBAAQ,MAjCC;AAkCT,mBAAW,MAlCF;AAmCT,gBAAQ,MAnCC;AAoCT,mBAAW,MApCF;AAqCT,gBAAQ,MArCC;AAsCT,mBAAW,MAtCF;AAuCT,gBAAQ,MAvCC;AAwCT,mBAAW,MAxCF;AAyCT,gBAAQ,MAzCC;AA0CT,mBAAW,MA1CF;AA2CT,gBAAQ,MA3CC;AA4CT,mBAAW,MA5CF;AA6CT,gBAAQ,MA7CC;AA8CT,mBAAW,MA9CF;AA+CT,sBAAc,MA/CL;AAgDT,mBAAW,MAhDF;AAiDT,sBAAc,MAjDL;AAkDT,mBAAW,MAlDF;AAmDT,gBAAQ,MAnDC;AAoDT,mBAAW,MApDF;AAqDT,gBAAQ,MArDC;AAsDT,mBAAW,MAtDF;AAuDT,mBAAW,MAvDF;AAwDT,sBAAc,MAxDL;AAyDT,mBAAW,MAzDF;AA0DT,sBAAc,MA1DL;AA2DT,mBAAW,MA3DF;AA4DT,sBAAc,MA5DL;AA6DT,mBAAW,MA7DF;AA8DT,sBAAc,MA9DL;AA+DT,mBAAW,MA/DF;AAgET,sBAAc,MAhEL;AAiET,mBAAW,MAjEF;AAkET,sBAAc,MAlEL;AAmET,mBAAW,MAnEF;AAoET,sBAAc,MApEL;AAqET,mBAAW,MArEF;AAsET,sBAAc,MAtEL;AAuET,gBAAQ,MAvEC;AAwET,mBAAW,MAxEF;AAyET,gBAAQ,MAzEC;AA0ET,mBAAW,MA1EF;AA2ET,sBAAc,MA3EL;AA4ET,mBAAW,MA5EF;AA6ET,sBAAc,MA7EL;AA8ET,mBAAW,MA9EF;AA+ET,sBAAc,MA/EL;AAgFT,mBAAW,MAhFF;AAiFT,gBAAQ,MAjFC;AAkFT,mBAAW,MAlFF;AAmFT,gBAAQ,MAnFC;AAoFT,mBAAW,MApFF;AAqFT,gBAAQ,MArFC;AAsFT,mBAAW,MAtFF;AAuFT,gBAAQ,MAvFC;AAwFT,mBAAW,MAxFF;AAyFT,iBAAS,MAzFA;AA0FT,oBAAY,MA1FH;AA2FT,gBAAQ,MA3FC;AA4FT,mBAAW,MA5FF;AA6FT,gBAAQ,MA7FC;AA8FT,mBAAW,MA9FF;AA+FT,sBAAc,MA/FL;AAgGT,mBAAW,MAhGF;AAiGT,sBAAc,MAjGL;AAkGT,mBAAW,MAlGF;AAmGT,gBAAQ,MAnGC;AAoGT,mBAAW,MApGF;AAqGT,gBAAQ,MArGC;AAsGT,mBAAW,MAtGF;AAuGT,gBAAQ,MAvGC;AAwGT,mBAAW,MAxGF;AAyGT,gBAAQ,MAzGC;AA0GT,mBAAW,MA1GF;AA2GT,sBAAc,MA3GL;AA4GT,yBAAiB,MA5GR;AA6GT,sBAAc,MA7GL;AA8GT,yBAAiB,MA9GR;AA+GT,gBAAQ,MA/GC;AAgHT,mBAAW,MAhHF;AAiHT,gBAAQ,MAjHC;AAkHT,mBAAW,MAlHF;AAmHT,gBAAQ,MAnHC;AAoHT,mBAAW,MApHF;AAqHT,gBAAQ,MArHC;AAsHT,mBAAW,MAtHF;AAuHT,gBAAQ,MAvHC;AAwHT,mBAAW,MAxHF;AAyHT,mBAAW,MAzHF;AA0HT,sBAAc,MA1HL;AA2HT,gBAAQ,MA3HC;AA4HT,mBAAW,MA5HF;AA6HT,gBAAQ,MA7HC;AA8HT,mBAAW,MA9HF;AA+HT,gBAAQ,MA/HC;AAgIT,mBAAW,MAhIF;AAiIT,sBAAc,MAjIL;AAkIT,mBAAW,MAlIF;AAmIT,gBAAQ,MAnIC;AAoIT,mBAAW,MApIF;AAqIT,gBAAQ,MArIC;AAsIT,mBAAW,MAtIF;AAuIT,gBAAQ,MAvIC;AAwIT,mBAAW,MAxIF;AAyIT,gBAAQ,MAzIC;AA0IT,mBAAW,MA1IF;AA2IT,gBAAQ,MA3IC;AA4IT,mBAAW,MA5IF;AA6IT,gBAAQ,MA7IC;AA8IT,mBAAW,MA9IF;AA+IT,gBAAQ,MA/IC;AAgJT,mBAAW,MAhJF;AAiJT,gBAAQ,MAjJC;AAkJT,mBAAW,MAlJF;AAmJT,gBAAQ,MAnJC;AAoJT,mBAAW,MApJF;AAqJT,gBAAQ,MArJC;AAsJT,mBAAW,MAtJF;AAuJT,gBAAQ,MAvJC;AAwJT,mBAAW,MAxJF;AAyJT,gBAAQ,MAzJC;AA0JT,mBAAW,MA1JF;AA2JT,gBAAQ,MA3JC;AA4JT,mBAAW,MA5JF;AA6JT,gBAAQ,MA7JC;AA8JT,mBAAW,MA9JF;AA+JT,gBAAQ,MA/JC;AAgKT,mBAAW,MAhKF;AAiKT,gBAAQ,MAjKC;AAkKT,mBAAW,MAlKF;AAmKT,gBAAQ,MAnKC;AAoKT,mBAAW,MApKF;AAqKT,gBAAQ,MArKC;AAsKT,mBAAW,MAtKF;AAuKT,gBAAQ,MAvKC;AAwKT,mBAAW,MAxKF;AAyKT,gBAAQ,MAzKC;AA0KT,mBAAW,MA1KF;AA2KT,sBAAc,MA3KL;AA4KT,mBAAW,MA5KF;AA6KT,gBAAQ,MA7KC;AA8KT,mBAAW,MA9KF;AA+KT,gBAAQ,MA/KC;AAgLT,mBAAW,MAhLF;AAiLT,gBAAQ,MAjLC;AAkLT,mBAAW,MAlLF;AAmLT,gBAAQ,MAnLC;AAoLT,mBAAW,MApLF;AAqLT,gBAAQ,MArLC;AAsLT,mBAAW,MAtLF;AAuLT,sBAAc,MAvLL;AAwLT,mBAAW,MAxLF;AAyLT,gBAAQ,MAzLC;AA0LT,mBAAW,MA1LF;AA2LT,oBAAY,MA3LH;AA4LT,uBAAe,MA5LN;AA6LT,mBAAW,MA7LF;AA8LT,sBAAc,MA9LL;AA+LT,gBAAQ,MA/LC;AAgMT,mBAAW,MAhMF;AAiMT,gBAAQ,MAjMC;AAkMT,mBAAW,MAlMF;AAmMT,sBAAc,MAnML;AAoMT,mBAAW,MApMF;AAqMT,gBAAQ,MArMC;AAsMT,mBAAW,MAtMF;AAuMT,gBAAQ,MAvMC;AAwMT,mBAAW,MAxMF;AAyMT,gBAAQ,MAzMC;AA0MT,mBAAW,MA1MF;AA2MT,gBAAQ,MA3MC;AA4MT,mBAAW,MA5MF;AA6MT,gBAAQ,MA7MC;AA8MT,mBAAW,MA9MF;AA+MT,gBAAQ,MA/MC;AAgNT,mBAAW,MAhNF;AAiNT,gBAAQ,MAjNC;AAkNT,mBAAW,MAlNF;AAmNT,gBAAQ,MAnNC;AAoNT,mBAAW,MApNF;AAqNT,gBAAQ,MArNC;AAsNT,qBAAa,MAtNJ;AAuNT,wBAAgB,MAvNP;AAwNT,mBAAW,MAxNF;AAyNT,gBAAQ,MAzNC;AA0NT,mBAAW,MA1NF;AA2NT,gBAAQ,MA3NC;AA4NT,mBAAW,MA5NF;AA6NT,gBAAQ,MA7NC;AA8NT,mBAAW,MA9NF;AA+NT,gBAAQ,MA/NC;AAgOT,mBAAW,MAhOF;AAiOT,gBAAQ,MAjOC;AAkOT,mBAAW,MAlOF;AAmOT,iBAAS,MAnOA;AAoOT,oBAAY,MApOH;AAqOT,gBAAQ,MArOC;AAsOT,mBAAW,MAtOF;AAuOT,gBAAQ,MAvOC;AAwOT,mBAAW,MAxOF;AAyOT,gBAAQ,MAzOC;AA0OT,mBAAW,MA1OF;AA2OT,mBAAW,MA3OF;AA4OT,sBAAc,MA5OL;AA6OT,iBAAS,MA7OA;AA8OT,oBAAY,MA9OH;AA+OT,gBAAQ,MA/OC;AAgPT,mBAAW,MAhPF;AAiPT,iBAAS,MAjPA;AAkPT,oBAAY,MAlPH;AAmPT,iBAAS,MAnPA;AAoPT,sBAAc,MApPL;AAqPT,yBAAiB,MArPR;AAsPT,oBAAY,MAtPH;AAuPT,mBAAW,MAvPF;AAwPT,sBAAc,MAxPL;AAyPT,gBAAQ,MAzPC;AA0PT,mBAAW,MA1PF;AA2PT,gBAAQ,MA3PC;AA4PT,mBAAW,MA5PF;AA6PT,gBAAQ,MA7PC;AA8PT,qBAAa,MA9PJ;AA+PT,wBAAgB,MA/PP;AAgQT,mBAAW,MAhQF;AAiQT,gBAAQ,MAjQC;AAkQT,mBAAW,MAlQF;AAmQT,sBAAc,MAnQL;AAoQT,yBAAiB,MApQR;AAqQT,gBAAQ,MArQC;AAsQT,mBAAW,MAtQF;AAuQT,mBAAW,MAvQF;AAwQT,sBAAc,MAxQL;AAyQT,mBAAW,MAzQF;AA0QT,sBAAc,MA1QL;AA2QT,mBAAW,MA3QF;AA4QT,sBAAc,MA5QL;AA6QT,mBAAW,MA7QF;AA8QT,sBAAc;AA9QL,OAAV;;AAkRA,eAASuX,cAAT,CAAwBC,GAAxB,EAA6B;AAC5B,YAAIrW,EAAE,GAAGsW,qBAAqB,CAACD,GAAD,CAA9B;AACA,eAAOE,mBAAmB,CAACvW,EAAD,CAA1B;AACA;;AACD,eAASsW,qBAAT,CAA+BD,GAA/B,EAAoC;AACnC,YAAG,CAACE,mBAAmB,CAACC,CAApB,CAAsB3X,GAAtB,EAA2BwX,GAA3B,CAAJ,EAAqC;AACpC,cAAI3d,CAAC,GAAG,IAAI+d,KAAJ,CAAU,yBAAyBJ,GAAzB,GAA+B,GAAzC,CAAR;AACA3d,WAAC,CAACge,IAAF,GAAS,kBAAT;AACA,gBAAMhe,CAAN;AACA;;AACD,eAAOmG,GAAG,CAACwX,GAAD,CAAV;AACA;;AACDD,oBAAc,CAACO,IAAf,GAAsB,SAASC,kBAAT,GAA8B;AACnD,eAAOC,MAAM,CAACF,IAAP,CAAY9X,GAAZ,CAAP;AACA,OAFD;;AAGAuX,oBAAc,CAACU,OAAf,GAAyBR,qBAAzB;AACAS,YAAM,CAACzF,OAAP,GAAiB8E,cAAjB;AACAA,oBAAc,CAACpW,EAAf,GAAoB,MAApB;;;;;;;;;;;;;;;;ACnSA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACUgC;;AAAiE;;AAAkB;;;;;;AAA1C;;AAAwB;;AAAA;;;;;;AAYjE;;AAAoE;;AAAqB;;;;;;AAA9C;;AAAyB;;AAAA;;;;;;;;AANpF;;AACI;;AAAqB;;AAAQ;;AAC7B;;AACI;;AACI;;AAAsB;AAAA;;AAAA;;AAAA;AAAA;;AAClB;;AAAkB;;AAAmB;;AACrC;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;AAJwB;;AAAA;;;;;;;;AAMxB;;AACI;;AAAqB;;AAAe;;AACpC;;AAEI;;AAAiC;AAAA;;AAAA;;AAAA;AAAA;;AAAjC;;AACJ;;AACJ;;;;;;AAFyC;;AAAA;;;;;;;;AAIzC;;AACA;;AAAqB;;AAAsB;;AAC3C;;AACI;;AAA2D;AAAA;;AAAA;;AAAA;AAAA;;AAA3D;;AACJ;;AACA;;;;;;AAFiD;;AAAA;;AAAc;;;;;;AAU/C;;AAA4D;;AAAW;;;;;;AAA/B;;AAAoB;;AAAA;;;;;;;;AAN5E;;AACI;;AAAqB;;AAAmB;;AACxC;;AACI;;AACI;;AAAsB;AAAA;;AAAA;;AAAA;AAAA;;AAClB;;AAAkB;;AAAkB;;AACpC;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;AANkC;;AAAA;;AAEV;;AAAA;;;;;;AA2BQ;;AAA8D;;AAAkB;;;;;;AAAxE;;AAAsD;;AAAA;;;;;;AADlE;;AACI;;AACJ;;;;;;;;AADoC;;AAAA;;;;;;;;AAbhE;;AACI;;AACQ;;AACI;;AACJ;;AACJ;;AACI;;AAAoB;;AAChB;;AAAqB;;AAAO;;AAC5B;;AACI;;AACI;;AAAQ;AAAA;;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AACA;;AAAiB;;AAAkB;;AACvC;;AAGJ;;AACJ;;AACJ;;AACJ;;AAAM;;AACN;;AACI;;AACI;;AACI;;AACJ;;AACA;;AACI;;AAA6D;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA7D;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AACJ;;AACA;;AACI;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;;;AAtCgB;;AAAA;;AAOwD;;AAAA;;AAE9B;;AAAA;;AAaC;;AAAA;;AAA4B;;AAUd;;AAAA;;;;;;;;AAvCrE;;AACI;;AACI;;AACI;;AAAoB;;AAAsB;;AAC1C;;AA0CA;;AAAuC;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA8B;;AAA2B;;AACpG;;AAEJ;;AACJ;;;;;;AA9C8B;;AAAA;;;;;;AAwFE;;AACJ;;AACI;;AAAqB;;AAAM;;AAC3B;;AACJ;;AACA;;AACI;;AAAqB;;AAAM;;AAC3B;;AACJ;;AACI;;;;;;AAN4C;;AAAA;;AAIC;;AAAA;;;;;;AARjD;;AACI;;AAUJ;;;;;;AAVkB;;AAAA;;;;;;AA6B1B;;AACI;;AACJ;;;;;;;;AAFQ;;AACJ;;AAAA;;;;;;AAmBA;;AACI;;AACI;;AACJ;;AACA;;AACI;;AACJ;;AACA;;AACI;;AACJ;;AACA;;AACI;;AACJ;;AACJ;;;;;;;;AAXQ;;AAAA;;AAGA;;AAAA;;AAGA;;AAAA;;AAGA;;AAAA;;;;;;AAZZ;;AACI;;AAcJ;;;;;;AAdQ;;AAAA;;;;;;AAmBpB;;AACI;;AACI;;AACE;;AACF;;AACF;;AACN;;;;;;AAaY;;AACI;;AAAI;;AAA0D;;AAC9D;;AAAI;;AAAqD;;AACzD;;AAAI;;AAAmE;;AACvE;;AAAI;;AAAkE;;AAC1E;;;;;;;;;;;AAJQ;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AALZ;;AACI;;AAMJ;;;;;;AANQ;;AAAA;;;;;;AAsBJ;;AACI;;AAAI;;AAA4B;;AAChC;;AAAI;;AAAoD;;AACxD;;AAAI;;AAAwE;;AAC5E;;AAAI;;AAA2E;;AACnF;;;;;;;;;;;AAJQ;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AALZ;;AACI;;AAMJ;;;;;;AANQ;;AAAA;;;;;;AAsBJ;;AACI;;AAAI;;AAA0D;;AAC9D;;AAAI;;AAAiE;;AACrE;;AAAI;;AAAmE;;AAEvE;;AAAI;;AAAmI;;AAC3I;;;;;;;;AALQ;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAEA;;AAAA;;;;;;AANZ;;AACI;;AAOJ;;;;;;AAPQ;;AAAA;;;;;;AAuBJ;;AACI;;AAAI;;AAA4B;;AAChC;;AAAI;;AAAwD;;AAC5D;;AAAI;;AAAwE;;AAC5E;;AAAI;;AAAyE;;AACjF;;;;;;;;;;;AAJQ;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AALZ;;AACI;;AAMJ;;;;;;AANQ;;AAAA;;;;;;;;AAShB;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAA2C;;AAAgB;;;;;;;;;;;;;;UD9S5FwP,a;AAsEX,+BAAmBxY,GAAnB,EACoBiU,MADpB,EACoC;AAAA;;AADjB,eAAAjU,GAAA,GAAAA,GAAA;AACC,eAAAiU,MAAA,GAAAA,MAAA;AArEb,eAAA+L,WAAA,GAAsB,KAAtB;AAEA,eAAAC,EAAA,GAAa,KAAb;AACA,eAAAC,EAAA,GAAa,KAAb;AACA,eAAAC,EAAA,GAAa,KAAb;AAEA,eAAAC,mBAAA,GAAsB,IAAtB;AACA,eAAAC,mBAAA,GAAsB,CAAtB;AACA,eAAApF,OAAA,GAAU,CAAV;AACA,eAAAC,OAAA,GAAU5S,IAAI,CAAC4N,IAAL,CAAU,KAAKkK,mBAAL,GAA2B,KAAKC,mBAA1C,CAAV;AACA,eAAAC,KAAA,GAAgB,KAAhB;AACA,eAAAC,WAAA,GAAsB,KAAtB;AAEP,eAAArc,UAAA,GAAa,CAAb;AAEA,eAAAsc,GAAA,GAAM,EAAN;AACA,eAAAC,GAAA,GAAM,EAAN;AACA,eAAAC,GAAA,GAAM,CAAN;AACA,eAAAC,YAAA,GAAe,EAAf;AAOO,eAAAC,OAAA,GAAU,CACf;AACE9X,oBAAQ,EAAC,IADX;AAEErD,iBAAK,EAAC,IAFR;AAGEob,iBAAK,EAAC,IAHR;AAIE3b,iBAAK,EAAC,IAJR;AAKE4b,wBAAY,EAAC,IALf;AAMEC,gBAAI,EAAC,IANP;AAOEzE,kBAAM,EAAC,IAPT;AAQE7R,iBAAK,EAAC,IARR;AASEG,iBAAK,EAAC;AATR,WADe,CAAV;AAeA,eAAAI,SAAA,GAAY,EAAZ;AACA,eAAA8P,QAAA,GAAW;AAChB7W,oBAAQ,EAAC,IADO;AAEhBoB,sBAAU,EAAC,IAFK;AAGhBO,sBAAU,EAAE,EAHI;AAIhBT,eAAG,EAAC,IAJY;AAKhBD,iBAAK,EAAC,IALU;AAMhBM,oBAAQ,EAAC,CAAC;AACRR,oBAAM,EAAC,EADC;AAERS,mBAAK,EAAC;AAFE,aAAD,CANO;AAUhB1B,uBAAW,EAAC;AAVI,WAAX;AAeA,eAAAid,QAAA,GAAW,EAAX;AACA,eAAAC,SAAA,GAAY,EAAZ;AAOA,eAAAC,SAAA,GAAY,EAAZ;AACA,eAAAxc,SAAA,GAAY,EAAZ;AAIgC;;;;iBAEvC,oBAAQ;AACN,iBAAK0B,eAAL;AACA,iBAAK+a,aAAL;AACA,iBAAKC,UAAL;AACA,iBAAKhhB,GAAL,GAAW,mCAAM,GAAGC,MAAT,CAAgB,YAAhB,CAAX;AACD;;;iBAED,kBAASsG,CAAT,EAAU;AACR,oBAAOA,CAAP;AAEI,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;;AACR,mBAAK,CAAL;AAAQ,uBAAO,GAAP;AAVZ;AAaD;;;iBAED,oBAAW0a,GAAX,EAAc;AACZ,gBAAIngB,QAAQ,GAAG,KAAK4Z,QAAL,CAAclV,UAAd,CAAyB+E,MAAxC;;AACA,gBAAGzJ,QAAQ,GAAG,KAAKggB,SAAL,CAAevW,MAA7B,EAAoC;AAClC,mBAAKuW,SAAL,CAAelgB,IAAf,CAAoBqgB,GAApB;AACD,aAFD,MAEK;AACH,mBAAKH,SAAL,GAAiB,EAAjB;AACA,mBAAKA,SAAL,CAAelgB,IAAf,CAAoBqgB,GAApB;AACD,aAPW,CASZ;;AACD;;;iBAED,6BAAiB;AACf,gBAAG,CAAC,KAAKrB,WAAT,EAAqB;AACnB,mBAAKA,WAAL,GAAmB,IAAnB;AACD,aAFD,MAEK;AACH,mBAAKA,WAAL,GAAmB,KAAnB;AACD;AACF;;;iBAED,2BAAe;AAAA;;AACb,iBAAKhgB,GAAL,CAASoJ,WAAT,GACG1G,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAAC0G,QAAL,GAAgB1G,IAAI,CAAC2G,QAArB;AACD,aAHH;AAID;;;iBAED,0BAAiB5H,CAAjB,EAAkB;AAAA;;AAChB,gBAAGA,CAAC,CAACoF,MAAF,CAASJ,KAAT,KAAmB,GAAtB,EAA0B;AACxB,mBAAKuZ,EAAL,GAAU,KAAV;AACD,aAFD,MAEK;AACH,mBAAKA,EAAL,GAAU,IAAV;AACA,mBAAKqB,OAAL,GAAe5f,CAAC,CAACoF,MAAF,CAASJ,KAAxB;AACA,kBAAInF,KAAK,GAAG,KAAK8H,QAAL,CAAc1I,IAAd,CAAmB,UAAAC,CAAC;AAAA,uBAAIA,CAAC,CAACuE,GAAF,KAAUzD,CAAC,CAACoF,MAAF,CAASJ,KAAvB;AAAA,eAApB,CAAZ;AACA,mBAAK6a,OAAL,GAAehgB,KAAK,CAACmD,SAArB,CAJG,CAMH;AACD;;AAED,iBAAK1E,GAAL,CAAS+K,OAAT,CAAiBrJ,CAAC,CAACoF,MAAF,CAASJ,KAA1B,EACGhE,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACqI,SAAL,GAAiBrI,IAAI,CAACsI,SAAtB,CADqB,CAErB;AACD,aAJH;AAKD;;;iBAED,sBAAU;AAAA;;AACR,iBAAKjL,GAAL,CAASuQ,aAAT,GACG7N,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACse,SAAL,GAAiBte,IAAjB;;AACA,qBAAI,CAAC6e,oBAAL;AACD,aAJH;AAKD;;;iBAED,mBAAO;AAEL,iBAAKnB,mBAAL,GAA2B,KAAKvF,QAAL,CAAczV,UAAd,CAAyB,KAAKnB,UAA9B,CAA3B,CAFK,CAGL;;AACA,iBAAK8R,UAAL,CAAgB,KAAKqK,mBAArB,EAJK,CAKL;AAED;;;iBAED,2BAAkB3e,CAAlB,EAAmB;AAAA;;AAEjB,gBAAGA,CAAC,CAACoF,MAAF,CAASJ,KAAT,KAAmB,GAAtB,EAA0B;AACxB,mBAAKwZ,EAAL,GAAU,KAAV;AACD,aAFD,MAEK;AACH,mBAAKA,EAAL,GAAU,IAAV;AACD;;AAED,iBAAKlgB,GAAL,CAASsL,UAAT,CAAoB5J,CAAC,CAACoF,MAAF,CAASJ,KAA7B,EACGhE,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACmY,QAAL,GAAgBnY,IAAI,CAAC1B,QAArB,CADqB,CAErB;;AACA,qBAAI,CAACgD,QAAL,GAAgB,OAAI,CAAC6W,QAAL,CAAc7W,QAA9B;AACA,qBAAI,CAACoc,mBAAL,GAA2B,OAAI,CAACvF,QAAL,CAAczV,UAAd,CAAyB,OAAI,CAACnB,UAA9B,CAA3B;;AACA,qBAAI,CAAC8R,UAAL,CAAgB,OAAI,CAACqK,mBAArB;;AACA,qBAAI,CAAC5T,QAAL,GAAgB9J,IAAI,CAAC+K,QAArB,CANqB,CAOrB;;AACA,kBAAI9M,CAAC,GAAG,OAAI,CAACka,QAAL,CAAclV,UAAd,CAAyB+E,MAAjC;AACA,qBAAI,CAACqW,QAAL,GAAgB,EAAhB;;AATqB,2CAUbrf,CAVa;AAWnB,oBAAI8f,SAAS,GAAG,OAAI,CAACR,SAAL,CAAetgB,IAAf,CAAoB,UAAAC,CAAC;AAAA,yBAAIA,CAAC,CAACkI,QAAF,CAAW9D,MAAX,IAAqB,OAAI,CAAC8V,QAAL,CAAc,OAAI,CAAC5W,UAAnB,EAA+B0B,UAA/B,CAA0CjE,CAA1C,EAA6CV,QAA7C,CAAsD+D,MAA3E,IAAqFpE,CAAC,CAACkI,QAAF,CAAWrD,KAAX,IAAoB,OAAI,CAACqV,QAAL,CAAclV,UAAd,CAAyBjE,CAAzB,EAA4BV,QAA5B,CAAqCwE,KAA9I,IAAuJ7E,CAAC,CAACkI,QAAF,CAAW5D,KAAX,CAAiBF,MAA5K;AAAA,iBAArB,CAAhB,CAXmB,CAanB;;;AACA,oBAAG,CAACyc,SAAJ,EAAc;AACZ,yBAAI,CAAClB,WAAL,GAAmB,IAAnB;AACA;AAAA;AAAA;AACD,iBAHD,MAGK;AACH,yBAAI,CAACA,WAAL,GAAmB,KAAnB;AACD;;AAED,uBAAI,CAACS,QAAL,CAAchgB,IAAd,CAAmBygB,SAAnB;AArBmB;;AAUrB,mBAAI,IAAI9f,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACf,CAAf,EAAkBe,CAAC,EAAnB,EAAsB;AAAA,kCAAdA,CAAc;;AAAA;AAYrB;AACD,aAxBJ;AA2BD;;;iBAED,wBAAeD,CAAf,EAAgB;AACd,gBAAGA,CAAC,CAACoF,MAAF,CAASJ,KAAT,KAAmB,IAAtB,EAA2B;AACzB,mBAAKyZ,EAAL,GAAU,KAAV;AACD,aAFD,MAEK;AACH,mBAAKA,EAAL,GAAU,IAAV;AACA,mBAAKuB,EAAL,GAAUhgB,CAAC,CAACoF,MAAF,CAASJ,KAAnB;AACD;AAGF;;;iBAED,yBAAa;AAAA;;AACX,iBAAK1G,GAAL,CAAS6J,UAAT,GACGnH,SADH,CACa,UAACC,IAAD,EAAc;AACvB,qBAAI,CAAC4e,OAAL,GAAe5e,IAAI,CAACiD,UAApB;;AACA,qBAAI,CAAC4b,oBAAL;AACD,aAJH;AAKD;;;iBAED,kBAAS9f,CAAT,EAAU;AACR,iBAAK0e,mBAAL,GAA2B1e,CAAC,CAACoF,MAAF,CAASJ,KAApC,CADQ,CAER;;AACA,iBAAKwU,OAAL,GAAe5S,IAAI,CAAC4N,IAAL,CAAU,KAAKkK,mBAAL,GAA2B,KAAKC,mBAA1C,CAAf;AACA,gBAAIpF,OAAO,GAAsBzU,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAA0CC,KAA3E;AACA,iBAAKib,OAAL,CAAa1G,OAAb,EALQ,CAMR;AACA;AACD;;;iBAED,oBAAWvZ,CAAX,EAAY;AACV;AACA,iBAAK2e,mBAAL,GAA2B3e,CAA3B;AACA,iBAAKwZ,OAAL,GAAe5S,IAAI,CAAC4N,IAAL,CAAU,KAAKkK,mBAAL,GAA2B,KAAKC,mBAA1C,CAAf;AACA,iBAAKnF,OAAL,GAAe,KAAKA,OAAL,GAAe,KAAKD,OAAnC;AACA,iBAAK0G,OAAL,CAAa,KAAKC,QAAlB,EALU,CAMV;AACA;AACD;;;iBAED,iBAAQlgB,CAAR,EAAS;AAEP,iBAAKwZ,OAAL,GAAe5S,IAAI,CAAC4N,IAAL,CAAU,KAAKkK,mBAAL,GAA2B,KAAKC,mBAA1C,CAAf;AACA,iBAAKpF,OAAL,GAAe3S,IAAI,CAAC4N,IAAL,CAAUxU,CAAC,GAAG,KAAKwZ,OAAT,GAAmB,GAA7B,CAAf;AACA,iBAAK0G,QAAL,GAAgBlgB,CAAhB;AACA,iBAAKwZ,OAAL,GAAe,KAAKA,OAAL,GAAe,KAAKD,OAAnC,CALO,CAOP;AACA;AAED;;;iBAED,uBAAc2C,KAAd,EAAqBnY,KAArB,EAA2Boc,QAA3B,EAAqCpX,KAArC,EAA4CG,KAA5C,EAAmDlF,OAAnD,EAA2D;AACzD,gBAAI2K,UAAU,GAAG,EAAjB;;AACA,gBAAGwR,QAAH,EAAY;AACVxR,wBAAU,GAAG,KAAK4Q,SAAL,CAAezQ,MAAf,CAAsB,UAAA5P,CAAC;AAAA,uBAAIA,CAAC,CAACkI,QAAF,CAAW9D,MAAX,KAAsB4Y,KAAtB,IAA+Bhd,CAAC,CAACM,QAAF,GAAa,CAAhD;AAAA,eAAvB,CAAb;AACD,aAFD,MAEK;AACHmP,wBAAU,GAAG,KAAK4Q,SAAL,CAAezQ,MAAf,CAAsB,UAAA5P,CAAC;AAAA,uBAAIA,CAAC,CAACkI,QAAF,CAAW9D,MAAX,KAAsB4Y,KAAtB,IAA+Bhd,CAAC,CAACkI,QAAF,CAAWrD,KAAX,KAAqBA,KAApD,IAA6D7E,CAAC,CAACM,QAAF,GAAa,CAA9E;AAAA,eAAvB,CAAb;AACD;;AACD,gBAAGuJ,KAAH,EAAS;AACP4F,wBAAU,GAAG,KAAK4Q,SAAL,CAAezQ,MAAf,CAAsB,UAAA5P,CAAC;AAAA,uBAAIA,CAAC,CAACkI,QAAF,CAAW9D,MAAX,KAAsB4Y,KAAtB,IAA+Bhd,CAAC,CAACkI,QAAF,CAAWrD,KAAX,KAAqBA,KAApD,IAA6D7E,CAAC,CAACkI,QAAF,CAAW2B,KAAX,KAAqBA,KAAlF,IAA2F7J,CAAC,CAACkI,QAAF,CAAW8B,KAAX,KAAqBA,KAAhH,IAAyHhK,CAAC,CAACkI,QAAF,CAAWpD,OAAX,KAAuBA,OAAhJ,IAA2J9E,CAAC,CAACM,QAAF,GAAa,CAA5K;AAAA,eAAvB,CAAb;AACD;;AACD,gBAAGmP,UAAU,CAAC1F,MAAX,GAAoB,CAAvB,EAAyB;AACvB,qBAAO,+BAAP;AACD,aAFD,MAEK;AACH,kBAAImX,UAAU,GAAG,CAAjB;AACA,kBAAIf,IAAI,GAAG,CAAX;;AACA,mBAAI,IAAIpf,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAC0O,UAAU,CAAC1F,MAA5B,EAAoChJ,CAAC,EAArC,EACA;AAEI;AAGAmgB,0BAAU,GAAIA,UAAU,GAAIrQ,MAAM,CAACpB,UAAU,CAAC1O,CAAD,CAAV,CAAcmH,QAAd,CAAuBiY,IAAxB,CAAN,GAAsCtP,MAAM,CAACpB,UAAU,CAAC1O,CAAD,CAAV,CAAcT,QAAf,CAAxE;AACH;;AACC,qBAAO4gB,UAAU,CAACtF,OAAX,CAAmB,CAAnB,CAAP;AACD;AACJ;;;iBAED,oBAAWoB,KAAX,EAAkBnY,KAAlB,EAAwB9D,CAAxB,EAA0Bob,IAA1B,EAA+B;AAC7B,gBAAI1M,UAAU,GAAG,EAAjB;;AACA,gBAAG0M,IAAI,KAAK,MAAT,IAAmBA,IAAI,KAAK,QAA/B,EAAwC;AACtC1M,wBAAU,GAAG,KAAK4Q,SAAL,CAAezQ,MAAf,CAAsB,UAAA5P,CAAC;AAAA,uBAAIA,CAAC,CAACkI,QAAF,CAAW9D,MAAX,KAAsB4Y,KAAtB,IAA+Bhd,CAAC,CAACM,QAAF,GAAa,CAAhD;AAAA,eAAvB,CAAb;AACD,aAFD,MAEK;AACHmP,wBAAU,GAAG,KAAK4Q,SAAL,CAAezQ,MAAf,CAAsB,UAAA5P,CAAC;AAAA,uBAAIA,CAAC,CAACkI,QAAF,CAAW9D,MAAX,KAAsB4Y,KAAtB,IAA+Bhd,CAAC,CAACkI,QAAF,CAAWrD,KAAX,KAAqBA,KAApD,IAA6D7E,CAAC,CAACM,QAAF,GAAa,CAA9E;AAAA,eAAvB,CAAb;AACD;;AACD,gBAAGmP,UAAU,CAAC1F,MAAX,GAAoB,CAAvB,EAAyB;AACvB,qBAAO,CAAP;AACD,aAFD,MAEK;AAEH,kBAAImX,UAAU,GAAG,CAAjB;;AACA,mBAAI,IAAIngB,GAAC,GAAG,CAAZ,EAAeA,GAAC,GAAC0O,UAAU,CAAC1F,MAA5B,EAAoChJ,GAAC,EAArC,EACE;AAEEmgB,0BAAU,GAAIA,UAAU,GAAIrQ,MAAM,CAACpB,UAAU,CAAC1O,GAAD,CAAV,CAAcmH,QAAd,CAAuBiY,IAAxB,CAAN,GAAsCtP,MAAM,CAACpB,UAAU,CAAC1O,GAAD,CAAV,CAAcT,QAAf,CAAxE;AACD,eAPA,CASD;;;AACA,kBAAI6gB,SAAJ;;AACA,kBAAGhF,IAAI,KAAK,MAAZ,EAAmB;AACjBgF,yBAAS,GAAG,KAAK3B,mBAAL,GAA2B,KAAKtF,QAAL,CAAclV,UAAd,CAAyB,KAAK1B,UAA9B,EAA0CvC,CAA1C,EAA6CT,QAApF;AACD,eAFD,MAEK;AACH6gB,yBAAS,GAAI,KAAKjH,QAAL,CAAclV,UAAd,CAAyB,KAAK1B,UAA9B,EAA0CvC,CAA1C,EAA6CT,QAA7C,GAAwD,KAAKga,OAA9D,GAAuE,IAAnF;AACD;;AACD,kBAAI8G,SAAS,GAAGF,UAAU,CAACtF,OAAX,CAAmB,CAAnB,CAAhB;AACA,qBAAO,CAAC/K,MAAM,CAACuQ,SAAD,CAAN,GAAoBD,SAArB,EAAgCvF,OAAhC,CAAwC,CAAxC,CAAP;AACD;AACJ;;;iBAED,gCAAoB;AAAA;;AAAA,yCACV7a,CADU;AAEhB,kBAAIb,MAAM,GAAG,OAAI,CAAC8f,OAAL,CAAajgB,IAAb,CAAkB,UAAAC,CAAC;AAAA,uBAAIA,CAAC,CAACkI,QAAF,IAAc,OAAI,CAACmY,SAAL,CAAetf,CAAf,EAAkBmH,QAAlB,CAA2B9D,MAAzC,IAAmDpE,CAAC,CAAC6E,KAAF,IAAW,OAAI,CAACwb,SAAL,CAAetf,CAAf,EAAkBmH,QAAlB,CAA2BrD,KAA7F;AAAA,eAAnB,CAAb;;AACA,kBAAG3E,MAAH,EAAU;AACN,oBAAIF,CAAC,GAAG,OAAI,CAACggB,OAAL,CAAapf,SAAb,CAAuB,UAAAZ,CAAC;AAAA,yBAAIA,CAAC,CAACkI,QAAF,IAAc,OAAI,CAACmY,SAAL,CAAetf,CAAf,EAAkBmH,QAAlB,CAA2B9D,MAAzC,IAAmDpE,CAAC,CAAC6E,KAAF,IAAW,OAAI,CAACwb,SAAL,CAAetf,CAAf,EAAkBmH,QAAlB,CAA2BrD,KAA7F;AAAA,iBAAxB,CAAR;;AAEA,uBAAI,CAACmb,OAAL,CAAahgB,CAAb,EAAgBigB,KAAhB,GAAwBpP,MAAM,CAAC,OAAI,CAACmP,OAAL,CAAahgB,CAAb,EAAgBigB,KAAjB,CAA9B;AACA,uBAAI,CAACI,SAAL,CAAetf,CAAf,EAAkBT,QAAlB,GAA6BuQ,MAAM,CAAC,OAAI,CAACwP,SAAL,CAAetf,CAAf,EAAkBT,QAAnB,CAAnC;AACA,uBAAI,CAAC+f,SAAL,CAAetf,CAAf,EAAkBof,IAAlB,GAAyBtP,MAAM,CAAC,OAAI,CAACwP,SAAL,CAAetf,CAAf,EAAkBmH,QAAlB,CAA2BiY,IAA5B,CAA/B;AAEA,oBAAIkB,GAAG,GAAI,OAAI,CAAChB,SAAL,CAAetf,CAAf,EAAkBof,IAAlB,GAAyB,OAAI,CAACE,SAAL,CAAetf,CAAf,EAAkBT,QAA5C,GAAwD,OAAI,CAAC0f,OAAL,CAAahgB,CAAb,EAAgBmgB,IAAlF;AAEA,uBAAI,CAACH,OAAL,CAAahgB,CAAb,EAAgBigB,KAAhB,GAAwB,OAAI,CAACD,OAAL,CAAahgB,CAAb,EAAgBigB,KAAhB,GAAwBoB,GAAhD;AAED,eAXH,MAWO;AACL,uBAAI,CAACrB,OAAL,CAAa5f,IAAb,CAAkB;AACH8H,0BAAQ,EAAC,OAAI,CAACmY,SAAL,CAAetf,CAAf,EAAkBmH,QAAlB,CAA2B9D,MADjC;AAEHS,uBAAK,EAAC,OAAI,CAACwb,SAAL,CAAetf,CAAf,EAAkBmH,QAAlB,CAA2BrD,KAF9B;AAGHP,uBAAK,EAAC,OAAI,CAAC+b,SAAL,CAAetf,CAAf,EAAkBmH,QAAlB,CAA2B5D,KAA3B,CAAiCF,MAHpC;AAIH8b,8BAAY,EAAC,OAAI,CAACG,SAAL,CAAetf,CAAf,EAAkBmH,QAAlB,CAA2BgY,YAJrC;AAKHC,sBAAI,EAAC,OAAI,CAACE,SAAL,CAAetf,CAAf,EAAkBmH,QAAlB,CAA2BiY,IAL7B;AAMHzE,wBAAM,EAAC,OAAI,CAAC2E,SAAL,CAAetf,CAAf,EAAkBmH,QAAlB,CAA2BwT,MAN/B;AAOJ7R,uBAAK,EAAC,OAAI,CAACwW,SAAL,CAAetf,CAAf,EAAkBmH,QAAlB,CAA2B2B,KAP7B;AAQJG,uBAAK,EAAC,OAAI,CAACqW,SAAL,CAAetf,CAAf,EAAkBmH,QAAlB,CAA2B8B,KAR7B;AASJiW,uBAAK,EAAC,OAAI,CAACI,SAAL,CAAetf,CAAf,EAAkBT;AATpB,iBAAlB;AAWD;AA1Be;;AAClB,iBAAI,IAAIS,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAC,KAAKsf,SAAL,CAAetW,MAA9B,EAAsChJ,CAAC,EAAvC,EAA0C;AAAA,qBAAlCA,CAAkC;AA0BzC;AAEF;;;iBAED,iBAAQD,CAAR,EAAS;AACP,iBAAKwgB,OAAL,GAAexgB,CAAf;AACD;;;iBAED,qBAAS;AAEP,gBAAIH,KAAK,GAAG,KAAKuZ,QAAL,CAAclV,UAAd,CAAyB,KAAK1B,UAA9B,EAA0CyG,MAAtD;;AAEA,iBAAI,IAAIhJ,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACJ,KAAf,EAAsBI,CAAC,EAAvB,EAA0B;AACxB,kBAAG,KAAKmZ,QAAL,CAAclV,UAAd,CAAyB,KAAK1B,UAA9B,EAA0CvC,CAA1C,EAA6CV,QAA7C,CAAsDiE,KAAtD,CAA4DF,MAA5D,IAAsE,UAAzE,EACA;AACE,oBAAImd,KAAK,SAAT;;AACA,oBAAG,KAAKrH,QAAL,CAAclV,UAAd,CAAyB,KAAK1B,UAA9B,EAA0CvC,CAA1C,EAA6CV,QAA7C,CAAsDiE,KAAtD,CAA4DF,MAA5D,KAAuE,kBAA1E,EAA6F;AAC3Fmd,uBAAK,GAAG,KAAKC,UAAL,CAAgB,KAAKtH,QAAL,CAAclV,UAAd,CAAyB,KAAK1B,UAA9B,EAA0CvC,CAA1C,EAA6CV,QAA7C,CAAsD+D,MAAtE,EAA8E,KAAK8V,QAAL,CAAclV,UAAd,CAAyB,KAAK1B,UAA9B,EAA0CvC,CAA1C,EAA6CV,QAA7C,CAAsDwE,KAApI,EAA0I9D,CAA1I,EAA4I,MAA5I,CAAR;AACD,iBAFD,MAEM,IAAG,KAAKmZ,QAAL,CAAclV,UAAd,CAAyB,KAAK1B,UAA9B,EAA0CvC,CAA1C,EAA6CV,QAA7C,CAAsDiE,KAAtD,CAA4DF,MAA5D,KAAuE,QAA1E,EAAmF;AACvFmd,uBAAK,GAAG,KAAKC,UAAL,CAAgB,KAAKtH,QAAL,CAAclV,UAAd,CAAyB,KAAK1B,UAA9B,EAA0CvC,CAA1C,EAA6CV,QAA7C,CAAsD+D,MAAtE,EAA8E,KAAK8V,QAAL,CAAclV,UAAd,CAAyB,KAAK1B,UAA9B,EAA0CvC,CAA1C,EAA6CV,QAA7C,CAAsDwE,KAApI,EAA0I9D,CAA1I,EAA4I,QAA5I,CAAR;AACD,iBAFK,MAED;AACHwgB,uBAAK,GAAG,KAAKC,UAAL,CAAgB,KAAKtH,QAAL,CAAclV,UAAd,CAAyB,KAAK1B,UAA9B,EAA0CvC,CAA1C,EAA6CV,QAA7C,CAAsD+D,MAAtE,EAA8E,KAAK8V,QAAL,CAAclV,UAAd,CAAyB,KAAK1B,UAA9B,EAA0CvC,CAA1C,EAA6CV,QAA7C,CAAsDwE,KAApI,EAA0I9D,CAA1I,CAAR;AACD;;AACDwgB,qBAAK,GAAG1Q,MAAM,CAAC0Q,KAAD,CAAd;;AACA,oBAAGA,KAAK,GAAG,CAAX,EAAa;AACX;AACE,qEAAKtgB,IAAL,CAAU;AACRM,wBAAI,EAAC,OADG;AAERL,yBAAK,EAAC,OAFE;AAGRgB,wBAAI,EAAC,iEAHG;AAIRC,qCAAiB,EAAC;AAJV,mBAAV;AAOA;AACH;AACF,eAtBD,MAsBK;AACH,oBAAIsf,mBAAmB,GAAG,KAAKC,aAAL,CAAmB,KAAKxH,QAAL,CAAclV,UAAd,CAAyB,KAAK1B,UAA9B,EAA0CvC,CAA1C,EAA6CV,QAA7C,CAAsD+D,MAAzE,EAAgF,KAAK8V,QAAL,CAAclV,UAAd,CAAyB,KAAK1B,UAA9B,EAA0CvC,CAA1C,EAA6CV,QAA7C,CAAsDwE,KAAtI,EAA4I,IAA5I,EAAiJ,KAAKqV,QAAL,CAAclV,UAAd,CAAyB,KAAK1B,UAA9B,EAA0CvC,CAA1C,EAA6CV,QAA7C,CAAsDwJ,KAAvM,EAA6M,KAAKqQ,QAAL,CAAclV,UAAd,CAAyB,KAAK1B,UAA9B,EAA0CvC,CAA1C,EAA6CV,QAA7C,CAAsD2J,KAAnQ,EAAyQ,KAAKkQ,QAAL,CAAclV,UAAd,CAAyB,KAAK1B,UAA9B,EAA0CvC,CAA1C,EAA6CV,QAA7C,CAAsDyE,OAA/T,CAA1B;AACA,oBAAI6c,KAAK,GAAG9Q,MAAM,CAAC4Q,mBAAD,CAAN,GAA8B,KAAKnH,OAA/C;;AACA,oBAAGqH,KAAK,GAAE,CAAV,EAAY;AACV,qEAAK1gB,IAAL,CAAU;AACRM,wBAAI,EAAC,OADG;AAERL,yBAAK,EAAC,OAFE;AAGRgB,wBAAI,EAAC,iEAHG;AAIRC,qCAAiB,EAAC;AAJV,mBAAV;AAOA;AACD;AACF;AACF,aAzCM,CA2CP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,iBAAKud,KAAL,GAAa,IAAb;AACA,iBAAKkC,iBAAL;AACD;;;iBAED,sBAAa9gB,CAAb,EAAemV,IAAf,EAAoBlV,CAApB,EAAqB;AAAA;;AAEnB;AAEA,iBAAK3B,GAAL,CAASyiB,SAAT,CAAmB/gB,CAAC,CAACoF,MAAF,CAASJ,KAA5B,EACGhE,SADH,CACa,UAACC,IAAD,EAAY;AACrB,kBAAIqK,GAAG,GAAG,CAAV;AACA,kBAAI0V,cAAc,GAAG,CAArB;AACA,kBAAIjgB,KAAJ;;AAEA,kBAAGE,IAAI,CAACyT,OAAL,CAAazL,MAAb,GAAsB,CAAzB,EAA2B;AACzBqC,mBAAG,GAAGrK,IAAI,CAACyT,OAAL,CAAa,CAAb,EAAgBD,OAAhB,CAAwBnJ,GAA9B,CADyB,CAGvB;AACA;;AAEA,oBAAI5M,GAAG,GAAG,mCAAM,GAAGC,MAAT,CAAgB,YAAhB,CAAV;AAEA,oBAAIsiB,MAAM,GAAGhgB,IAAI,CAACyT,OAAL,CAAa,CAAb,EAAgB3T,KAA7B;AAEA,oBAAImgB,KAAK,GAAG,mCAAM,CAACD,MAAD,CAAN,CAAeE,OAAf,CAAuBziB,GAAvB,EAA4B,KAA5B,CAAZ,CAVuB,CAYvB;;AAEA,oBAAG,CAACwiB,KAAJ,EAAU;AACRngB,uBAAK,GAAGrC,GAAR;AACD,iBAFD,MAEK;AACHqC,uBAAK,GAAGkgB,MAAR;AACD;AAIJ,eAtBD,MAsBK;AACH,oBAAIviB,IAAG,GAAG,mCAAM,GAAGC,MAAT,CAAgB,YAAhB,CAAV;;AACAoC,qBAAK,GAAGrC,IAAR;AACD;;AAEkBoG,sBAAQ,CAACC,cAAT,CAAwBoQ,IAAxB,EAA+BnQ,KAA/B,GAAuCjE,KAAvC;;AAGnB,kBAAGuK,GAAG,GAAG,CAAT,EAAW;AACT0V,8BAAc,GAAG,OAAI,CAACxH,OAAL,GAAelO,GAAhC;AACD,eAFD,MAEK;AACH,oBAAI8V,gBAAgB,GAAG,OAAI,CAACrW,QAAL,CAAc9L,IAAd,CAAmB,UAAAC,CAAC;AAAA,yBAAIA,CAAC,CAACuE,GAAF,IAASzD,CAAC,CAACoF,MAAF,CAASJ,KAAtB;AAAA,iBAApB,CAAvB;;AAEAsG,mBAAG,GAAG8V,gBAAgB,CAAC9V,GAAvB;AAEA0V,8BAAc,GAAG,OAAI,CAACxH,OAAL,GAAelO,GAAhC;AACD;;AAED,kBAAIqJ,IAAI,GAAGqM,cAAc,GAAG,CAA5B;AAEE,kBAAIK,OAAO,GAAG,mCAAM,CAACtgB,KAAD,CAAN,CAAcic,GAAd,CAAkBrI,IAAlB,EAAwB,MAAxB,EAAgChW,MAAhC,CAAuC,YAAvC,CAAd;AAEmBmG,sBAAQ,CAACC,cAAT,WAA2BoQ,IAA3B,SAAsCnQ,KAAtC,GAA8Cqc,OAA9C;AAEtB,aApDH;AAqDD;;;iBAED,qBAAYrhB,CAAZ,EAAemV,IAAf,EAAmB;AAEX,gBAAIV,OAAO,GAAsB3P,QAAQ,CAACC,cAAT,WAA2BoQ,IAA3B,eAA4CnQ,KAA7E;AACA,gBAAIoc,gBAAgB,GAAG,KAAKrW,QAAL,CAAc9L,IAAd,CAAmB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACuE,GAAF,IAASgR,OAAb;AAAA,aAApB,CAAvB;AAEA,gBAAInJ,GAAG,GAAG8V,gBAAgB,CAAC9V,GAA3B;AAEA,gBAAI0V,cAAc,GAAG,KAAKxH,OAAL,GAAelO,GAApC;AAEA,gBAAIqJ,IAAI,GAAGqM,cAAc,GAAG,CAA5B;AAEA,gBAAIK,OAAO,GAAG,mCAAM,CAACrhB,CAAC,CAACoF,MAAF,CAASJ,KAAV,CAAN,CAAuBgY,GAAvB,CAA2BrI,IAA3B,EAAiC,MAAjC,EAAyChW,MAAzC,CAAgD,YAAhD,CAAd;AAEmBmG,oBAAQ,CAACC,cAAT,WAA2BoQ,IAA3B,SAAsCnQ,KAAtC,GAA8Cqc,OAA9C;AAC1B,W,CAED;AACA;AACA;;;;iBAGA,mBAAU7hB,QAAV,EAAkB;AAAA;;AAEhB,gBAAI+H,IAAI,GAAG;AACTwS,qBAAO,EAAC,KAAKgF,GADJ;AAETzP,qBAAO,EAAC,KAAK9M,UAFJ;AAGTa,qBAAO,EAAC,KAAKuc,OAHJ;AAITrgB,sBAAQ,EAAC,KAAK6Z,QAAL,CAAc3V,GAJd;AAKT6d,0BAAY,EAAC,KAAKxC,GALT;AAMTtf,sBAAQ,EAACA,QAAQ,CAACwF,KANT;AAOTwU,qBAAO,EAAC,KAAKA,OAPJ;AAQTD,qBAAO,EAAC,KAAK2G,QARJ;AASTjG,qBAAO,EAAC,KAAKuG,OATJ;AAUT5gB,qBAAO,EAAC,KAAKof,GAVJ;AAWTlD,iBAAG,EAAoBhX,QAAQ,CAACC,cAAT,QAAgCwc,OAX9C;AAYTlE,qBAAO,EAAoBvY,QAAQ,CAACC,cAAT,mBAA2CC,KAZ7D;AAaTsY,qBAAO,EAAoBxY,QAAQ,CAACC,cAAT,mBAA2CC,KAb7D;AAcTuY,yBAAW,EAAC,KAAK0B;AAdR,aAAX;AAiBA,iBAAK3gB,GAAL,CAASkjB,SAAT,CAAmBja,IAAnB,EACGvG,SADH,CACa,UAACC,IAAD,EAAY;AACrB,kBAAIwgB,KAAK,GAAG,OAAI,CAACrI,QAAL,CAAc5V,KAAd,CAAoBmJ,KAApB,CAA0B1D,MAAtC;;AACA,mBAAI,IAAI/J,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACuiB,KAAf,EAAsBviB,CAAC,EAAvB,EAA0B;AAExB,oBAAIiW,IAAI,GAAG,OAAI,CAACiE,QAAL,CAAc5V,KAAd,CAAoBmJ,KAApB,CAA0BzN,CAA1B,CAAX,CAFwB,CAGxB;;AACA,oBAAIuV,OAAO,GAAsB3P,QAAQ,CAACC,cAAT,WAA2BoQ,IAA3B,eAA4CnQ,KAA7E;AACA,oBAAI6P,MAAM,GAAsB/P,QAAQ,CAACC,cAAT,WAA2BoQ,IAA3B,GAAoCnQ,KAApE;AACA,oBAAIjE,KAAK,GAAsB+D,QAAQ,CAACC,cAAT,WAA2BoQ,IAA3B,SAAsCnQ,KAArE;AAEA,oBAAI0c,IAAI,GAAG;AACTjN,yBAAO,EAAPA,OADS;AAETI,wBAAM,EAANA,MAFS;AAGT9T,uBAAK,EAALA,KAHS;AAITjC,uBAAK,EAACmC,IAJG;AAKT0gB,qBAAG,EAACziB;AALK,iBAAX;;AAQA,uBAAI,CAACZ,GAAL,CAASsjB,UAAT,CAAoBF,IAApB,EACG1gB,SADH,CACa,UAAC+e,SAAD,EAAiB,CAC1B;AACD,iBAHH;AAKD;;AACD,qBAAI,CAACxN,MAAL,CAAYsP,QAAZ,CAAqB,6BAAsB5gB,IAAtB,EAArB;AACD,aA1BH;AA2BD;;;;;;;yBA7gBU6V,a,EAAa,iJ,EAAA,uH;AAAA,O;;;cAAbA,a;AAAa,iC;AAAA,kB;AAAA,gB;AAAA,40D;AAAA;AAAA;ACZ1B;;AACI;;AACI;;AACI;;AACI;;AACI;;AAAqB;;AAAO;;AAC5B;;AACI;;AACI;;AAAqB;AAAA,qBAAU,IAAAgL,gBAAA,QAAV;AAAkC,aAAlC;;AACjB;;AAAkB;;AAAkB;;AACpC;;AACJ;;AACJ;;AACJ;;AACJ;;AAEA;;AAYA;;AAQA;;AAOA;;AAYA;;AAAkC;AAAA,qBAAS,IAAAhB,iBAAA,EAAT;AAA4B,aAA5B;;AAA4D;;AAAqB;;AACvH;;AACJ;;AACJ;;AACA;;AAmDJ;;AAEA;;AACI;;AAA8B;AAAA,qBAAS,IAAAA,iBAAA,EAAT;AAA4B,aAA5B;;AAA8B;;AAC5D;;AACI;;AACI;;AAAuB;;AAAyB;;AAChD;;AACA;;AACI;;AACI;;AACI;;AAAqB;;AAAQ;;AAC7B;;AACI;;AAAgD;AAAA,qBAAU,IAAAiB,QAAA,QAAV;AAA0B,aAA1B;;AAAhD;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAW;;AAChC;;AACI;;AAAgE;AAAA,qBAAU,IAAA9B,OAAA,qBAAV;AAAsC,aAAtC;;AAAhE;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAY;;AACjC;;AACI;;AAAuD;AAAA,qBAAU,IAAA+B,OAAA,qBAAV;AAAsC,aAAtC;;AAAvD;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AAAqB;;AAA8B;;AACnD;;AACI;;AACI;;AACI;;AACI;;AAYJ;;AACJ;;AACA;;AACJ;;AACJ;;AACJ;;AACA;;AACA;;AAAiD;;AACjD;;AACA;;AACI;;AAAqB;;AAAY;;AACjC;;AAAqD;AAAA;AAAA;;AAA2B;;AACpF;;AACA;;AACA;;AACI;;AAAqB;;AAAQ;;AAC7B;;AACI;;AAAuB;AAAA;AAAA,eAAwB,QAAxB,EAAwB;AAAA,qBAAW,IAAAC,OAAA,EAAX;AAAoB,aAA5C;;AACnB;;AAGJ;;AACJ;;AACJ;;AACA;;AACA;;AAAG;;AAAqB;;AAAI;;AAAwB;;AACpD;;AAAG;;AAAQ;;AAAI;;AACf;;AACI;;AACI;;AACI;;AAAI;;AAAe;;AACnB;;AAAI;;AAAe;;AACnB;;AAAI;;AAAa;;AACjB;;AAAI;;AAAc;;AACtB;;AACJ;;AACA;;AACQ;;AAgBA;;AACJ;;AACA;;AACR;;AAAG;;AAAa;;AAChB;;AAMM;;AACN;;AAAG;;AAAM;;AACT;;AACI;;AACI;;AACI;;AAAI;;AAAe;;AACnB;;AAAI;;AAAe;;AACnB;;AAAI;;AAAa;;AACjB;;AAAI;;AAAc;;AACtB;;AACJ;;AACA;;AACI;;AAQJ;;AACJ;;AAEA;;AAAG;;AAAM;;AACT;;AACI;;AACI;;AACI;;AAAI;;AAAe;;AACnB;;AAAI;;AAAe;;AACnB;;AAAI;;AAAa;;AACjB;;AAAI;;AAAc;;AACtB;;AACJ;;AACA;;AACI;;AAQJ;;AACJ;;AAEA;;AAAG;;AAAI;;AACP;;AACI;;AACI;;AACI;;AAAI;;AAAe;;AACnB;;AAAI;;AAAe;;AACnB;;AAAI;;AAAa;;AACjB;;AAAI;;AAAc;;AACtB;;AACJ;;AACA;;AACI;;AASJ;;AACJ;;AAEA;;AAAG;;AAAgB;;AACnB;;AACI;;AACI;;AACI;;AAAI;;AAAe;;AACnB;;AAAI;;AAAe;;AACnB;;AAAI;;AAAa;;AACjB;;AAAI;;AAAc;;AACtB;;AACJ;;AACA;;AACI;;AAQJ;;AACJ;;AACA;;AACJ;;AACJ;;AACJ;;;;AAnTwC;;AAAA;;AAML;;AAAA;;AAYA;;AAAA;;AAQA;;AAAA;;AAOA;;AAAA;;AAY6C;;AAAA;;AAIxD;;AAAA;;AAqDL;;AAAA;;AA2BoD;;AAAA;;AAWzB;;AAAA;;AAuBuB;;AAAA;;AAM1B;;AAAA;;AACG;;AAAA;;AAON;;AAAA;;AAYF;;AAAA;;AAoBrB;;AAAA;;AAkBiB;;AAAA;;AAsBA;;AAAA;;AAsBA;;AAAA;;AAuBA;;AAAA;;AAUkC;;AAAA;;;;;;;;;wED9SvDnL,a,EAAa;gBALzB,uDAKyB;iBALf;AACTvV,oBAAQ,EAAE,UADD;AAETC,uBAAW,EAAE,uBAFJ;AAGTC,qBAAS,EAAE,CAAC,sBAAD;AAHF,W;AAKe,U;;;;;;;;;;;;;;;;;;;;;;;;AEZ1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOaygB,Y,GALb;AAAA;;AAME,aAAA9hB,KAAA,GAAQ,aAAR;AACD,O;;;yBAFY8hB,Y;AAAY,O;;;cAAZA,Y;AAAY,iC;AAAA,gB;AAAA,e;AAAA;AAAA;ACPzB;;;;;;;;;wEDOaA,Y,EAAY;gBALxB,uDAKwB;iBALd;AACT3gB,oBAAQ,EAAE,UADD;AAETC,uBAAW,EAAE,sBAFJ;AAGTC,qBAAS,EAAE,CAAC,qBAAD;AAHF,W;AAKc,U;;;;;;;;;;;;;;;;;;AEPzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACYQ;;AAA8C;;;;AAAmB;;;;;;AAAnB;;AAAA;;;;;;AAQtC;;AACI;;AACI;;AACI;;AAAG;;AAAU;;AAAI;;AAA+B;;AACjD;;AAAG;;AAAiB;;AAAI;;AAAkB;;AAC1C;;AAAG;;AAAuB;;AAAI;;AAAsB;;AACpD;;AAAG;;AAAmB;;AAAI;;AAAkF;;AAC5G;;AAAG;;AAAS;;AAAI;;AACpB;;AACC;;AACA;;AACJ;;AACJ;;;;;;;;AAXS;;AAAA;;AAA+D;;AAE3C;;AAAA;;AACM;;AAAA;;AACM;;AAAA;;AACJ;;AAAA;;AACV;;AAAA;;AAEnB;;AAAA;;;;;;AAbhB;;AACI;;AACI;;AAAkB;;AAAW;;AAE7B;;AAcJ;;AACJ;;;;;;;;;;AAjB0B;;AAAA;;AAEJ;;AAAA;;;;;;AAPtB;;AAEA;;AAAM;;AAAc;;AACpB;;AAoBJ;;;;;;;;;AAvBQ;;AAEE;;AAAA;;AACD;;AAAA;;;;UDLA0gB,sB;AAOX,wCAAoB7jB,GAApB,EAAwC;AAAA;;AAApB,eAAAA,GAAA,GAAAA,GAAA;AAJb,eAAA0M,SAAA,GAAY,EAAZ;AACA,eAAAgI,QAAA,GAAW,EAAX;AACA,eAAAoP,OAAA,GAAkB,KAAlB,CAEiC,CA8DxC;;AAEA,eAAAC,IAAA,GAAW,CACT,OADS,EAET,QAFS,EAGT,WAHS,EAIT,QAJS,EAKT,SALS,EAMT,QANS,EAOT,SAPS,CAAX;AAhE2C;;;;iBAE3C,oBAAQ;AAEN,iBAAK9W,eAAL;AACA,iBAAK0L,eAAL;AACA,gBAAIqL,GAAG,GAAG,mCAAM,GAAG3jB,MAAT,CAAgB,GAAhB,CAAV;AACA,gBAAI4jB,GAAG,GAAG,mCAAM,GAAG5jB,MAAT,CAAgB,MAAhB,CAAV;AACA,iBAAK6jB,eAAL,CAAqBF,GAArB,EAAyBC,GAAzB;AACD,W,CAED;;;;iBACA,yBAAgBE,KAAhB,EAAuBC,IAAvB,EAA6B;AAE3B,0DAAc,IAAd;AAEA,gEAAoB,IAApB,EAA0B;AACxBC,oBAAM,EAAG,CACL,OADK,EACI,SADJ,EACe,OADf,EACwB,OADxB,EACiC,MADjC,EACyC,OADzC,EACkD,OADlD,EAEL,QAFK,EAEK,YAFL,EAEmB,SAFnB,EAE8B,WAF9B,EAE2C,WAF3C;AADe,aAA1B;AAQA,gBAAMC,SAAS,GAAG,mCAAM,WAAIF,IAAJ,cAAYD,KAAZ,SAAxB;AACA,gBAAMI,OAAO,GAAGD,SAAS,CAACE,KAAV,GAAkBC,KAAlB,CAAwB,OAAxB,CAAhB;AACA,iBAAKC,UAAL,GAAkBJ,SAAlB;AAEA,gBAAMK,QAAQ,GAAGJ,OAAO,CAAC5N,IAAR,CAAa2N,SAAb,EAAwB,MAAxB,EAAgC,IAAhC,CAAjB;AACA,gBAAMM,UAAU,GAAGtc,IAAI,CAACuc,KAAL,CAAWF,QAAX,CAAnB;AAEA,gBAAMG,SAAS,GAAGjF,MAAM,CAACF,IAAP,oBAAgBoF,KAAK,CAACH,UAAD,CAArB,GAAoC/c,GAApC,CAAwC,UAAC6I,CAAD,EAAY;AACpEA,eAAC,GAAGsU,QAAQ,CAACtU,CAAD,CAAR,GAAc,CAAlB;AACA,kBAAMuU,SAAS,GAAG,mCAAM,WAAIb,IAAJ,cAAYD,KAAZ,cAAqBzT,CAArB,EAAxB;AACA,qBAAO;AACLxJ,oBAAI,EAAE+d,SAAS,CAAC5kB,MAAV,CAAiB,MAAjB,CADD;AAELqG,qBAAK,EAAEgK,CAFF;AAGLwU,yBAAS,EAAED,SAAS,CAACE,UAAV;AAHN,eAAP;AAKD,aARiB,CAAlB;AAUA,iBAAKC,WAAL,GAAmBN,SAAnB;AACD;;;iBAED,qBAAYO,IAAZ,EAAkB;AAChB,gBAAIA,IAAI,GAAG,CAAX,EAAc;AACZ,kBAAMC,QAAQ,GAAG,KAAKZ,UAAL,CAAgBF,KAAhB,GAAwBe,QAAxB,CAAiC,CAAjC,EAAoC,OAApC,CAAjB;AACA,mBAAKrB,eAAL,CAAqBoB,QAAQ,CAACjlB,MAAT,CAAgB,IAAhB,CAArB,EAA4CilB,QAAQ,CAACjlB,MAAT,CAAgB,MAAhB,CAA5C;AACD,aAHD,MAGO;AACL,kBAAMmlB,QAAQ,GAAG,KAAKd,UAAL,CAAgBF,KAAhB,GAAwB9F,GAAxB,CAA4B,CAA5B,EAA+B,OAA/B,CAAjB;AACA,mBAAKwF,eAAL,CAAqBsB,QAAQ,CAACnlB,MAAT,CAAgB,IAAhB,CAArB,EAA4CmlB,QAAQ,CAACnlB,MAAT,CAAgB,MAAhB,CAA5C;AACD;AACF;;;iBAED,kBAASolB,GAAT,EAAc;AACZ,gBAAMC,SAAS,GAAG,KAAKhB,UAAL,CAAgBrkB,MAAhB,CAAuB,SAAvB,CAAlB;AACA,gBAAMslB,KAAK,aAAMD,SAAN,cAAmBD,GAAG,CAAC/e,KAAvB,CAAX;AACA,gBAAMkf,UAAU,GAAG,mCAAM,CAACD,KAAD,CAAzB;AACA,iBAAKE,SAAL,GAAiBD,UAAjB;AAGD;;;iBAiBD,2BAAe;AAAA;;AACb,iBAAK5lB,GAAL,CAASyN,WAAT,GACG/K,SADH,CACa,UAAAgL,QAAQ,EAAI;AACrB,qBAAI,CAACjB,QAAL,GAAgBiB,QAAhB;;AACA,qBAAI,CAACC,YAAL;;AACA,qBAAI,CAACmW,OAAL,GAAe,IAAf;AACD,aALH;AAMD;;;iBAED,wBAAY;AACV,gBAAIljB,CAAC,GAAG,KAAK6L,QAAL,CAAc9B,MAAtB;;AACA,iBAAI,IAAIhJ,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAEf,CAAlB,EAAqBe,CAAC,EAAtB,EAAyB;AACvB,kBAAIuI,IAAI,GAAG,KAAKwC,SAAL,CAAevE,QAAf,CAAwB,KAAKsE,QAAL,CAAc9K,CAAd,EAAiBmL,IAAzC,CAAX;;AACA,kBAAG,CAAC5C,IAAJ,EAAS;AACP,qBAAKwC,SAAL,CAAe1L,IAAf,CAAoB,KAAKyL,QAAL,CAAc9K,CAAd,EAAiBmL,IAArC;AACD;AACF;AACF;;;iBAED,oBAAWlM,CAAX,EAAa2U,CAAb,EAAc;AACZ,mBAAOjN,IAAI,CAAC4N,IAAL,CAAUtV,CAAC,GAAC2U,CAAZ,CAAP;AACD;;;iBAED,mBAAU9S,KAAV,EAAqBqjB,OAArB,EAAgC;AAE9B;AAEA,gBAAI9B,GAAG,GAAG,mCAAM,CAAC,KAAKU,UAAN,CAAN,CAAwBrkB,MAAxB,CAA+B,IAA/B,CAAV;AACA,gBAAI4jB,GAAG,GAAG,mCAAM,CAAC,KAAKS,UAAN,CAAN,CAAwBrkB,MAAxB,CAA+B,MAA/B,CAAV;;AAEA,gBAAGoC,KAAK,GAAC,EAAT,EAAY;AACVA,mBAAK,cAAOA,KAAP,CAAL;AACD;;AAEDA,iBAAK,aAAMwhB,GAAN,cAAaD,GAAb,cAAoBvhB,KAApB,CAAL;AAEA,gBAAIsjB,KAAK,GAAG,EAAZ;AAEA,gBAAIhd,KAAK,GAAG,KAAK2L,QAAL,CAAclE,MAAd,CAAqB,UAAA5P,CAAC;AAAA,qBAAIA,CAAC,CAACuV,OAAF,CAAUrJ,IAAV,KAAmBgZ,OAAvB;AAAA,aAAtB,CAAZ;;AAEA,gBAAG/c,KAAH,EAAS;AACP,kBAAIuQ,OAAK,GAAG,EAAZ;AACA,kBAAIvB,IAAI,GAAGhP,KAAK,CAAC4B,MAAjB;;AACA,mBAAI,IAAIhJ,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACoW,IAAf,EAAqBpW,CAAC,EAAtB,EAAyB;AAEvB,oBAAGc,KAAK,IAAIsG,KAAK,CAACpH,CAAD,CAAL,CAAS4U,MAArB,EAA4B;AAC1B,sBAAG9T,KAAK,IAAIsG,KAAK,CAACpH,CAAD,CAAL,CAASc,KAArB,EAA2B;AACzB6W,2BAAK,CAACtY,IAAN,CAAW+H,KAAK,CAACpH,CAAD,CAAhB,EADyB,CAEzB;;AACD;AACF;AAEF;;AACD,qBAAO2X,OAAP;AAED,aAhC6B,CAkC9B;;AACD,W,CACC;AAEA;AACA;AAGA;AAEA;AACA;AACA;AACA;AAEA;AAEE;AACA;AACA;AACA;AACA;AAGF;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIE;AAEF;AACA;AACA;AACA;AAGA;;;;iBAEF,2BAAe;AAAA;;AACb,iBAAKtZ,GAAL,CAAS8X,WAAT,GACGpV,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACmhB,OAAL,GAAe,KAAf;AACA,qBAAI,CAACpP,QAAL,GAAgB/R,IAAhB,CAFqB,CAGrB;;AACA,qBAAI,CAACmhB,OAAL,GAAe,IAAf;AACD,aANH;AAOD;;;;;;;yBA7NUD,sB,EAAsB,0I;AAAA,O;;;cAAtBA,sB;AAAsB,0C;AAAA,iB;AAAA,e;AAAA,iR;AAAA;AAAA;ACXnC;;AACA;;AACI;;AACI;;AACI;;AAAkC;AAAA,qBAAS,IAAAmC,WAAA,EAAa,CAAb,CAAT;AAAwB,aAAxB;;AAA0B;;AAAQ;;AACxE;;AACA;;AAAI;;;;AAAmC;;AACvC;;AACI;;AAAkC;AAAA,qBAAS,IAAAA,WAAA,CAAY,CAAZ,CAAT;AAAuB,aAAvB;;AAAyB;;AAAS;;AACxE;;AACJ;;AACA;;AACI;;AACA;;AAwBJ;;AACJ;;;;AAhCY;;AAAA;;AAMA;;AAAA;;AAEJ;;AAAA;;;;;;;;;;wEDHKnC,sB,EAAsB;gBALlC,uDAKkC;iBALxB;AACT5gB,oBAAQ,EAAE,mBADD;AAETC,uBAAW,EAAE,gCAFJ;AAGTC,qBAAS,EAAE,CAAC,+BAAD;AAHF,W;AAKwB,U;;;;;;;;;;;;;;;;;;;;;;AEXnC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQa8iB,oB;AAEX,wCAAc;AAAA;AAAG;;;;iBAEjB,oBAAQ,CACP;;;;;;;yBALUA,oB;AAAoB,O;;;cAApBA,oB;AAAoB,yC;AAAA,gB;AAAA,e;AAAA;AAAA;ACRjC;;AACA;;;;;;;;;wEDOaA,oB,EAAoB;gBALhC,uDAKgC;iBALtB;AACThjB,oBAAQ,EAAE,kBADD;AAETC,uBAAW,EAAE,+BAFJ;AAGTC,qBAAS,EAAE,CAAC,8BAAD;AAHF,W;AAKsB,U;;;;;;;;;;;;;;;;;;;;AERjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AA4BA,kFAAmB,kEAAnB,EAA6B,IAA7B;;UAiCa+iB,S;;;;;cAAAA,S;AAAS,oBAFR,2DAEQ;;;;2BAATA,S;AAAS,S;AAAA,mBAHT,CAAC;AAACC,iBAAO,EAAE,uDAAV;AAAqBC,kBAAQ,EAAE;AAA/B,SAAD,C;AAAsC,kBAdxC,CACP,uEADO,EAEP,6DAFO,EAGP,kEAHO,EAIP,oEAJO,EAKP,qFALO,EAMP,+DANO,EAOP,mFAPO,EAQP,4GARO,EASP,sEATO,EAUP,sEAVO,EAWP,mEAXO,EAYP,2DAZO,CAcwC;;;;4HAGtCF,S,EAAS;AAAA,yBA7BlB,2DA6BkB,EA5BlB,qEA4BkB,EA3BlB,wEA2BkB,EA1BlB,yFA0BkB,EAzBlB,kHAyBkB,EAxBlB,4EAwBkB,EAvBlB,sEAuBkB,EAtBlB,4EAsBkB,EArBlB,8FAqBkB,EApBlB,sEAoBkB,EAnBlB,6DAmBkB;AAnBR,oBAGV,uEAHU,EAIV,6DAJU,EAKV,kEALU,EAMV,oEANU,EAOV,qFAPU,EAQV,+DARU,EASV,mFATU,EAUV,4GAVU,EAWV,sEAXU,EAYV,sEAZU,EAaV,mEAbU,EAcV,2DAdU;AAmBQ,S;AALP,O;;;;;wEAKFA,S,EAAS;gBA/BrB,sDA+BqB;iBA/BZ;AACRjX,wBAAY,EAAE,CACZ,2DADY,EAEZ,qEAFY,EAGZ,wEAHY,EAIZ,yFAJY,EAKZ,kHALY,EAMZ,4EANY,EAOZ,sEAPY,EAQZ,4EARY,EASZ,8FATY,EAUZ,sEAVY,EAWZ,6DAXY,CADN;AAcRC,mBAAO,EAAE,CACP,uEADO,EAEP,6DAFO,EAGP,kEAHO,EAIP,oEAJO,EAKP,qFALO,EAMP,+DANO,EAOP,mFAPO,EAQP,4GARO,EASP,sEATO,EAUP,sEAVO,EAWP,mEAXO,EAYP,2DAZO,CAdD;AA4BRmX,qBAAS,EAAE,CAAC;AAACF,qBAAO,EAAE,uDAAV;AAAqBC,sBAAQ,EAAE;AAA/B,aAAD,CA5BH;AA6BRE,qBAAS,EAAE,CAAC,2DAAD;AA7BH,W;AA+BY,U;;;;;;;;;;;;;;;;;;AC7DtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;;UAOaC,U;;;;;;;iBAEX,mBAAU7f,KAAV,EAAoB;AAClB,gBAAGA,KAAK,KAAIuK,SAAT,IAAsBvK,KAAK,KAAI,IAAlC,EAAuC;AACnC,qBAAO,8CAASA,KAAT,EAAgB,MAAhB,CAAP;AACH;;AACD,mBAAOA,KAAP;AACH;;;;;;;yBAPY6f,U;AAAU,O;;;;cAAVA,U;AAAU;;;;;wEAAVA,U,EAAU;gBAJtB,kDAIsB;iBAJjB;AACJrf,gBAAI,EAAE,QADF;AAEJsf,gBAAI,EAAE;AAFF,W;AAIiB,U;;;;;;;;;;;;;;;;;;ACPvB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOaC,c;AAEX,kCAAc;AAAA;AAAG;;;;iBAEjB,oBAAQ,CACP;;;;;;;yBALUA,c;AAAc,O;;;cAAdA,c;AAAc,kC;AAAA,gB;AAAA,e;AAAA;AAAA;ACP3B;;AACA;;;;;;;;;wEDMaA,c,EAAc;gBAL1B,uDAK0B;iBALhB;AACTxjB,oBAAQ,EAAE,WADD;AAETC,uBAAW,EAAE,wBAFJ;AAGTC,qBAAS,EAAE,CAAC,uBAAD;AAHF,W;AAKgB,U;;;;;;;;;;;;;;;;;;;;AEP3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAOA,UAAMwL,MAAM,GAAU,CACpB;AACEC,YAAI,EAAC,EADP;AAEEC,iBAAS,EAAC,4EAFZ;AAGEC,gBAAQ,EAAC,CACP;AACEF,cAAI,EAAC,EADP;AAEEC,mBAAS,EAAC;AAFZ,SADO;AAHX,OADoB,CAAtB;;UAkBa6X,wB;;;;;cAAAA;;;;2BAAAA,wB;AAAwB,S;AAAA,kBAL1B,CACP,4DADO,EAEP,6DAAa1X,QAAb,CAAsBL,MAAtB,CAFO,CAK0B;;;;4HAAxB+X,wB,EAAwB;AAAA,oBAJjC,4DAIiC,EAJrB,4DAIqB;AAAA,S;AAJrB,O;;;;;wEAIHA,wB,EAAwB;gBAPpC,sDAOoC;iBAP3B;AACRzX,wBAAY,EAAE,EADN;AAERC,mBAAO,EAAE,CACP,4DADO,EAEP,6DAAaF,QAAb,CAAsBL,MAAtB,CAFO;AAFD,W;AAO2B,U;;;;;;;;;;;;;;;;;;ACzBrC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,UAAMA,MAAM,GAAU,CACpB;AACEC,YAAI,EAAC,EADP;AAEEC,iBAAS,EAAC,6EAFZ;AAGEC,gBAAQ,EAAC,CACP;AACEF,cAAI,EAAC,EADP;AAEEC,mBAAS,EAAC;AAFZ,SADO;AAHX,OADoB,CAAtB;;UAmBa8X,yB;;;;;cAAAA;;;;2BAAAA,yB;AAAyB,S;AAAA,kBAN3B,CACP,4DADO,EAEP,6DAAa3X,QAAb,CAAsBL,MAAtB,CAFO,CAM2B;;;;4HAAzBgY,yB,EAAyB;AAAA,oBALlC,4DAKkC,EALtB,4DAKsB;AAAA,S;AALtB,O;;;;;wEAKHA,yB,EAAyB;gBARrC,sDAQqC;iBAR5B;AACR1X,wBAAY,EAAE,EADN;AAERC,mBAAO,EAAE,CACP,4DADO,EAEP,6DAAaF,QAAb,CAAsBL,MAAtB,CAFO;AAFD,W;AAQ4B,U;;;;;;;;;;;;;;;;;;ACzBtC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACgDY;;AACI;;AACA;;AACJ;;;;;;AACA;;AACI;;AACI;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACJ;;AACA;;AAAmB;;AAAqC;;AAC5D;;;;;;AACA;;AACI;;AACA;;AACJ;;;;;;;;;;;;;;AAOQ;;AACI;;AACI;;AACI;;AAA4B;;AAChC;;AACJ;;AACA;;AACI;;AAAI;;AAAe;;AAAsB;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA2B;;AAAI;;AACxE;;AAAiB;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA4C;;AAAU;;AAAsC;;AAC7G;;AAAiB;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA0C;;AAAQ;;AAAgC;;AACnG;;AAAI;;AAAG;;AAAQ;;AAAI;;;;AAA2C;;AAC9D;;AAAI;;AAAG;;AAAW;;AAAK;;AAA2B;;AACtD;;AACJ;;;;;;;;;AAbgG;;AAGpF;;AAAA;;AAIA;;AAAA;;AAGe;;AAAA;;AACI;;AAAA;;;;;;AAhBvC;;AACI;;AACI;;AAAG;;AAAoB;;AAAK;;AAChC;;AACA;;AACI;;AAcJ;;AACJ;;;;;;AAlBoC;;AAAA;;AAGM;;AAAA;;;;;;AAqBtD;;AACI;;AACI;;AACI;;AACI;;AACI;;AAAuC;;AAC3C;;AACA;;AACI;;AACI;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAK;;AACb;;AACA;;AACI;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAU;;AAClB;;AACA;;AACI;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAU;;AAClB;;AACA;;AACI;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAU;;AAClB;;AACA;;AACI;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAU;;AAClB;;AACA;;AACI;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAU;;AAClB;;AACA;;AACI;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAU;;AAClB;;AACA;;AACI;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAU;;AAClB;;AACA;;AACI;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAU;;AAClB;;AACA;;AACI;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAU;;AAClB;;AACA;;AACI;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAU;;AAClB;;AACA;;AACI;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAU;;AAClB;;AACA;;AACI;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAU;;AAClB;;AACA;;AACI;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAU;;AAClB;;AACA;;AACI;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAU;;AAClB;;AACA;;AACI;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAU;;AAClB;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AACI;;AAAkC;;AAClC;;AACI;;AACI;;AAAS;;AAAmC;;AAAS;;AACzD;;AACJ;;AACA;;AACI;;AACI;;AAAQ;;AAAkC;;AAAM;;AACpD;;AACJ;;AACA;;AACI;;AACI;;AAAQ;;AAAqC;;AAAO;;AACxD;;AACJ;;AACA;;AACI;;AACI;;AAAQ;;AAAiC;;AAAK;;AAClD;;AACJ;;AACA;;AACI;;AACI;;AAAQ;;AAA6B;;AAAiB;;AAC1D;;AACJ;;AACA;;AACI;;AACI;;AAAQ;;AAA8B;;AAAM;;AAChD;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;;;UD3Ma6J,a;AAEX,+BAAoBxY,GAApB,EACUiU,MADV,EACuB;AAAA;;AADH,eAAAjU,GAAA,GAAAA,GAAA;AACV,eAAAiU,MAAA,GAAAA,MAAA;AAKH,eAAA2S,OAAA,GAAU,EAAV;AACA,eAAA7R,SAAA,GAAY,EAAZ;AACA,eAAA8R,KAAA,GAAQ,EAAR;AACA,eAAAC,SAAA,GAAY,EAAZ;AACA,eAAAzN,YAAA,GAAe,EAAf;AACA,eAAA0N,SAAA,GAAY,EAAZ;AACA,eAAAC,aAAA,GAAgB,EAAhB;AACA,eAAAC,QAAA,GAAW,EAAX;AAGA,eAAAriB,QAAA,GAAW,KAAX;AACA,eAAAsiB,WAAA,GAAc,IAAd;AACA,eAAAC,KAAA,GAAQ,KAAR;AAmBA,eAAA7O,UAAA,GAAa,EAAb;AACA,eAAAC,WAAA,GAAc,EAAd;AACA,eAAAF,eAAA,GAAkB,KAAlB;AAQA,eAAA+O,OAAA,GAAU,EAAV;AACA,eAAAC,cAAA,GAAiB,EAAjB;AACA,eAAAC,UAAA,GAAiB,EAAjB;AACA,eAAAC,cAAA,GAAiB,KAAjB;AAjDsB;;;;iBAE7B,oBAAQ,CACP;;;iBAgBD,eAAMve,EAAN,EAAQ;AACN,iBAAKiL,MAAL,CAAYM,aAAZ,4BAA8CvL,EAA9C;AACD;;;iBAED,qBAAYxI,KAAZ,EAAiB;AACf;AACA,gBAAIF,QAAQ,GAAG,KAAKyU,SAAL,CAAepU,IAAf,CAAoB,UAAAL,QAAQ;AAAA,qBAAIA,QAAQ,CAACA,QAAT,CAAkBS,EAAlB,IAAwBP,KAA5B;AAAA,aAA5B,CAAf;;AACA,iBAAI,IAAImB,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAC,KAAKoT,SAAL,CAAepK,MAAhC,EAAuChJ,CAAC,EAAxC,EAA2C;AACzC,mBAAI,IAAI4T,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAC,KAAKR,SAAL,CAAepT,CAAf,EAAkBrB,QAAlB,CAA2BqK,MAA5C,EAAmD4K,CAAC,EAApD,EAAuD;AACrD,oBAAG,KAAKR,SAAL,CAAepT,CAAf,EAAkBrB,QAAlB,CAA2BiV,CAA3B,EAA8BxU,EAA9B,IAAoCP,KAAvC,EAA6C;AAC3C,yBAAO,KAAKuU,SAAL,CAAepT,CAAf,EAAkBc,KAAzB;AACD;AACF;AACF;;AACD,mBAAO,eAAP;AACD;;;iBAKD,oBAAWuG,EAAX,EAAcjI,EAAd,EAAgB;AACd,iBAAKuX,UAAL,GAAkB,KAAK2O,QAAL,CAAczW,MAAd,CAAqB,UAAA5P,CAAC;AAAA,qBAAIA,CAAC,CAACJ,KAAF,KAAYwI,EAAhB;AAAA,aAAtB,CAAlB;AACA,iBAAKuP,WAAL,GAAmB,KAAKwO,SAAL,CAAevW,MAAf,CAAsB,UAAA5P,CAAC;AAAA,qBAAIA,CAAC,CAACG,EAAF,KAASiI,EAAb;AAAA,aAAvB,CAAnB;AACA,iBAAKqP,eAAL,GAAuB,IAAvB;AAED;;;iBAMD,kBAASrP,EAAT,EAAYjI,EAAZ,EAAc;AAAA;;AACZ,iBAAKumB,UAAL,GAAkB,EAAlB;AACA,iBAAKD,cAAL,GAAsB,EAAtB;AACA,iBAAKA,cAAL,GAAsB,KAAKhO,YAAL,CAAkB7I,MAAlB,CAAyB,UAAA5P,CAAC;AAAA,qBAAGA,CAAC,CAACJ,KAAF,KAAYO,EAAf;AAAA,aAA1B,CAAtB;AACA,iBAAKqmB,OAAL,GAAe,KAAKP,KAAL,CAAWrW,MAAX,CAAkB,UAAA5P,CAAC;AAAA,qBAAIA,CAAC,CAACJ,KAAF,KAAYO,EAAhB;AAAA,aAAnB,CAAf;;AAJY,yCAKJY,CALI;AAAA,2CAMFgF,CANE;AASR,oBAAIpF,KAAK,GAAG,OAAI,CAAC+lB,UAAL,CAAgB3mB,IAAhB,CAAqB,UAAAC,CAAC;AAAA,yBAAGA,CAAC,CAACoE,MAAF,KAAa,OAAI,CAACoiB,OAAL,CAAazlB,CAAb,EAAgBmH,QAAhB,CAAyBnC,CAAzB,EAA4BmC,QAA5B,CAAqC9D,MAArD;AAAA,iBAAtB,CAAZ;;AAEA,oBAAG,CAACzD,KAAJ,EAAU;AACR,sBAAIkE,KAAK,GAAG,OAAI,CAAC2hB,OAAL,CAAazlB,CAAb,EAAgBmH,QAAhB,CAAyBnC,CAAzB,EAA4BmC,QAA5B,CAAqCrD,KAAjD;AACA,sBAAIuD,IAAE,GAAG,OAAI,CAACoe,OAAL,CAAazlB,CAAb,EAAgBmH,QAAhB,CAAyBnC,CAAzB,EAA4BmC,QAA5B,CAAqC3D,GAA9C;AACA,sBAAIqiB,IAAI,GAAG,OAAI,CAACJ,OAAL,CAAazlB,CAAb,EAAgBmH,QAAhB,CAAyBnC,CAAzB,EAA4BzF,QAAvC,CAHQ,CAIR;;AACA,sBAAG,OAAI,CAACkmB,OAAL,CAAazlB,CAAb,EAAgBmH,QAAhB,CAAyBnC,CAAzB,EAA4BmC,QAA5B,CAAqC2B,KAAxC,EAA8C;AAC5C,wBAAIA,KAAK,GAAG,OAAI,CAAC2c,OAAL,CAAazlB,CAAb,EAAgBmH,QAAhB,CAAyBnC,CAAzB,EAA4BmC,QAA5B,CAAqC2B,KAAjD;AACA,wBAAIG,KAAK,GAAG,OAAI,CAACwc,OAAL,CAAazlB,CAAb,EAAgBmH,QAAhB,CAAyBnC,CAAzB,EAA4BmC,QAA5B,CAAqC8B,KAAjD;;AACA,2BAAI,CAAC0c,UAAL,CAAgBtmB,IAAhB,CAAqB;AAACD,wBAAE,EAAFA,EAAD;AAAIiI,wBAAE,EAAFA,IAAJ;AAAOvD,2BAAK,EAALA,KAAP;AAAaT,4BAAM,EAAC,OAAI,CAACoiB,OAAL,CAAazlB,CAAb,EAAgBmH,QAAhB,CAAyBnC,CAAzB,EAA4BmC,QAA5B,CAAqC9D,MAAzD;AAAiE9D,8BAAQ,EAACsmB,IAA1E;AAA+E/c,2BAAK,EAALA,KAA/E;AAAqFG,2BAAK,EAALA;AAArF,qBAArB;AACD,mBAJD,MAIK;AACH,2BAAI,CAAC0c,UAAL,CAAgBtmB,IAAhB,CAAqB;AAACD,wBAAE,EAAFA,EAAD;AAAIiI,wBAAE,EAAFA,IAAJ;AAAOvD,2BAAK,EAALA,KAAP;AAAaT,4BAAM,EAAC,OAAI,CAACoiB,OAAL,CAAazlB,CAAb,EAAgBmH,QAAhB,CAAyBnC,CAAzB,EAA4BmC,QAA5B,CAAqC9D,MAAzD;AAAiE9D,8BAAQ,EAACsmB;AAA1E,qBAArB;AACD;AACF,iBAZD,MAYK;AACH,sBAAI7W,CAAC,GAAG,OAAI,CAAC2W,UAAL,CAAgB9lB,SAAhB,CAA0B,UAAAZ,CAAC;AAAA,2BAAGA,CAAC,CAACoE,MAAF,KAAa,OAAI,CAACoiB,OAAL,CAAazlB,CAAb,EAAgBmH,QAAhB,CAAyBnC,CAAzB,EAA4BmC,QAA5B,CAAqC9D,MAArD;AAAA,mBAA3B,CAAR;;AACA,yBAAI,CAACsiB,UAAL,CAAgB3W,CAAhB,EAAmBzP,QAAnB,GAA8BuQ,MAAM,CAAC,OAAI,CAAC6V,UAAL,CAAgB3W,CAAhB,EAAmBzP,QAApB,CAAN,GAAsCuQ,MAAM,CAAC,OAAI,CAAC2V,OAAL,CAAazlB,CAAb,EAAgBmH,QAAhB,CAAyBnC,CAAzB,EAA4BzF,QAA7B,CAA1E;AACD;AA1BO;;AAMV,mBAAI,IAAIyF,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAC,OAAI,CAACygB,OAAL,CAAazlB,CAAb,EAAgBmH,QAAhB,CAAyB6B,MAAxC,EAA+ChE,CAAC,EAAhD,EACA;AAAA,uBADQA,CACR;AAsBC;AA7BS;;AAKZ,iBAAI,IAAIhF,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAC,KAAKylB,OAAL,CAAazc,MAA5B,EAAmChJ,CAAC,EAApC,EAAuC;AAAA,qBAA/BA,CAA+B;AAyBtC;;AACD,iBAAK4lB,cAAL,GAAsB,IAAtB;AACD;;;iBAED,6BAAoBE,KAApB,EAA2BC,KAA3B,EAAgC;AAAA;;AAC9B,iBAAKP,KAAL,GAAa,KAAb;AACA,iBAAKD,WAAL,GAAmB,KAAnB;AACA,iBAAKtiB,QAAL,GAAgB,IAAhB;;AACA,gBAAG,CAAC6iB,KAAD,IAAU,CAACC,KAAd,EAAoB;AAClB,mBAAK9iB,QAAL,GAAgB,KAAhB;AACA,mBAAKsiB,WAAL,GAAmB,IAAnB;AACA,iEAAKrlB,IAAL,CAAU;AACRC,qBAAK,EAAC,4BADE;AAERgB,oBAAI,EAAC,8FAFG;AAGRX,oBAAI,EAAC,OAHG;AAIRY,iCAAiB,EAAC;AAJV,eAAV;AAMA;AACD;;AACD,gBAAG0kB,KAAK,GAAGC,KAAX,EAAiB;AACf,mBAAK9iB,QAAL,GAAgB,KAAhB;AACA,mBAAKsiB,WAAL,GAAmB,IAAnB;AACA,iEAAKrlB,IAAL,CAAU;AACRC,qBAAK,EAAC,sBADE;AAERgB,oBAAI,EAAC,wDAFG;AAGRX,oBAAI,EAAC,OAHG;AAIRY,iCAAiB,EAAC;AAJV,eAAV;AAMA;AACD;;AACC,iBAAK/C,GAAL,CAAS2nB,iBAAT,CAA2B;AAACF,mBAAK,EAALA,KAAD;AAAOC,mBAAK,EAALA;AAAP,aAA3B,EACGhlB,SADH,CACa,UAACC,IAAD,EAAY;AACrB,kBAAGA,IAAI,CAACgI,MAAL,GAAc,CAAjB,EAAmB;AACjB,uBAAI,CAACwc,KAAL,GAAa,IAAb;AACD;;AACD,qBAAI,CAACP,OAAL,GAAejkB,IAAI,CAACnC,KAApB;AACA,qBAAI,CAACuU,SAAL,GAAiBpS,IAAI,CAACmkB,SAAtB;AACA,qBAAI,CAACzN,YAAL,GAAoB1W,IAAI,CAAC0W,YAAzB;AACA,qBAAI,CAAC0N,SAAL,GAAiBpkB,IAAI,CAACokB,SAAtB;AACA,qBAAI,CAACF,KAAL,GAAalkB,IAAI,CAACilB,KAAlB;AACA,qBAAI,CAACZ,aAAL,GAAqBrkB,IAAI,CAACqkB,aAA1B;AACA,qBAAI,CAACC,QAAL,GAAgBtkB,IAAI,CAACskB,QAArB;AACA,qBAAI,CAACriB,QAAL,GAAgB,KAAhB;AAED,aAdH;AAgBH;;;;;;;yBAjIU4T,a,EAAa,iJ,EAAA,uH;AAAA,O;;;cAAbA,a;AAAa,iC;AAAA,iB;AAAA,gB;AAAA,47C;AAAA;AAAA;;;ACV1B;;AAIA;AAAA,2CAAoC,KAApC;AAAyC,aAAzC;;AAA2C;;AAC3C;;AAKA;AAAA,0CAAiC,KAAjC;AAAsC,aAAtC;;AACA;;AACA;;AACI;;AACI;;AACJ;;AACA;;AACI;;AAEI;;AACI;;AACI;;AACI;;AAAqB;;AAAM;;AAC3B;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAM;;AAC3B;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAC;;AACtB;;AAAkC;AAAA;;AAAA;;AAAA;;AAAA,qBAAS,IAAAqP,mBAAA,sBAAT;AAAsD,aAAtD;;AAAwD;;AAAM;;AACpG;;AACJ;;AACJ;;AAEJ;;AACJ;;AACA;;AAIA;;AACI;;AACI;;AAIA;;AAeA;;AAKA;;AAqBA;;AACJ;;AACJ;;AACJ;;AAEA;;AAwHA;;;;AAzNA,6GAAmC,YAAnC,EAAmC,cAAnC,EAAmC,aAAnC,EAAmC,eAAnC;;AAKA;;AAAA,2GAAiC,SAAjC,EAAiC,WAAjC,EAAiC,YAAjC,EAAiC,cAAjC,EAAiC,gBAAjC,EAAiC,kBAAjC;;AA0C+B;;AAAA;;AAIC;;AAAA;;AAeD;;AAAA;;AAKD;;AAAA;;AA0BT;;AAAA;;;;;;;;;;wEDxFRrP,a,EAAa;gBALzB,uDAKyB;iBALf;AACTvV,oBAAQ,EAAE,UADD;AAETC,uBAAW,EAAE,uBAFJ;AAGTC,qBAAS,EAAE,CAAC,sBAAD;AAHF,W;AAKe,U;;;;;;;;;;;;;;;;;;;;;;;;AEV1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACYoB;;AACI;;AAAI;;AAAgF;;AACxF;;;;;;AADQ;;AAAA;;;;;;AAER;;AACI;;AAAI;;AAAwC;;AAChD;;;;;;AADQ;;AAAA;;;;;;AALZ;;AACI;;AAGA;;AAGA;;AAAI;;AAAqB;;AACzB;;AAAI;;AAA0C;;AAC9C;;AACI;;AACJ;;AACJ;;;;;;;;AAXkB;;AAAA;;AAGA;;AAAA;;AAGV;;AAAA;;AACA;;AAAA;;AAEA;;AAAA;;;;;;;;;;UDdX2kB,gB;AASX,oCAAc;AAAA;;AAFJ,eAAA7nB,YAAA,GAAe,IAAI,0DAAJ,EAAf;AAYH,eAAA8nB,OAAA,GAAU,EAAV;AAVU;;;;iBAEjB,oBAAQ,CACP;;;iBAGD,sBAAU;AACR,iBAAK9nB,YAAL,CAAkBM,IAAlB;AACD;;;iBAGD,uBAAcyI,EAAd,EAAiBjI,EAAjB,EAAmB;AACnB,gBAAIkI,IAAI,GAAG,CAAX;AACA,gBAAIrI,CAAC,GAAG,CAAR;AACA,gBAAI2U,CAAC,GAAG,CAAR;;AACE,iBAAI,IAAI5T,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,KAAK0lB,cAAL,CAAoB1c,MAAlC,EAAyChJ,CAAC,EAA1C,EAA6C;AAC3Cf,eAAC;AACD2U,eAAC,GAAG,CAAJ;AACA,kBAAIyS,GAAG,GAAG,KAAKX,cAAL,CAAoB1lB,CAApB,EAAuBsY,QAAjC;;AACA,mBAAI,IAAItT,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACqhB,GAAG,CAACrd,MAAlB,EAAyBhE,CAAC,EAA1B,EAA6B;AAC3B4O,iBAAC;;AACD,oBAAG,KAAK8R,cAAL,CAAoB1lB,CAApB,EAAuBsY,QAAvB,CAAgCtT,CAAhC,EAAmCmC,QAAnC,IAA+CE,EAAlD,EAAqD;AACnDC,sBAAI,GAAGA,IAAI,GAAG,KAAKoe,cAAL,CAAoB1lB,CAApB,EAAuBsY,QAAvB,CAAgCtT,CAAhC,EAAmCzF,QAAjD,CADmD,CAEnD;AACD;;AACD,oBAAGN,CAAC,IAAI,KAAKymB,cAAL,CAAoB1c,MAAzB,IAAmC4K,CAAC,IAAIyS,GAAG,CAACrd,MAA/C,EAAsD;AACpD,sBAAG1B,IAAI,GAAG,CAAV,EAAY;AACV,2BAAOA,IAAI,CAACuT,OAAL,CAAa,CAAb,CAAP;AACD,mBAFD,MAEK;AACH,2BAAOvT,IAAP;AACD;AACF;AACF;AACF,aAtBgB,CAwBjB;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACD;;;;;;;yBAlEU6e,gB;AAAgB,O;;;cAAhBA,gB;AAAgB,oC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,iB;AAAA,e;AAAA,gM;AAAA;AAAA;ACP7B;;AACI;;AAA8B;AAAA,qBAAS,IAAA1P,UAAA,EAAT;AAAqB,aAArB;;AAAuB;;AACrD;;AACI;;AACI;;AACI;;AACI;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAU;;AACd;;AAAI;;AAAK;;AACb;;AACA;;AAaJ;;AACJ;;AACJ;;AACJ;;;;AA3BmB;;AAWC;;AAAA;;;;;;;;;wEDJP0P,gB,EAAgB;gBAL5B,uDAK4B;iBALlB;AACT7kB,oBAAQ,EAAE,aADD;AAETC,uBAAW,EAAE,0BAFJ;AAGTC,qBAAS,EAAE,CAAC,yBAAD;AAHF,W;AAKkB,U;;;AAElBokB,wBAAc;kBAAtB;AAAsB,Y;AACdH,iBAAO;kBAAf;AAAe,Y;AACPE,oBAAU;kBAAlB;AAAkB,Y;AACVD,wBAAc;kBAAtB;AAAsB,Y;AAEbpnB,sBAAY;kBAArB;AAAqB;;;;;;;;;;;;;;;;;;;AEdxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAoBagoB,a;;;;;cAAAA;;;;2BAAAA,a;AAAa,S;AAAA,kBALf,CACP,4DADO,EAEP,4EAFO,CAKe;;;;4HAAbA,a,EAAa;AAAA,yBANT,kEAMS,EANM,2EAMN,EANuB,4FAMvB,EAN2C,sFAM3C,EAN8D,8EAM9D,EANiF,iFAMjF,EANqG,sFAMrG;AANsH,oBAE5I,4DAF4I,EAG5I,4EAH4I;AAMtH,S;AAHF,O;;;;;wEAGXA,a,EAAa;gBAPzB,sDAOyB;iBAPhB;AACRhZ,wBAAY,EAAE,CAAC,kEAAD,EAAgB,2EAAhB,EAAiC,4FAAjC,EAAqD,sFAArD,EAAwE,8EAAxE,EAA2F,iFAA3F,EAA+G,sFAA/G,CADN;AAERC,mBAAO,EAAE,CACP,4DADO,EAEP,4EAFO;AAFD,W;AAOgB,U;;;;;;;;;;;;;;;;;;ACpB1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UA2BagZ,kB;;;;;cAAAA;;;;2BAAAA,kB;AAAkB,S;AAAA,kBATpB,CACP,kEADO,EAEP,4DAFO,EAGP,sFAHO,EAIP,0DAJO,EAKP,kEALO,EAMP,4DANO,CASoB;;;;4HAAlBA,kB,EAAkB;AAAA,yBAVd,kEAUc,EAVA,6EAUA,EAVuB,iFAUvB,EAV2C,2EAU3C,EAV6D,wFAU7D;AAViF,oBAE5G,kEAF4G,EAG5G,4DAH4G,EAI5G,sFAJ4G,EAK5G,0DAL4G,EAM5G,kEAN4G,EAO5G,4DAP4G;AAUjF,S;AAHf,O;;;;;wEAGHA,kB,EAAkB;gBAX9B,sDAW8B;iBAXrB;AACRjZ,wBAAY,EAAE,CAAC,kEAAD,EAAe,6EAAf,EAAsC,iFAAtC,EAA0D,2EAA1D,EAA4E,wFAA5E,CADN;AAERC,mBAAO,EAAE,CACP,kEADO,EAEP,4DAFO,EAGP,sFAHO,EAIP,0DAJO,EAKP,kEALO,EAMP,4DANO;AAFD,W;AAWqB,U;;;;;;;;;;;;;;;;;;AC3B/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACWgB;;AACI;;AAAiB;;AAAkD;;AACvE;;;;;;AADqB;;AAAA;;;;;;AAErB;;AACI;;AAAiB;;AAAiD;;AACtE;;;;;;AADqB;;AAAA;;;;;;AAWb;;AACI;;AAAI;;AAAgH;;AACpH;;AAAI;;AAAuG;;AAC/G;;;;;;;;AAFQ;;AAAA;;AACA;;AAAA;;;;;;;;AAnBpB;;AAEI;;AAGA;;AAGA;;AAAG;;AAAQ;;AAAI;;AACf;;AACI;;AACI;;AACI;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAQ;;AAChB;;AACJ;;AACA;;AACI;;AAIJ;;AACJ;;AAEJ;;AAAkC;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAiC;;AAAiB;;AAAS;;AAAC;;AAAiC;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAkC;;AAAkB;;AACnL;;AACA;;;;;;;;AAxBkB;;AAAA;;AAGA;;AAAA;;AAGC;;AAAA;;AASH;;AAAA,8FAAiE,SAAjE,EAAiE,mCAAjE;;;;;;;;;;UDjBfiZ,qB;AAMX,uCAAoBnoB,GAApB,EAAwC;AAAA;;AAApB,eAAAA,GAAA,GAAAA,GAAA;AAHV,eAAAC,YAAA,GAAe,IAAI,0DAAJ,EAAf;AACA,eAAAmoB,OAAA,GAAU,IAAI,0DAAJ,EAAV;AAEiC;;;;iBAI3C,oBAAQ;AACN,iBAAKC,gBAAL;AACD;;;iBAED,4BAAgB;AAAA;;AACd,iBAAKroB,GAAL,CAASsoB,cAAT,GACG5lB,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAAC4lB,SAAL,GAAiB5lB,IAAjB;AACD,aAHH;AAID;;;iBAED,mBAAO;AACL,iBAAK6lB,YAAL,GAAoB,IAApB,CADK,CAEL;AACD;;;iBAED,mBAAO;AACL,iBAAKA,YAAL,GAAoB,KAApB;AACA,iBAAKvoB,YAAL,CAAkBM,IAAlB;AACD;;;iBAED,iBAAQyI,EAAR,EAAc;AAAA;;AACZ,+DAAKnH,IAAL,CAAU;AACRC,mBAAK,EAAE,qBADC;AAERgB,kBAAI,EAAE,0BAFE;AAGRX,kBAAI,EAAE,SAHE;AAIRH,8BAAgB,EAAE,IAJV;AAKR4L,gCAAkB,EAAE,SALZ;AAMRC,+BAAiB,EAAE,MANX;AAOR5L,+BAAiB,EAAE,cAPX;AAQR6L,8BAAgB,EAAC;AART,aAAV,EASG1L,IATH,CASQ,UAACC,MAAD,EAAY;AAClB,kBAAIA,MAAM,CAACC,WAAX,EAAwB;AACtB,uBAAI,CAACtC,GAAL,CAASyoB,WAAT,CAAqBzf,EAArB,EACGtG,SADH,CACa,UAACC,IAAD,EAAY;AACrB,yBAAI,CAAC0lB,gBAAL;;AACA,yBAAI,CAACD,OAAL,CAAa7nB,IAAb;AACD,iBAJH;;AAKA,mEAAKsB,IAAL,CACF;AACEkB,mCAAiB,EAAC,KADpB;AAEEjB,uBAAK,EAAC,WAFR;AAGEgB,sBAAI,EAAC,2BAHP;AAIEX,sBAAI,EAAC;AAJP,iBADE;AASD;AACF,aA1BD;AA2BD;;;iBAED,kBAAS6G,EAAT,EAAe;AAAA;;AACb,+DAAKnH,IAAL,CAAU;AACZC,mBAAK,EAAE,sBADK;AAEZgB,kBAAI,EAAE,0BAFM;AAGZX,kBAAI,EAAE,SAHM;AAIZH,8BAAgB,EAAE,IAJN;AAKZ4L,gCAAkB,EAAE,SALR;AAMZC,+BAAiB,EAAE,MANP;AAOZ5L,+BAAiB,EAAE,eAPP;AAQZ6L,8BAAgB,EAAC;AARL,aAAV,EASD1L,IATC,CASI,UAACC,MAAD,EAAY;AAClB,kBAAIA,MAAM,CAACC,WAAX,EAAwB;AACtB,uBAAI,CAACtC,GAAL,CAAS0oB,WAAT,CAAqB1f,EAArB,EACGtG,SADH,CACa,UAACC,IAAD,EAAY;AACrB,yBAAI,CAAC0lB,gBAAL;;AACA,yBAAI,CAACD,OAAL,CAAa7nB,IAAb;AACD,iBAJH;;AAKA,mEAAKsB,IAAL,CACE;AACEkB,mCAAiB,EAAC,KADpB;AAEEjB,uBAAK,EAAC,YAFR;AAGEgB,sBAAI,EAAC,4BAHP;AAIEX,sBAAI,EAAC;AAJP,iBADF;AAQD;AACF,aAzBG;AA0BD;;;;;;;yBAxFUgmB,qB,EAAqB,iJ;AAAA,O;;;cAArBA,qB;AAAqB,yC;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA,S;AAAA,gB;AAAA,e;AAAA,iT;AAAA;AAAA;ACRlC;;AACI;;AAA8B;AAAA,qBAAS,IAAAvlB,OAAA,EAAT;AAAkB,aAAlB;;AAAoB;;AAClD;;AACI;;AACI;;AACI;;AACJ;;AACA;;AACA;;AA2BJ;;AACJ;;AACJ;;;;AArCmB;;AAQO;;AAAA;;;;;;;;;wEDAbulB,qB,EAAqB;gBALjC,uDAKiC;iBALvB;AACTllB,oBAAQ,EAAE,kBADD;AAETC,uBAAW,EAAE,+BAFJ;AAGTC,qBAAS,EAAE,CAAC,8BAAD;AAHF,W;AAKuB,U;;;;;AAEvBqlB,sBAAY;kBAApB;AAAoB,Y;AACXvoB,sBAAY;kBAArB;AAAqB,Y;AACZmoB,iBAAO;kBAAhB;AAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEVX;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAAmE;;AAAc;;;;;;;;AACnH;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAAoE;;AAAkB;;;;;;;;AACxH;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAA4G;;AAAgB;;;;;;;;AAC9J;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAAkE;;AAAa;;;;;;AAE7G;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;AAEJ;;AACI;;AACJ;;;;;;;;AANJ;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAA0D;;AACxF;;AAGA;;AAGA;;AAAC;;;;;;AANa;;AAAA;;AAGA;;AAAA;;;;;;AAKd;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;AAEJ;;AACI;;AACJ;;;;;;;;AAGA;;AACI;;AAA6C;AAAA;;AAAA;;AAAA;AAAA;;AACzC;;AAAM;;AAAU;;AAChB;;AACI;;AACJ;;AACJ;;AACJ;;;;;;AARJ;;AACI;;AAQJ;;;;;;AARkB;;AAAA;;;;;;AA8CU;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;AAHZ;;AACI;;AAAI;;AACA;;AAGA;;AAA8B;;AAC9B;;AAAI;;AAAuC;;AAC3C;;AAAI;;AAAkD;;AAC1D;;;;;;AAPI;;AAAA;;AACc;;AAAA;;AAGd;;AAAA;;AACI;;AAAA;;AACA;;AAAA;;;;;;;;AAjBpB;;AACI;;AAAqB;;AAA2B;;AAChD;;AAAG;;AAAQ;;AAAK;;AAChB;;AACI;;AACI;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAa;;AACjB;;AAAI;;AAAQ;;AAChB;;AACJ;;AACI;;AASA;;AACJ;;AACA;;AACA;;AAAkC;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAmE;;AAAS;;AAC9G;;AAAC;;AAAiC;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA6C;;AAAQ;;AACvF;;AACJ;;;;;;AAxByB;;AAAA;;AACL;;AAAA;;AAQR;;AAAA;;;;;;;;AA4BpB;;AAAkE;AAAA;;AAAA;;AAAA;AAAA;;AAAuB;;AAAS;;;;;;;;AAClG;;AAAmE;AAAA;;AAAA;;AAAA;AAAA;;AAAuB;;AAAQ;;;;;;;;AAElG;;AAA8D;AAAA;;AAAA;;AAAA;AAAA;;AAAwB;;AAAS;;;;;;;;AAC/F;;AAA+D;AAAA;;AAAA;;AAAA;AAAA;;AAAwB;;AAAQ;;;;;;AAGnG;;AACI;;AACI;;AACI;;AACI;;AAAW;;AACf;;AACJ;;AACJ;;AACJ;;;;;;AAoBgB;;AACI;;AAAI;;AAAqC;;AACzC;;AAAI;;AAAkB;;AACtB;;AAAI;;AAAgB;;AACpB;;AAAI;;AAAe;;AACvB;;;;;;AAJQ;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AALZ;;AACI;;AAMJ;;;;;;AANkB;;AAAA;;;;;;AARtB;;AACI;;AACI;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAc;;AAClB;;AAAI;;AAAoB;;AACxB;;AAAI;;AAAQ;;AAChB;;AACA;;AAQJ;;;;;;AARQ;;AAAA;;;;;;AAqBA;;AAAiC;;AAAS;;;;;;;;AAWzC;;AACO;;AAAsD;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAClD;;AAAM;;AAAS;;AACf;;AACI;;AACJ;;AACJ;;AACJ;;;;;;AAfJ;;AACI;;AAAI;;AAAkB;;AACtB;;AAAI;;AAAqC;;AACzC;;AAAI;;AAAkB;;AACtB;;AAAI;;AAAkB;;AACtB;;AAAI;;AAAgB;;AACpB;;AAAI;;AAAe;;AACnB;;AAAI;;AAAe;;AACtB;;AAQD;;;;;;;;AAfQ;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACH;;AAAA;;;;;;AATT;;AACI;;AAiBJ;;;;;;AAjBkB;;AAAA;;;;;;AAftB;;AACI;;AACI;;AAAQ;;AAAqB;;AAAS;;AAC1C;;AACA;;AACI;;AAAI;;AAAS;;AACb;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAc;;AAClB;;AAAI;;AAAO;;AACX;;AAAI;;AAAoB;;AACxB;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAI;;AACR;;AACJ;;AACA;;AAmBJ;;;;;;AA/B8C;;AAAA;;AAUlC;;AAAA;;AAEJ;;AAAA;;;;;;AAiCA;;AACI;;AAAI;;AAAqC;;AACzC;;AAAI;;AAAkB;;AACtB;;AAAI;;AAAgB;;AACpB;;AAAI;;AAAe;;AACvB;;;;;;AAJQ;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AALZ;;AACI;;AAMJ;;;;;;AANkB;;AAAA;;;;;;AARtB;;AACI;;AACI;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAc;;AAClB;;AAAI;;AAAoB;;AACxB;;AAAI;;AAAQ;;AAChB;;AACA;;AAQJ;;;;;;AARQ;;AAAA;;;;;;AAqBA;;AAAiC;;AAAS;;;;;;;;AAWtC;;AACI;;AAAsD;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAClD;;AAAM;;AAAS;;AACf;;AACI;;AACJ;;AACJ;;AACJ;;;;;;AAfJ;;AACI;;AAAI;;AAAkB;;AACtB;;AAAI;;AAAqC;;AACzC;;AAAI;;AAAkB;;AACtB;;AAAI;;AAAkB;;AACtB;;AAAI;;AAAgB;;AACpB;;AAAI;;AAAe;;AACnB;;AAAI;;AAAe;;AACnB;;AAQJ;;;;;;;;AAfQ;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AATZ;;AACI;;AAiBJ;;;;;;AAjBkB;;AAAA;;;;;;AAftB;;AACI;;AACI;;AAAQ;;AAAqB;;AAAS;;AAC1C;;AACA;;AACI;;AAAI;;AAAS;;AACb;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAc;;AAClB;;AAAI;;AAAO;;AACX;;AAAI;;AAAoB;;AACxB;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAI;;AACR;;AACJ;;AACA;;AAmBJ;;;;;;AA/B8C;;AAAA;;AAUlC;;AAAA;;AAEJ;;AAAA;;;;;;AA/FhB;;AACI;;AACI;;AACI;;AACJ;;AACA;;AACA;;AACI;;AACJ;;AACA;;AACA;;AAgBA;;AAkCA;;AACA;;AACI;;AACJ;;AACA;;AACA;;AAgBA;;AAkCJ;;AACJ;;;;;;AA1G0C;;AAAA;;AAgBA;;AAAA;;AAuCA;;AAAA;;AAgBA;;AAAA;;;;;;AA+ClB;;AAA4E;;AAAmB;;;;;;AAAvF;;AAAoE;;AAAA;;;;;;;;AAIxF;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAAuD;;AAAgB;;;;;;AAejG;;AAAiC;;AAAM;;;;;;;;AAQnC;;AACI;;AAAsD;AAAA;;AAAA;;AAAA;;AAAA,0GAAsE,UAAtE;AAAgF,WAAhF;;AAClD;;AAAM;;AAAQ;;AACd;;AACE;;AACF;;AACJ;;AACpC;;AAOgC;;;;;;AAlBR;;AACI;;AACI;;AAAI;;AAAqB;;AACzB;;AAAI;;AAAqB;;AACzB;;AAeJ;;AACJ;;;;;;;;AAlBY;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AAnB5B;;AACI;;AACI;;AACI;;AACJ;;AACA;;AACA;;AACI;;AACI;;AACI;;AAAI;;AAAa;;AACjB;;AAAI;;AAAQ;;AACZ;;AACJ;;AACJ;;AACA;;AACI;;AAqBJ;;AACJ;;AACJ;;AACJ;;;;;;AA5BwB;;AAAA;;AAIJ;;AAAA;;;;;;AAyCQ;;AACI;;AAAI;;AAAO;;AACX;;AAAI;;AAAO;;AACf;;;;;;AAUI;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;AAGJ;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;AAIJ;;AACI;;AAAI;;AAAoB;;AACxB;;AAAI;;AAAoB;;AAC5B;;;;;;AAFQ;;AAAA;;AACA;;AAAA;;;;;;AAdhB;;AACI;;AAAI;;AAEA;;AAIA;;AAGJ;;AACI;;AAAI;;AAAkB;;AACtB;;AAIJ;;AAAI;;AAA+E;;AACvF;;;;;;;;;;AAhBQ;;AAAA;;AAEc;;AAAA;;AAIA;;AAAA;;AAIV;;AAAA;;AACU;;AAAA;;AAId;;AAAA;;;;;;AAjBZ;;AACI;;AAkBJ;;;;;;;;AAlBkB;;AAAA;;;;;;AAhB1B;;AACA;;AACI;;AACI;;AACI;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAK;;AACL;;AAIJ;;AAAI;;AAAK;;AAEb;;AACJ;;AACA;;AACI;;AAoBJ;;AACJ;;AACJ;;;;;;;;AA/BkC;;AAAA;;AASlB;;AAAA;;;;;;AAuBZ;;AACI;;AACI;;AAA+C;;AACnD;;AACJ;;;;;;AAFuD;;AAAA;;;;;;AAc3C;;AACI;;AAAI;;AAAO;;AACX;;AAAI;;AAAO;;AACf;;;;;;AAGA;;AAAiC;;AAAM;;;;;;AAOnC;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;AAMJ;;AACI;;AAAI;;AAA6B;;AACjC;;AAAI;;AAA6B;;AACrC;;;;;;AAFQ;;AAAA;;AACA;;AAAA;;;;;;;;AAIR;;AAOhC;;AACoC;;AAAuD;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACnD;;AAAM;;AAAM;;AACZ;;AACI;;AACJ;;AACJ;;AACJ;;;;;;AA7BJ;;AACI;;AAAI;;AACJ;;AAEe;;AACf;;AAAI;;AAA2B;;AAC/B;;AAAI;;AAA2F;;AAC/F;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAiB;;AACrB;;AAIA;;AAAI;;AAAiC;;AACrC;;AAAI;;AAAqG;;AACzG;;AAeJ;;;;;;;;;;AA7BQ;;AAAA;;AACU;;AAAA;;AAGV;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACU;;AAAA;;AAIV;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AAhBZ;;AACI;;AA+BJ;;;;;;;;AA/BkB;;AAAA;;;;;;AApB1B;;AACA;;AACI;;AACI;;AACI;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAK;;AACT;;AAAI;;AAAY;;AAChB;;AAAI;;AAAM;;AACV;;AAAI;;AAAI;;AACR;;AAIA;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAK;;AACT;;AACJ;;AACJ;;AACA;;AACI;;AAiCJ;;AACJ;;AAGA;;;;;;;;AA/C0B;;AAAA;;AAMV;;AAAA;;AAIJ;;AAAA;;;;;;AA2CA;;AACA;;AAAI;;AAAK;;AACT;;;;;;AACA;;AACA;;AAAI;;AAAa;;AACjB;;;;;;AAMA;;AACI;;AAAI;;AAAO;;AACX;;AAAI;;AAAO;;AACf;;;;;;AAEA;;AAAiC;;AAAM;;;;;;AAO/B;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;AAGR;;AACI;;AAAI;;AAAkB;;AAC1B;;;;;;AADQ;;AAAA;;;;;;AAER;;AACI;;AAAI;;AAAkB;;AAC1B;;;;;;AADQ;;AAAA;;;;;;AAOR;;AACI;;AAAI;;AAAoB;;AACxB;;AAAI;;AAAoB;;AAC5B;;;;;;AAFQ;;AAAA;;AACA;;AAAA;;;;;;;;AAGR;;AAOpC;;AACwC;;AAAuD;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACnD;;AAAM;;AAAM;;AACZ;;AACI;;AACJ;;AACJ;;AACJ;;;;;;AApCJ;;AACI;;AAAI;;AACA;;AAGJ;;AACA;;AAGA;;AAGA;;AAAI;;AAAkB;;AACtB;;AAAI;;AAAgE;;AAIpE;;AAKA;;AAeJ;;;;;;;;;;AApCQ;;AAAA;;AACc;;AAAA;;AAIJ;;AAAA;;AAGA;;AAAA;;AAGV;;AAAA;;AACA;;AAAA;;AAIU;;AAAA;;AAKV;;AAAA;;;;;;AAvBZ;;AACI;;AAuCJ;;;;;;;;AAvCkB;;AAAA;;;;;;AAzB1B;;AACI;;AACI;;AACI;;AAAI;;AAAQ;;AACZ;;AAGA;;AAGA;;AAAI;;AAAK;;AACT;;AAAI;;AAAY;;AAIhB;;AAKA;;AACJ;;AACJ;;AACA;;AACI;;AAyCJ;;AACJ;;;;;;;;AA9D0B;;AAAA;;AAGA;;AAAA;;AAQA;;AAAA;;AAKV;;AAAA;;AAIJ;;AAAA;;;;;;AAxIxB;;AACI;;AACI;;AACI;;AACJ;;AACI;;AACA;;AAGA;;AAsCA;;AAOA;;AA0DA;;AAmER;;AACJ;;;;;;;;AAjLY;;AAAA;;AAMK;;AAAA;;AAsCA;;AAAA;;AAOA;;AAAA;;AA0D6B;;AAAA;;;;;;AAjH9C;;AACA;;AAqLA;;;;;;AArLoD;;AAAA;;;;;;AAsM5B;;AAAqE;;AAAkB;;;;;;AAA/E;;AAA6D;;AAAA;;;;;;AAazD;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;AAHZ;;AACI;;AAAiC;;AAC7B;;AAGJ;;AACJ;;;;;;AALY;;AAAA;;AAAyB;;AAAA;;AACf;;AAAA;;;;;;AAH1B;;AACI;;AAOJ;;;;;;;;AAPkB;;AAAA;;;;;;;;AA2CtC;;AAAkC;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA8C;;AAAM;;;;;;;;;;;;;;AAlElG;;AACA;;AACI;;AAA8B;AAAA;;AAAA;;AAAA;AAAA;;AAAyB;;AACvD;;AACI;;AACI;;AAAuB;;AAA0B;;AACjD;;AACI;;AACI;;AACI;;AAAqB;;AAAU;;AAC/B;;AACI;;AAAsB;AAAA;;AAAA;;AAAA;AAAA;;AAClB;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAS;;AAC9B;;AACI;;AAAqC;AAAA;;AAAA;;AAAA;AAAA,aAAqD,eAArD,EAAqD;AAAA;;AAAA;;AAAA;AAAA,WAArD;;AACjC;;AASJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AAAqB;;AAAM;;AAC3B;;AACI;;AAAiC;AAAA;;AAAA;;AAAA;AAAA;;AAAjC;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAI;;AACzB;;AACI;;AAAiC;AAAA;;AAAA;;AAAA;AAAA;;AAAjC;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAQ;;AAC7B;;AACI;;AAAiC;AAAA;;AAAA;;AAAA;AAAA;;AAAjC;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AAA4B;;AAAkB;;AAC9C;;AAAoC;AAAA;;AAAA;;AAAA;AAAA;;AAAwB;;AAChE;;AACA;;AACJ;;AACJ;;AACJ;;AACA;;;;;;AArEmB;;AAAA;;AAUmF;;AAAA;;AACnC;;AAAA;;AASoD;;AAAA;;AACzE;;AAAA;;AAmBe;;AAAA;;AAQA;;AAAA,8FAAoB,UAApB,EAAoB,iBAApB;;AAQA;;AAAA,kGAAwB,UAAxB,EAAwB,eAAxB;;AAOT;;AAAA;;AAEsB;;AAAA;;;;;;AAwB1C;;AAAkE;;AAAkB;;;;;;AAA5E;;AAA0D;;AAAA;;;;;;;;AActF;;AACI;;AACI;;AACI;;AAAqB;;AAA6C;;AAClE;;AACI;;AAA0E;AAAA;;AAAA;;AAAA;AAAA;;AAA1E;;AACJ;;AACJ;;AACJ;;AACA;;AACJ;;;;;;AAPiC;;AAAA;;AAEyD;;AAAA;;;;;;;;AAM1F;;AACI;;AACI;;AACI;;AACI;;AACI;;AAA0D;AAAA;;AAAA;;AAAA;AAAA;;AAA1D;;AACA;;AAAQ;;AAAK;;AAAS;;AACtB;;AAAwD;AAAA;;AAAA;;AAAA;AAAA;;AAAxD;;AACA;;AAAQ;;AAAI;;AAAS;;AACrB;;AAA8D;AAAA;;AAAA;;AAAA;AAAA;;AAA9D;;AACA;;AAAQ;;AAAO;;AAAS;;AAC5B;;AACA;;AACI;;AAAgE;AAAA;;AAAA;;AAAA;AAAA;;AAAhE;;AACA;;AAAQ;;AAAQ;;AAAS;;AACzB;;AAA8D;AAAA;;AAAA;;AAAA;AAAA;;AAA9D;;AACA;;AAAQ;;AAAO;;AAAS;;AAC5B;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AAAqB;;AAAM;;AAC/B;;AACA;;AACI;;AAA0D;AAAA;;AAAA;;AAAA;AAAA;;AAA1D;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;AAL8E;;AAAA;;;;;;;;AAM9E;;AACI;;AACA;;AACI;;AACI;;AACI;;AAAqB;;AAAK;;AAC1B;;AACI;;AAAmC;AAAA;;AAAA;;AAAA;AAAA;;AAAnC;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAK;;AAC1B;;AACI;;AAAmC;AAAA;;AAAA;;AAAA;AAAA;;AAAnC;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAO;;AAC5B;;AACI;;AAAmC;AAAA;;AAAA;;AAAA;AAAA;;AAAnC;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAO;;AAC5B;;AACI;;AAAmC;AAAA;;AAAA;;AAAA;AAAA;;AAAnC;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACJ;;;;;;AA9BuD;;AAAA;;AAQA;;AAAA;;AAQA;;AAAA;;AAQA;;AAAA;;;;;;;;AAuFnD;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAAiD;;AAAM;;;;;;;;AA/LzG;;AAEA;;AACI;;AAA8B;AAAA;;AAAA;;AAAA;AAAA;;AAA6B;;AAC3D;;AACI;;AACI;;AAAuB;;AAAe;;AACtC;;AACA;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACA;;AACI;;AAAQ;AAAA;;AAAA;;AAAA;AAAA,aAA+C,eAA/C,EAA+C;AAAA;;AAAA;;AAAA;AAAA,WAA/C;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AASJ;;AACA;;AAWA;;AAgCA;;AAsCI;;AACI;;AACI;;AACI;;AAAqB;;AAAQ;;AAC7B;;AACI;;AAAiC;AAAA;;AAAA;;AAAA;AAAA;;AAAjC;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAK;;AAC1B;;AACI;;AAAiC;AAAA;;AAAA;;AAAA;AAAA;;AAAjC;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAY;;AACjC;;AACI;;AAAiC;AAAA;;AAAA;;AAAA;AAAA;;AAAjC;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AACE;;AACE;;AAAsB;AAAA;;AAAA;;AAAA;AAAA;;AAClB;;AAAmB;;AAAG;;AACtB;;AAAoB;;AAAI;;AACxB;;AAAkB;;AAAE;;AACxB;;AACF;;AACF;;AACA;;AACE;;AAA+D;AAAA;;AAAA;;AAAA;AAAA;;AAA/D;;AACF;;AACF;;AAON;;AA0BJ;;AACA;;AACI;;AAA4B;;AAAkB;;AAC9C;;AAAmD;AAAA;;AAAA;;AAAA;AAAA;;AAAyB;;AAEhF;;AACA;;AACJ;;AACJ;;AACJ;;AACJ;;AAEA;;;;;;AAnMmB;;AAAA;;AAa+E;;AAAA;;AAClC;;AAAA;;AAc/B;;AAAA;;AAWF;;AAAA;;AAgCG;;AAAA;;AA2C+B;;AAAA;;AAQA;;AAAA;;AAQA;;AAAA;;AAUX;;AAAA;;AAQuC;;AAAA;;AAsCtB;;AAAA;;AAGS;;AAAA;;;;;;AAqBhD;;AAAqE;;AAAkB;;;;;;AAA/E;;AAA6D;;AAAA;;;;;;AAaR;;AAAqC;;AAAyC;;;;;;AAAzC;;AAAA;;;;;;AAA4E;;AAAuC;;AAAgE;;;;;;AAAhE;;AAAA;;;;;;AACzM;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;AAHZ;;AACI;;AAAiC;;AAAoB;;AAA8F;;AAAmB;;AAAsH;;AACxR;;AAGJ;;AACJ;;;;;;AALY;;AAAA;;AAAyB;;AAAA;;AAAkC;;AAAA;;AAAgF;;AAAA;;AAAiC;;AAAA;;AAClK;;AAAA;;;;;;AAH1B;;AACI;;AAOJ;;;;;;;;AAPkB;;AAAA;;;;;;;;AAatC;;AACI;;AACI;;AACI;;AAAqB;;AAAM;;AAC3B;;AACI;;AAAiC;AAAA;;AAAA;;AAAA;AAAA;;AAAjC;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAI;;AACzB;;AACI;;AAAiC;AAAA;;AAAA;;AAAA;AAAA;;AAAjC;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAQ;;AAC7B;;AACI;;AAAiC;AAAA;;AAAA;;AAAA;AAAA;;AAAjC;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;AApBiD;;AAAA;;AAQA;;AAAA,4FAAkB,UAAlB,EAAkB,eAAlB;;AAQA;;AAAA,gGAAsB,UAAtB,EAAsB,aAAtB;;;;;;AA4B7B;;AAAkE;;AAAkB;;;;;;AAA5E;;AAA0D;;AAAA;;;;;;AAMlF;;AACI;;AACI;;AAAqB;;AAAsB;;AAC3C;;AACI;;AACJ;;AACJ;;AACJ;;;;;;AAEJ;;AACI;;AACI;;AACI;;AAAqB;;AAAwB;;AAC7C;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AACJ;;;;;;;;AACA;;AACI;;AACI;;AACI;;AACI;;AACI;;AAA0D;AAAA;;AAAA;;AAAA;AAAA;;AAA1D;;AACA;;AAAQ;;AAAK;;AAAS;;AACtB;;AAAwD;AAAA;;AAAA;;AAAA;AAAA;;AAAxD;;AACA;;AAAQ;;AAAI;;AAAS;;AACrB;;AAA8D;AAAA;;AAAA;;AAAA;AAAA;;AAA9D;;AACA;;AAAQ;;AAAO;;AAAS;;AAC5B;;AACA;;AACI;;AAAgE;AAAA;;AAAA;;AAAA;AAAA;;AAAhE;;AACA;;AAAQ;;AAAQ;;AAAS;;AACzB;;AAA8D;AAAA;;AAAA;;AAAA;AAAA;;AAA9D;;AACA;;AAAQ;;AAAO;;AAAS;;AAC5B;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AAAqB;;AAAM;;AAC/B;;AACA;;AACI;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;AACA;;AACI;;AACA;;AACI;;AACI;;AACI;;AAAqB;;AAAK;;AAC1B;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAK;;AAC1B;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAO;;AAC5B;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAO;;AAC5B;;AACI;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACJ;;;;;;AA+FgB;;AACI;;AAAI;;AAAkB;;AACtB;;AAAI;;AAAmB;;AACvB;;AAAI;;AAAkB;;AACtB;;AAAI;;AAAgB;;AACpB;;AAAI;;AAAe;;AACvB;;;;;;AALQ;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AAyBR;;AAAoH;;AAAkB;;;;;;AAA9H;;AAA4G;;AAAA;;;;;;AAUxH;;AAAuE;;AAAmB;;;;;;AAAlF;;AAA+D;;AAAA;;;;;;AAQvE;;AAAsE;;AAAmB;;;;;;AAAjF;;AAA8D;;AAAA;;;;;;AAQlE;;AAA8D;;AAAe;;;;;;AAArE;;AAAsD;;AAAA;;;;;;AAmDlE;;AAEI;;AAAiC;;AAAoK;;AACzM;;;;;;AADY;;AAAA;;AAAyB;;AAAA;;;;UC5lChD5P,a;AAkJX,+BAAoBlV,EAApB,EACoBtD,GADpB,EACwC;AAAA;;AADpB,eAAAsD,EAAA,GAAAA,EAAA;AACA,eAAAtD,GAAA,GAAAA,GAAA;AAjJpB,eAAA2oB,QAAA,GAAU,iBAAV;AAEO,eAAAC,QAAA,GAAmB,IAAnB;AACA,eAAAC,SAAA,GAAoB,KAApB;AAEA,eAAAnlB,cAAA,GAAyB,KAAzB;AAIA,eAAAolB,IAAA,GAAM,CAAN;AACA,eAAAC,OAAA,GAAU,GAAV;AACA,eAAAC,KAAA,GAAO,CAAP;AACA,eAAAC,KAAA,GAAO,CAAP;AACA,eAAAC,KAAA,GAAQ,CAAR;AAEA,eAAAC,KAAA,GAAO,CAAP;AACA,eAAAC,QAAA,GAAW,GAAX;AACA,eAAAC,MAAA,GAAQ,CAAR;AACA,eAAAC,MAAA,GAAQ,CAAR;AACA,eAAAC,MAAA,GAAS,CAAT;AAEP,eAAAC,KAAA,GAAgB,IAAhB;AAEO,eAAAC,IAAA,GAAe,IAAf;AAGA,eAAAC,UAAA,GAAqB,KAArB;AACA,eAAAC,OAAA,GAAkB,KAAlB;AACA,eAAAC,SAAA,GAAoB,KAApB;AAMA,eAAAC,gBAAA,GAA2B,KAA3B;AAGA,eAAAC,YAAA,GAAuB,KAAvB;AAKA,eAAArmB,qBAAA,GAAgC,KAAhC;AACA,eAAAsmB,eAAA,GAA0B,KAA1B;AACA,eAAAC,eAAA,GAA0B,KAA1B;AAEA,eAAAC,UAAA,GAAa,EAAb;AAKA,eAAAC,WAAA,GAAsB,KAAtB;AACA,eAAAC,iBAAA,GAA4B,KAA5B;AAEA,eAAAC,OAAA,GAAkB,KAAlB;AAMA,eAAA1R,OAAA,GAAkB,IAAlB;AAEA,eAAA2R,OAAA,GAAkB,KAAlB;AACA,eAAAC,WAAA,GAAsB,KAAtB;AAIP,eAAAC,QAAA,GAAW,EAAX;AACA,eAAAC,MAAA,GAAS,EAAT;AACA,eAAAC,UAAA,GAAa,EAAb;AAEA,eAAAxlB,MAAA,GAAS,EAAT;AACA,eAAAkV,IAAA,GAAO,EAAP;AACA,eAAAjZ,QAAA,GAAW,EAAX;AAEO,eAAAwpB,SAAA,GAAoB,KAApB;AACA,eAAAC,KAAA,GAAgB,KAAhB;AAEP,eAAAC,UAAA,GAAqB,KAArB;AACA,eAAApC,YAAA,GAAuB,KAAvB;AAIO,eAAAqC,WAAA,GAAsB,IAAtB;AACA,eAAAC,qBAAA,GAAgC,KAAhC;AAEA,eAAAlK,OAAA,GAAU,CACf;AACE9X,oBAAQ,EAAC,IADX;AAEErD,iBAAK,EAAC,IAFR;AAGEC,mBAAO,EAAC,IAHV;AAIEC,mBAAO,EAAC,IAJV;AAKEkb,iBAAK,EAAC,IALR;AAME3b,iBAAK,EAAC,IANR;AAOE4b,wBAAY,EAAC,IAPf;AAQEC,gBAAI,EAAC,IARP;AASEzE,kBAAM,EAAC,IATT;AAUE7R,iBAAK,EAAC,IAVR;AAWEG,iBAAK,EAAC;AAXR,WADe,CAAV;AAgBA,eAAAmgB,QAAA,GAAW,EAAX;AAEA,eAAAC,IAAA,GAAe,KAAf;AAGA,eAAA5J,UAAA,GAAa,EAAb;AAGA,eAAA6J,QAAA,GAAW,IAAX;AAGP,eAAAC,cAAA,GAA2B,KAAK5nB,EAAL,CAAQwC,KAAR,CAAc;AACvC2E,iBAAK,EAAC,CAAC,EAAD,CADiC;AAEvCG,iBAAK,EAAC,CAAC,EAAD,CAFiC;AAGvCjF,mBAAO,EAAC,CAAC,EAAD,CAH+B;AAIvCD,mBAAO,EAAC,CAAC,EAAD,CAJ+B;AAKvCzE,oBAAQ,EAAC,CAAC,EAAD,EAAK,0DAAW8E,QAAhB,CAL8B;AAMvCN,iBAAK,EAAC,CAAC,EAAD,EAAI,0DAAWM,QAAf,CANiC;AAOvC+a,wBAAY,EAAC,CAAC,EAAD,EAAK,0DAAW/a,QAAhB,CAP0B;AAQvCuW,kBAAM,EAAC,CAAC,EAAD,EAAI,0DAAWvW,QAAf,CARgC;AASvCgb,gBAAI,EAAC,CAAC,EAAD,EAAK,0DAAWhb,QAAhB,CATkC;AAUvC0X,iBAAK,EAAC,CAAC,OAAD,EAAS,0DAAW1X,QAApB,CAViC;AAWvCmX,iBAAK,EAAC,CAAC,EAAD,CAXiC;AAYvC;AACA;AACA;AACAiO,sBAAU,EAAC,CAAC,EAAD;AAf4B,WAAd,CAA3B;AAkBA,eAAAC,UAAA,GAAuB,KAAK9nB,EAAL,CAAQwC,KAAR,CAAc;AACnCulB,mBAAO,EAAC,CAAC,EAAD,EAAK,0DAAWtlB,QAAhB,CAD2B;AAEnC+C,oBAAQ,EAAC,CAAC,EAAD,EAAK,0DAAW/C,QAAhB,CAF0B;AAGnCN,iBAAK,EAAC,CAAC,EAAD,EAAK,0DAAWM,QAAhB,CAH6B;AAInCJ,mBAAO,EAAC,CAAC,EAAD,EAAK,0DAAWI,QAAhB,CAJ2B;AAKnCL,mBAAO,EAAC,CAAC,EAAD,EAAK,0DAAWK,QAAhB,CAL2B;AAMnC0E,iBAAK,EAAC,CAAC,EAAD,EAAK,0DAAW1E,QAAhB,CAN6B;AAOnCulB,gBAAI,EAAC,CAAC,EAAD,EAAK,0DAAWvlB,QAAhB,CAP8B;AAQnCoU,gBAAI,EAAC,CAAC,EAAD,EAAK,0DAAWpU,QAAhB,CAR8B;AASnCwlB,wBAAY,EAAC,CAAC,EAAD,EAAI,0DAAWxlB,QAAf;AATsB,WAAd,CAAvB;AAiNO,eAAAylB,WAAA,GAAc,EAAd;AACA,eAAAC,mCAAA,GAAsC,EAAtC;AAoCA,eAAAC,SAAA,GAAY,EAAZ;AAgBA,eAAAC,UAAA,GAAa,EAAb;AAgBA,eAAAC,OAAA,GAAU,EAAV;AA0LA,eAAAC,SAAA,GAAY,EAAZ;AACA,eAAAC,UAAA,GAAa,EAAb;AAkTA,eAAAC,mBAAA,GAAsB,EAAtB;AACA,eAAAC,gBAAA,GAAmB,EAAnB;AA2DA,eAAAC,YAAA,GAAe,EAAf;AA8BA,eAAAC,GAAA,GAAM,CAAN;AACA,eAAAC,GAAA,GAAM,CAAN;AA/0BO,eAAKlmB,OAAL,GAAejG,GAAG,CAACiG,OAAnB;AACD;;;;iBAGb,oBAAQ;AACN,iBAAKkb,aAAL;AACA,iBAAKiL,cAAL;AACA,iBAAKjmB,qBAAL,GAHM,CAIN;;AACA,iBAAKkmB,YAAL;AACA,iBAAK7K,oBAAL;AACA,iBAAK8K,EAAL,GAA6B9lB,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAqCC,KAAlE;AACA,iBAAK6lB,mBAAL;AACA,iBAAKC,UAAL;AACA,iBAAKnX,UAAL;AACA,iBAAKgT,gBAAL;AACA,iBAAKoE,aAAL;AACD;;;iBAMD,4BAAmBzjB,EAAnB,EAAqB;AAAA;;AACnB,+DAAKnH,IAAL,CAAU;AACRC,mBAAK,EAAC,UADE;AAERgB,kBAAI,EAAC,mGAFG;AAGRX,kBAAI,EAAC,SAHG;AAIRH,8BAAgB,EAAC,IAJT;AAKRe,+BAAiB,EAAC,IALV;AAMRd,+BAAiB,EAAC,2BANV;AAOR6L,8BAAgB,EAAC,gCAPT;AAQRF,gCAAkB,EAAE,SARZ;AASRC,+BAAiB,EAAE;AATX,aAAV,EAUGzL,IAVH,CAUQ,UAACC,MAAD,EAAY;AAClB,kBAAIA,MAAM,CAACC,WAAX,EAAwB;AACtB;AAEA,uBAAI,CAACtC,GAAL,CAAS0sB,gBAAT,CAA0B1jB,EAA1B,EACGtG,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qEAAKd,IAAL,CACE;AACEC,yBAAK,EAAC,YADR;AAEEgB,wBAAI,EAAC,oEAFP;AAGEX,wBAAI,EAAC,SAHP;AAIEY,qCAAiB,EAAC;AAJpB,mBADF;;AAOE,yBAAI,CAAC0pB,aAAL;;AACA,yBAAI,CAACE,gBAAL;;AACA,yBAAI,CAACP,cAAL;AACH,iBAZH;AAaD;AACF,aA5BD;AA8BD;;;iBAED,uBAAW;AACT,gBAAG,KAAKnB,QAAR,EAAiB;AACf,mBAAKA,QAAL,GAAgB,KAAhB;AACD,aAFD,MAEK;AACH,mBAAKA,QAAL,GAAgB,IAAhB;AACD;AACF;;;iBAED,6BAAoBhiB,IAApB,EAA0BD,EAA1B,EAA4B;AAAA;;AAE1B,+DAAKnH,IAAL,CAAU;AACRC,mBAAK,EAAC,UADE;AAERgB,kBAAI,EAAC,gEAFG;AAGRX,kBAAI,EAAC,SAHG;AAIRH,8BAAgB,EAAC,IAJT;AAKRe,+BAAiB,EAAC,IALV;AAMRd,+BAAiB,EAAC,YANV;AAOR6L,8BAAgB,EAAC,UAPT;AAQRF,gCAAkB,EAAE,SARZ;AASRC,+BAAiB,EAAE;AATX,aAAV,EAUGzL,IAVH,CAUQ,UAACC,MAAD,EAAY;AAClB,kBAAIA,MAAM,CAACC,WAAX,EAAwB;AAEtB;AACA;AAEA,uBAAI,CAACtC,GAAL,CAAS4sB,aAAT,CAAuB5jB,EAAvB,EAA0BC,IAA1B,EACGvG,SADH,CACa,UAACC,IAAD,EAAY;AAErB,qEAAKd,IAAL,CACE;AACEC,yBAAK,EAAC,aADR;AAEEgB,wBAAI,EAAC,sCAFP;AAGEX,wBAAI,EAAC,SAHP;AAIEY,qCAAiB,EAAC;AAJpB,mBADF;;AAQE,yBAAI,CAAC0pB,aAAL;;AACA,yBAAI,CAACE,gBAAL;;AACA,yBAAI,CAACP,cAAL;AACH,iBAdH;AAeD;AACF,aAhCD;AAkCD;;;iBAED,yBAAa;AAAA;;AACX,iBAAKpsB,GAAL,CAASysB,aAAT,GACG/pB,SADH,CACa,UAACC,IAAD,EAAc;AACvB,qBAAI,CAACkqB,YAAL,GAAoBlqB,IAApB;AACD,aAHH;AAID;;;iBAGD,sBAAU;AAAA;;AACR,iBAAK3C,GAAL,CAAS2V,QAAT,GACCjT,SADD,CACY,UAACC,IAAD,EAAc;AACxB,qBAAI,CAACnC,KAAL,GAAamC,IAAb;AACD,aAHD;AAKD;;;iBAED,4BAAgB;AAAA;;AACd,iBAAK3C,GAAL,CAASsoB,cAAT,GACG5lB,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAAC4lB,SAAL,GAAiB5lB,IAAjB;AACD,aAHH;AAID;;;iBAGD,uBAAW;AACT,iBAAK6lB,YAAL,GAAoB,IAApB;AACD;;;iBAED,qBAAS,CACP;AACD;;;iBAED,4BAAmB9mB,CAAnB,EAAoB;AAClB,iBAAKqgB,SAAL,CAAe/gB,IAAf,CAAoBU,CAApB;AACD;;;iBAID,wBAAY;AAAA;;AACV,iBAAK1B,GAAL,CAAS8sB,yBAAT,GACGpqB,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACof,SAAL,GAAiBpf,IAAjB,CADqB,CAErB;AACD,aAJH;AAKD;;;iBAED,sBAAajB,CAAb,EAAc;AACZ,gBAAGA,CAAC,IAAI,SAAR,EAAkB;AAChB,mBAAKwpB,cAAL,CAAoB3hB,GAApB,CAAwB,OAAxB,EAAiCC,QAAjC,CAA0C9H,CAA1C;AACmB8E,sBAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAkCC,KAAlC,GAA0ChF,CAA1C;AACpB,aAHD,MAGK;AACgB8E,sBAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAkCC,KAAlC,GAA0C,EAA1C;AACAF,sBAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAkCiB,QAAlC,GAA6C,KAA7C;AACpB;AACF;;;iBAED,4BAAgB;AACd,gBAAG,KAAKsjB,IAAR,EAAa;AACX,mBAAKA,IAAL,GAAY,KAAZ;AACD,aAFD,MAEK;AACH,mBAAKA,IAAL,GAAY,IAAZ;AACD;AACF;;;iBAED,4BAAgB;AACd,gBAAG,KAAKF,qBAAR,EAA8B;AAC5B,mBAAKA,qBAAL,GAA6B,KAA7B;AACD,aAFD,MAEK;AACH,mBAAKA,qBAAL,GAA6B,IAA7B;AACD;AACF;;;iBAED,4BAAgB;AACd,gBAAG,KAAKF,UAAR,EAAmB;AACjB,mBAAKA,UAAL,GAAkB,KAAlB;AACD,aAFD,MAEK;AACH,mBAAKA,UAAL,GAAkB,IAAlB;AACD;AACF;;;iBAED,qBAAYmC,OAAZ,EAAmB;AAEjB,gBAAIC,UAAU,GAAG,KAAK5L,UAAL,CAAgBzgB,IAAhB,CAAqB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACkI,QAAF,CAAW5D,KAAX,CAAiBF,MAAjB,KAA4B+nB,OAAhC;AAAA,aAAtB,CAAjB;;AAEA,gBAAGC,UAAH,EAAc;AACZ,qBAAO,IAAP;AACD,aAFD,MAEK;AACH,qBAAO,KAAP;AACD;AAEF;;;iBAID,2BAAe;AAAA;;AACb,gBAAIpsB,CAAC,GAAG,CAAR;AACA,gBAAIqsB,SAAS,GAAG,KAAK1L,OAAL,CAAa/Q,MAAb,CAAoB,UAAA5P,CAAC;AAAA,qBAAIA,CAAC,CAACsE,KAAF,CAAQF,MAAR,IAAkB,UAAtB;AAAA,aAArB,CAAhB;;AAFa,yCAGLrD,CAHK;AAIX,kBAAI6D,QAAQ,GAAG,OAAI,CAACgmB,WAAL,CAAiB7qB,IAAjB,CAAsB,UAAAC,CAAC;AAAA,uBAAGA,CAAC,IAAIqsB,SAAS,CAACtrB,CAAD,CAAT,CAAaqD,MAArB;AAAA,eAAvB,CAAf;;AACApE,eAAC;;AACD,kBAAG,CAAC4E,QAAJ,EAAa;AACX,uBAAI,CAACgmB,WAAL,CAAiBxqB,IAAjB,CAAsB;AAACksB,uBAAK,YAAID,SAAS,CAACtrB,CAAD,CAAT,CAAaqD,MAAjB,eAA4BioB,SAAS,CAACtrB,CAAD,CAAT,CAAa8D,KAAzC,MAAN;AAAwD4J,wBAAM,YAAI4d,SAAS,CAACtrB,CAAD,CAAT,CAAaqD,MAAjB;AAA9D,iBAAtB;AACD;;AACD,kBAAGpE,CAAC,IAAIqsB,SAAS,CAACtiB,MAAlB,EACA;AACE,oBAAIwiB,aAAJ;AACAA,6BAAa,GAAG,OAAI,CAAC3B,WAArB;;AAEA,oBAAI4B,mBAAmB,sBAClB,IAAIplB,GAAJ,CAAQ,OAAI,CAACwjB,WAAL,CAAiB3jB,GAAjB,CAAqB,UAACwlB,IAAD;AAAA,yBAAU,CAACA,IAAI,CAAC,OAAD,CAAL,EAAgBA,IAAhB,CAAV;AAAA,iBAArB,CAAR,EAA+DplB,MAA/D,EADkB,CAAvB;;AAIA,oBAAIqlB,iBAAiB,GAAGH,aAAa,CAACtlB,GAAd,CAAkB,UAACwlB,IAAD;AAAA,yBAAU,CAACA,IAAI,CAAC,OAAD,CAAL,EAAgBA,IAAhB,CAAV;AAAA,iBAAlB,CAAxB;AAEA,oBAAIE,uBAAuB,GAAG,IAAIvlB,GAAJ,CAAQslB,iBAAR,CAA9B;AAEA,oBAAIE,4BAA4B,GAAGD,uBAAuB,CAAC5N,IAAxB,EAAnC;AACA,oBAAI8N,8BAA8B,GAAGF,uBAAuB,CAACtlB,MAAxB,EAArC;AACA,uBAAI,CAACwjB,mCAAL,sBACKgC,8BADL,EAdF,CAkBE;AACA;AAED;AA/BU;;AAGb,iBAAI,IAAI9rB,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACsrB,SAAS,CAACtiB,MAAzB,EAAiChJ,CAAC,EAAlC,EAAqC;AAAA,qBAA7BA,CAA6B;AA6BpC;AACF;;;iBAGD,uBAAcD,CAAd,EAAe;AAAA;;AACb,gBAAIoH,QAAQ,GAAsBtC,QAAQ,CAACC,cAAT,CAAwB,uBAAxB,EAAkDC,KAApF;AACA,gBAAIgnB,QAAQ,GAAG5kB,QAAQ,CAACiN,KAAT,CAAe,GAAf,CAAf;AACA,gBAAI4X,EAAE,GAAGD,QAAQ,CAAC,CAAD,CAAjB;AACA,gBAAIjoB,KAAK,GAAGioB,QAAQ,CAAC,CAAD,CAAR,CAAY3X,KAAZ,CAAkB,GAAlB,CAAZ;AACA,gBAAIkX,SAAS,GAAG,KAAK1L,OAAL,CAAa/Q,MAAb,CAAoB,UAAA5P,CAAC;AAAA,qBAAGA,CAAC,CAACoE,MAAF,IAAY2oB,EAAZ,IAAkB/sB,CAAC,CAAC6E,KAAF,IAAWA,KAAK,CAAC,CAAD,CAAL,CAASmoB,KAAT,CAAe,CAAf,EAAiB,CAAC,CAAlB,CAA7B,IAAqDhtB,CAAC,CAAC+E,OAAF,IAAajE,CAArE;AAAA,aAArB,CAAhB,CALa,CAMb;;AANa,yCAOLC,CAPK;AAQX,kBAAI+D,OAAO,GAAG,OAAI,CAACgmB,SAAL,CAAe/qB,IAAf,CAAoB,UAAAC,CAAC;AAAA,uBAAGA,CAAC,CAAC8E,OAAF,IAAaunB,SAAS,CAACtrB,CAAD,CAAT,CAAa+D,OAA7B;AAAA,eAArB,CAAd;;AACA,kBAAG,CAACA,OAAJ,EAAY;AACV,uBAAI,CAACgmB,SAAL,CAAe1qB,IAAf,CAAoBisB,SAAS,CAACtrB,CAAD,CAA7B;AACC;AAXQ;;AAOb,iBAAI,IAAIA,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACsrB,SAAS,CAACtiB,MAAzB,EAAiChJ,CAAC,EAAlC,EAAqC;AAAA,qBAA7BA,CAA6B;AAKpC;AACF;;;iBAGD,uBAAcD,CAAd,EAAsB;AAAA;;AACpB,gBAAIgsB,QAAQ,GAAGhsB,CAAC,CAACqU,KAAF,CAAQ,GAAR,CAAf;AACA,gBAAI4X,EAAE,GAAGD,QAAQ,CAAC,CAAD,CAAjB;AACA,gBAAIjoB,KAAK,GAAGioB,QAAQ,CAAC,CAAD,CAAR,CAAY3X,KAAZ,CAAkB,GAAlB,CAAZ;AACA,iBAAK4V,UAAL,GAAkB,EAAlB;AACA,gBAAIsB,SAAS,GAAG,KAAK1L,OAAL,CAAa/Q,MAAb,CAAoB,UAAA5P,CAAC;AAAA,qBAAIA,CAAC,CAACoE,MAAF,IAAY2oB,EAAZ,IAAkB/sB,CAAC,CAAC6E,KAAF,IAAWA,KAAK,CAAC,CAAD,CAAL,CAASmoB,KAAT,CAAe,CAAf,EAAiB,CAAC,CAAlB,CAAjC;AAAA,aAArB,CAAhB;;AALoB,yCAMZjsB,CANY;AAOlB,kBAAIgE,OAAO,GAAG,OAAI,CAACgmB,UAAL,CAAgBhrB,IAAhB,CAAqB,UAAAC,CAAC;AAAA,uBAAGA,CAAC,CAAC+E,OAAF,IAAasnB,SAAS,CAACtrB,CAAD,CAAT,CAAagE,OAA7B;AAAA,eAAtB,CAAd;;AACA,kBAAG,CAACA,OAAJ,EAAY;AACV,uBAAI,CAACgmB,UAAL,CAAgB3qB,IAAhB,CAAqBisB,SAAS,CAACtrB,CAAD,CAA9B;AACC;AAVe;;AAMpB,iBAAI,IAAIA,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACsrB,SAAS,CAACtiB,MAAzB,EAAiChJ,CAAC,EAAlC,EAAqC;AAAA,qBAA7BA,CAA6B;AAKpC,aAXmB,CAYpB;;AACD;;;iBAGD,qBAAYD,CAAZ,EAAa;AAAA;;AACX,gBAAIoH,QAAQ,GAAsBtC,QAAQ,CAACC,cAAT,CAAwB,uBAAxB,EAAkDC,KAApF;AACA,gBAAIgnB,QAAQ,GAAG5kB,QAAQ,CAACiN,KAAT,CAAe,GAAf,CAAf;AACA,gBAAI4X,EAAE,GAAGD,QAAQ,CAAC,CAAD,CAAjB;AACA,gBAAIjoB,KAAK,GAAGioB,QAAQ,CAAC,CAAD,CAAR,CAAY3X,KAAZ,CAAkB,GAAlB,CAAZ;AACA,gBAAIpQ,OAAO,GAAsBa,QAAQ,CAACC,cAAT,CAAwB,sBAAxB,EAAiDC,KAAlF;AACA,iBAAKklB,OAAL,GAAe,EAAf;AACA,gBAAIqB,SAAS,GAAG,KAAK1L,OAAL,CAAa/Q,MAAb,CAAoB,UAAA5P,CAAC;AAAA,qBAAIA,CAAC,CAAC8E,OAAF,IAAahE,CAAb,IAAkBd,CAAC,CAACoE,MAAF,IAAY2oB,EAA9B,IAAoC/sB,CAAC,CAAC6E,KAAF,IAAWA,KAAK,CAAC,CAAD,CAAL,CAASmoB,KAAT,CAAe,CAAf,EAAiB,CAAC,CAAlB,CAA/C,IAAuEhtB,CAAC,CAAC+E,OAAF,IAAaA,OAAxF;AAAA,aAArB,CAAhB;;AAPW,yCAQHhE,CARG;AAST,kBAAI8I,KAAK,GAAG,OAAI,CAACmhB,OAAL,CAAajrB,IAAb,CAAkB,UAAAC,CAAC;AAAA,uBAAGA,CAAC,CAAC6J,KAAF,IAAWwiB,SAAS,CAACtrB,CAAD,CAAT,CAAa8I,KAA3B;AAAA,eAAnB,CAAZ;;AACA,kBAAG,CAACA,KAAJ,EAAU;AACR,uBAAI,CAACmhB,OAAL,CAAa5qB,IAAb,CAAkBisB,SAAS,CAACtrB,CAAD,CAA3B;AACC;AAZM;;AAQX,iBAAI,IAAIA,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACsrB,SAAS,CAACtiB,MAAzB,EAAiChJ,CAAC,EAAlC,EAAqC;AAAA,qBAA7BA,CAA6B;AAKpC;AACF;;;iBAED,uBAAcD,CAAd,EAAe;AACb,gBAAGA,CAAC,IAAI,SAAR,EAAkB;AAChB,mBAAKmsB,UAAL,CAAgBpQ,KAAhB,GAAwB/b,CAAxB;AACD,aAFD,MAEK;AACgB8E,sBAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAkCiB,QAAlC,GAA6C,KAA7C;AACAlB,sBAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAkCC,KAAlC,GAA0C,EAA1C;AACpB;AACF;;;iBAED,kBAASsC,EAAT,EAAW;AAAA;;AACT,iBAAK8kB,gBAAL;AACA,iBAAK9tB,GAAL,CAAS+tB,eAAT,CAAyB/kB,EAAzB,EACGtG,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACkrB,UAAL,GAAkBlrB,IAAlB;;AACA,kBAAGA,IAAI,CAACuC,KAAL,CAAWF,MAAX,KAAsB,OAAzB,EAAiC;AAC/B,uBAAI,CAAC0lB,SAAL,GAAiB,IAAjB;AACD;;AACD,kBAAG/nB,IAAI,CAACuC,KAAL,CAAWF,MAAX,KAAsB,kBAAzB,EAA4C;AAC1C,uBAAI,CAAC2lB,KAAL,GAAa,IAAb;AACD,eAPoB,CAQrB;;AACD,aAVH;AAWD;;;iBAED,6BAAiB;AAAA;;AACf,gBAAIzlB,KAAK,GAAG,KAAK2oB,UAAL,CAAgB3oB,KAAhB,CAAsBC,GAAlC;AAEA,iBAAK0oB,UAAL,CAAgB3oB,KAAhB,GAAwBA,KAAxB,CAHe,CAKf;;AAEA,iBAAKlF,GAAL,CAASguB,aAAT,CAAuB,KAAKH,UAAL,CAAgB1oB,GAAvC,EAA4C,KAAK0oB,UAAjD,EACOnrB,SADP,CACiB,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACmrB,gBAAL;;AACA,qBAAI,CAAC1B,cAAL;;AACI,qBAAI,CAACjL,aAAL;;AACA,qBAAI,CAACK,oBAAL;;AACA,iEAAK3f,IAAL,CAAU;AACR0L,wBAAQ,EAAC,QADD;AAERpL,oBAAI,EAAC,SAFG;AAGRL,qBAAK,EAAC,6BAHE;AAIRiB,iCAAiB,EAAE,KAJX;AAKR2G,qBAAK,EAAC;AALE,eAAV;AAQL,aAdP;AAeD;;;iBAED,gBAAOV,EAAP,EAAS;AAAA;;AACP,iBAAKilB,YAAL;AACA,iBAAKjuB,GAAL,CAASkuB,eAAT,CAAyBllB,EAAzB,EACGtG,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACwrB,YAAL,GAAoBxrB,IAApB;;AACA,qBAAI,CAACyrB,mBAAL,CAAyB,OAAI,CAACD,YAAL,CAAkBrlB,QAAlB,CAA2B5D,KAA3B,CAAiCF,MAA1D;;AACA,qBAAI,CAACulB,QAAL,GAAgB,OAAI,CAAC4D,YAAL,CAAkBlpB,MAAlC;AACA,qBAAI,CAACulB,MAAL,GAAc,OAAI,CAAC2D,YAAL,CAAkBhU,IAAhC;AACA,qBAAI,CAACsQ,UAAL,GAAkB,OAAI,CAAC0D,YAAL,CAAkBjtB,QAApC;AAED,aARH;AASD;;;iBAED,iBAAQD,QAAR,EAAgB;AAAA;;AACd,gBAAIyS,IAAI,GAAG;AACT5K,sBAAQ,EAAC,KAAKqlB,YAAL,CAAkBrlB,QAAlB,CAA2B3D,GAD3B;AAETF,oBAAM,EAAC,KAAKslB,QAFH;AAGTpQ,kBAAI,EAAC,KAAKqQ,MAHD;AAITtpB,sBAAQ,EAAC,KAAKupB,UAJL;AAKTrZ,oBAAM,EAAC,KAAKya;AALH,aAAX;AASA,iBAAK7rB,GAAL,CAASquB,eAAT,CAAyB,KAAKF,YAAL,CAAkBhpB,GAA3C,EAAgDuO,IAAhD,EACChR,SADD,CACW,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACsrB,YAAL;;AACA,iEAAKpsB,IAAL,CAAU;AACR0L,wBAAQ,EAAC,QADD;AAERpL,oBAAI,EAAC,SAFG;AAGRL,qBAAK,EAAC,qCAHE;AAIRiB,iCAAiB,EAAE,KAJX;AAKR2G,qBAAK,EAAC;AALE,eAAV;;AAOA,qBAAI,CAAC0iB,cAAL;;AACA,qBAAI,CAACjL,aAAL;;AACA,qBAAI,CAACK,oBAAL;;AACA,qBAAI,CAAC+I,QAAL,GAAgB,EAAhB;AACA,qBAAI,CAACC,MAAL,GAAc,EAAd;AACA,qBAAI,CAACC,UAAL,GAAkB,EAAlB;AACA,qBAAI,CAAC0D,YAAL,GAAoB,EAApB;AACD,aAjBD;AAmBD;;;iBAEM,wBAAY;AACjB,gBAAG,KAAKnE,eAAR,EAAwB;AACtB,mBAAKA,eAAL,GAAuB,KAAvB;AACD,aAFD,MAEK;AACH,mBAAKA,eAAL,GAAuB,IAAvB;AACD;AACF;;;iBAED,mBAAUtoB,CAAV,EAAW;AACT,gBAAGA,CAAC,IAAI,YAAR,EAAqB;AACnB,kBAAG,CAAC,KAAKknB,QAAT,EAAkB;AAChB,qBAAKA,QAAL,GAAgB,IAAhB;AACA,qBAAKC,SAAL,GAAiB,KAAjB;AACD;;AACD,mBAAKgC,WAAL,GAAmB,IAAnB;AACA,mBAAKR,OAAL,GAAe,KAAf;AACD,aAPD,MAOM,IAAG3oB,CAAC,IAAI,SAAR,EAAkB;AACtB,mBAAKmpB,WAAL,GAAmB,KAAnB;AACA,mBAAKR,OAAL,GAAe,IAAf;AACA,mBAAKmC,UAAL;AACD,aAJK,MAID;AACH,kBAAG,KAAK5D,QAAR,EAAiB;AACf,qBAAKA,QAAL,GAAgB,KAAhB;AACA,qBAAKC,SAAL,GAAiB,IAAjB;AACD;;AACD,mBAAKgC,WAAL,GAAmB,KAAnB;AACA,mBAAKR,OAAL,GAAe,KAAf;AACD;AACF;;;iBAED,0BAAc;AAAA;;AACZ,iBAAKrqB,GAAL,CAASuQ,aAAT,GACG7N,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACye,UAAL,GAAkBze,IAAlB;AACA,qBAAI,CAACye,UAAL,GAAkB,OAAI,CAACA,UAAL,CAAgBvgB,IAAhB,CAAqB,UAAS6P,CAAT,EAAYC,CAAZ,EAAe;AACpD,oBAAGD,CAAC,CAAC5H,QAAF,CAAW9D,MAAX,CAAkB4L,WAAlB,KAAkCD,CAAC,CAAC7H,QAAF,CAAW9D,MAAX,CAAkB4L,WAAlB,EAArC,EAAsE,OAAO,CAAC,CAAR;AACtE,oBAAGF,CAAC,CAAC5H,QAAF,CAAW9D,MAAX,CAAkB4L,WAAlB,KAAkCD,CAAC,CAAC7H,QAAF,CAAW9D,MAAX,CAAkB4L,WAAlB,EAArC,EAAsE,OAAO,CAAP;AACtE,uBAAO,CAAP;AAED,eALiB,CAAlB,CAFqB,CAQrB;;AACA,qBAAI,CAAC4Q,oBAAL;AACD,aAXH;AAYD;;;iBAED,oBAAW7a,CAAX,EAAY;AACX,mBAAOA,CAAC,GAAG,IAAIoU,IAAI,CAACC,YAAT,CAAsB,OAAtB,EAA+B3a,MAA/B,CAAsCsG,CAAtC,CAAX;AACA;;;iBAED,yBAAgBjF,CAAhB,EAAiB;AACf,gBAAGA,CAAC,KAAK,OAAT,EAAiB;AACf,mBAAK+nB,IAAL,GAAY,IAAZ;AACD,aAFD,MAEK;AACH,mBAAKA,IAAL,GAAY,KAAZ;AACA,mBAAK6C,EAAL,GAAU5qB,CAAV;AACD;;AAED,gBAAGA,CAAC,KAAK,0BAAT,EAAoC;AAClC,mBAAKooB,YAAL,GAAoB,IAApB;AACD,aAFD,MAEK;AACH,mBAAKA,YAAL,GAAoB,KAApB;AACD;;AAED,gBAAGpoB,CAAC,KAAK,0BAAT,EAAoC;AAClC,mBAAKgpB,SAAL,GAAiB,IAAjB;AACD,aAFD,MAEK;AACH,mBAAKA,SAAL,GAAiB,KAAjB;AACD;;AAED,gBAAGhpB,CAAC,KAAK,0BAAT,EAAoC;AAClC,mBAAKipB,KAAL,GAAa,IAAb;AACD,aAFD,MAEK;AACH,mBAAKA,KAAL,GAAa,KAAb;AACD;AAEF;;;iBAKM,0BAAc;AACnB,gBAAG,KAAKZ,eAAR,EAAwB;AACtB,mBAAKA,eAAL,GAAuB,KAAvB;AACD,aAFD,MAEK;AACH,mBAAKA,eAAL,GAAuB,IAAvB;AACD;AAEF;;;iBAEM,yBAAa;AAClB,gBAAG,KAAKrmB,cAAR,EAAuB;AACrB,mBAAKA,cAAL,GAAsB,KAAtB;AACD,aAFD,MAEK;AACH,mBAAKA,cAAL,GAAsB,IAAtB;AACD;AACF;;;iBAEM,yBAAa;AAClB,gBAAG,KAAKimB,OAAR,EAAgB;AACd,mBAAKA,OAAL,GAAe,KAAf;AACD,aAFD,MAEK;AACH,mBAAKA,OAAL,GAAe,IAAf;AACA,mBAAK2E,eAAL;AACD;AACF;;;iBAEM,4BAAgB;AACrB,gBAAG,KAAK5E,UAAR,EAAmB;AACjB,mBAAKA,UAAL,GAAkB,KAAlB;AACD,aAFD,MAEK;AACH,mBAAKA,UAAL,GAAkB,IAAlB;AACD;AACF;;;iBAEM,yBAAa;AAClB,gBAAG,KAAKU,OAAR,EAAgB;AACd,mBAAKA,OAAL,GAAe,KAAf;AACD,aAFD,MAEK;AACH,mBAAKA,OAAL,GAAe,IAAf;AACD;AACF;;;iBAEM,yBAAa;AAClB,gBAAG,KAAKR,SAAR,EAAkB;AAChB,mBAAKA,SAAL,GAAiB,KAAjB;AACD,aAFD,MAEK;AACH,mBAAKA,SAAL,GAAiB,IAAjB;AACD;AACF;;;iBAGD,0BAAiB2E,MAAjB,EAAwB;AACtB,gBAAG,KAAKjE,WAAR,EAAoB;AAClB,mBAAKA,WAAL,GAAmB,KAAnB;AACD,aAFD,MAEK;AACH,mBAAKA,WAAL,GAAmB,IAAnB;AACA,mBAAKkE,QAAL,GAAgBD,MAAhB;AACD;AACF;;;iBACD,2BAAkBE,MAAlB,EAAwB;AAAA;;AACtB,gBAAIxlB,IAAI,GAAG;AACTslB,oBAAM,EAAC,KAAKC,QADH;AAETC,oBAAM,EAANA;AAFS,aAAX;AAIA,iBAAKzuB,GAAL,CAAS0uB,YAAT,CAAsBzlB,IAAtB,EACGvG,SADH,CACa,UAACC,IAAD,EAAY;AACrB,iEAAKd,IAAL,CAAU;AACRiB,oBAAI,EAACH,IADG;AAERR,oBAAI,EAAC,MAFG;AAGRY,iCAAiB,EAAC;AAHV,eAAV;;AAKA,qBAAI,CAACypB,UAAL;;AACA,qBAAI,CAACmC,gBAAL;;AACA,qBAAI,CAACpC,mBAAL;AACD,aAVH;AAWD;;;iBAED,iCAAqB;AAAA;;AACnB,iBAAK7T,OAAL,GAAe,IAAf;AACA,iBAAK1Y,GAAL,CAASkJ,UAAT,GACGxG,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACwH,SAAL,GAAiBxH,IAAjB;AACA,qBAAI,CAAC+V,OAAL,GAAe,KAAf;AACD,aAJH;AAKD;;;iBAED,yBAAa;AAAA;;AACX,iBAAKA,OAAL,GAAe,IAAf;AACA,iBAAK1Y,GAAL,CAAS6J,UAAT,GACGnH,SADH,CACa,UAACC,IAAD,EAAc;AACvB,qBAAI,CAAC4e,OAAL,GAAe5e,IAAI,CAACiD,UAApB;;AACA,qBAAI,CAAC4b,oBAAL;;AACA,qBAAI,CAAC9I,OAAL,GAAe,KAAf;AACD,aALH;AAMD;;;iBAGD,6BAAoBhX,CAApB,EAAqB;AACnB,gBAAGA,CAAC,IAAI,CAAR,EAAU;AACW8E,sBAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA4CiB,QAA5C,GAAuD,IAAvD;AACpB,aAFD,MAEK;AACgBlB,sBAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA4CiB,QAA5C,GAAuD,KAAvD;AACnB,mBAAKJ,gBAAL,GAAwB5F,CAAxB;AACD;AACF;;;iBAED,mBAAUT,QAAV,EAAkB;AAAA;;AAChB,gBAAIgI,IAAI,GAAG;AACTH,sBAAQ,EAAC7H,QAAQ,CAACyF,KADT;AAETzB,oBAAM,EAAC,KAAKA,MAFH;AAGTkV,kBAAI,EAAC,KAAKA,IAHD;AAITjZ,sBAAQ,EAAC,KAAKA;AAJL,aAAX;AAOA,iBAAKlB,GAAL,CAAS4uB,cAAT,CAAwB3lB,IAAxB,EACGvG,SADH,CACa,UAACC,IAAD,EAAY;AACrB,iEAAKd,IAAL,CAAU;AACR0L,wBAAQ,EAAC,QADD;AAERpL,oBAAI,EAAC,SAFG;AAGRL,qBAAK,EAAC,8BAHE;AAIRiB,iCAAiB,EAAE,KAJX;AAKR2G,qBAAK,EAAC;AALE,eAAV;;AAOA,qBAAI,CAACmlB,cAAL;;AACA,qBAAI,CAAC1N,aAAL;;AACA,qBAAI,CAACiL,cAAL;;AACA,qBAAI,CAACnnB,MAAL,GAAc,EAAd;AACA,qBAAI,CAACkV,IAAL,GAAY,EAAZ;AACA,qBAAI,CAACjZ,QAAL,GAAe,EAAf;AACmBsF,sBAAQ,CAACC,cAAT,CAAwB,eAAxB,EAA0CC,KAA1C,GAAkD,GAAlD;AACpB,aAhBH;AAiBD;;;iBAED,+BAAsBhF,CAAtB,EAAuB;AACrB,gBAAGA,CAAC,IAAI,CAAR,EAAU;AACR,mBAAKsC,sBAAL,GAA8B,KAA9B;AACA,mBAAKiB,MAAL,GAAc,EAAd;AACA,mBAAKkV,IAAL,GAAY,EAAZ;AACA,mBAAKjZ,QAAL,GAAgB,EAAhB;AACD,aALD,MAKK;AACH,mBAAK8C,sBAAL,GAA8B,IAA9B;AACD;AACF;;;iBAGD,qBAAS;AAAA;;AAEP,gBAAIkB,KAAJ;;AAEA,gBAAG,KAAKukB,IAAR,EAAa;AACbvkB,mBAAK,GAAG,KAAKgmB,cAAL,CAAoB3hB,GAApB,CAAwB,YAAxB,EAAsC7C,KAA9C;AACC,aAFD,MAGI;AACFxB,mBAAK,GAAG,KAAKonB,EAAb;AACD;;AAGD,gBAAMrjB,IAAI,GAAG;AACXhI,sBAAQ,EAAE,KAAKiqB,cAAL,CAAoB3hB,GAApB,CAAwB,UAAxB,EAAoC7C,KADnC;AAEXjB,mBAAK,EAAC,KAAKylB,cAAL,CAAoB3hB,GAApB,CAAwB,OAAxB,EAAiC7C,KAF5B;AAIX+D,mBAAK,EAAC,KAAKygB,cAAL,CAAoB3hB,GAApB,CAAwB,OAAxB,EAAiC7C,KAJ5B;AAKXkE,mBAAK,EAAC,KAAKsgB,cAAL,CAAoB3hB,GAApB,CAAwB,OAAxB,EAAiC7C,KAL5B;AAMXf,qBAAO,EAAC,KAAKulB,cAAL,CAAoB3hB,GAApB,CAAwB,SAAxB,EAAmC7C,KANhC;AAOXhB,qBAAO,EAAC,KAAKwlB,cAAL,CAAoB3hB,GAApB,CAAwB,SAAxB,EAAmC7C,KAPhC;AAUX;AACA4V,oBAAM,EAAE,KAAK4O,cAAL,CAAoB3hB,GAApB,CAAwB,QAAxB,EAAkC7C,KAX/B;AAYXoa,0BAAY,EAAE,KAAKoK,cAAL,CAAoB3hB,GAApB,CAAwB,cAAxB,EAAwC7C,KAZ3C;AAaXqa,kBAAI,EAAE,KAAKmK,cAAL,CAAoB3hB,GAApB,CAAwB,MAAxB,EAAgC7C,KAb3B;AAcX+W,mBAAK,EAAC,KAAKyN,cAAL,CAAoB3hB,GAApB,CAAwB,OAAxB,EAAiC7C,KAd5B;AAeX;AACA;AACAwW,mBAAK,EAAC,KAAKgO,cAAL,CAAoB3hB,GAApB,CAAwB,OAAxB,EAAiC7C,KAjB5B;AAkBXxB,mBAAK,EAALA,KAlBW;AAmBX6D,mBAAK,EAAC,KAAK0gB;AAnBA,aAAb,CAZO,CAmCP;;AAEA,gBAAG,KAAKyB,cAAL,CAAoBzhB,OAAvB,EAA+B;AAC7B;AACD;;AAID,iBAAKzJ,GAAL,CAAS8uB,WAAT,CAAqB7lB,IAArB,EACEvG,SADF,CACY,UAAAC,IAAI,EAAE;AACd,qBAAI,CAACuoB,cAAL,CAAoBthB,KAApB;;AACA,qBAAI,CAACuX,aAAL;;AACA,qBAAI,CAAChb,qBAAL;;AACA,qBAAI,CAAC4oB,aAAL,GAJc,CAKd;;AACD,aAPH;AASA;;;iBAED,cAAKrtB,CAAL,EAAM;AACL,iBAAKonB,IAAL,GAAYpnB,CAAC,CAACoF,MAAF,CAASJ,KAArB;AACA,iBAAKwiB,KAAL,GAAa,KAAKJ,IAAL,GAAU,WAAvB;AACA,gBAAIkG,IAAI,GAAG,KAAKjG,OAAL,GAAa,KAAKC,KAAlB,GAAwB,KAAKC,KAAxC;AACA,iBAAKC,KAAL,GAAa,KAAKA,KAAL,GAAW8F,IAAxB;AACA,iBAAK9F,KAAL,GAAa5gB,IAAI,CAAC2mB,KAAL,CAAW,KAAK/F,KAAhB,CAAb,CALK,CAML;AACA;;;iBACD,iBAAQxnB,CAAR,EAAS;AACP,iBAAKqnB,OAAL,GAAernB,CAAf;AACA,iBAAKwnB,KAAL,GAAa,KAAKJ,IAAL,GAAU,WAAvB;AACA,gBAAIkG,IAAI,GAAG,KAAKjG,OAAL,GAAa,KAAKC,KAAlB,GAAwB,KAAKC,KAAxC;AACA,iBAAKC,KAAL,GAAa,KAAKA,KAAL,GAAW8F,IAAxB;AACA,iBAAK9F,KAAL,GAAa5gB,IAAI,CAAC2mB,KAAL,CAAW,KAAK/F,KAAhB,CAAb,CALO,CAMP;AACD;;;iBACD,eAAMxnB,CAAN,EAAO;AACL,iBAAKsnB,KAAL,GAAatnB,CAAb;AACA,iBAAKwnB,KAAL,GAAa,KAAKJ,IAAL,GAAU,WAAvB;AACA,gBAAIkG,IAAI,GAAG,KAAKjG,OAAL,GAAa,KAAKC,KAAlB,GAAwB,KAAKC,KAAxC;AACA,iBAAKC,KAAL,GAAa,KAAKA,KAAL,GAAW8F,IAAxB;AACA,iBAAK9F,KAAL,GAAa5gB,IAAI,CAAC2mB,KAAL,CAAW,KAAK/F,KAAhB,CAAb,CALK,CAML;AACD;;;iBACD,eAAMxnB,CAAN,EAAO;AACL,iBAAKunB,KAAL,GAAavnB,CAAb;AACA,iBAAKwnB,KAAL,GAAa,KAAKJ,IAAL,GAAU,WAAvB;AACA,gBAAIkG,IAAI,GAAG,KAAKjG,OAAL,GAAa,KAAKC,KAAlB,GAAwB,KAAKC,KAAxC;AACA,iBAAKC,KAAL,GAAa,KAAKA,KAAL,GAAW8F,IAAxB;AACA,iBAAK9F,KAAL,GAAa5gB,IAAI,CAAC2mB,KAAL,CAAW,KAAK/F,KAAhB,CAAb,CALK,CAML;AACD,W,CAEF;;;;iBACA,gBAAOxnB,CAAP,EAAQ;AACN,iBAAK6nB,MAAL,GAAc7nB,CAAC,CAACoF,MAAF,CAASJ,KAAvB;AACA,gBAAIwoB,GAAG,GAAG,KAAK3F,MAAL,GAAc,KAAKH,QAAnB,GAA4B,KAAKC,MAAjC,GAAwC,KAAKC,MAAvD;AACA,iBAAKH,KAAL,GAAa+F,GAAG,GAAG,WAAnB,CAHM,CAIN;AACA;;;iBACD,kBAASxtB,CAAT,EAAU;AACR,iBAAK0nB,QAAL,GAAgB1nB,CAAC,CAACoF,MAAF,CAASJ,KAAzB;AACA,gBAAIwoB,GAAG,GAAG,KAAK3F,MAAL,GAAc,KAAKH,QAAnB,GAA4B,KAAKC,MAAjC,GAAwC,KAAKC,MAAvD;AACA,iBAAKH,KAAL,GAAa+F,GAAG,GAAG,WAAnB,CAHQ,CAIR;AACD;;;iBACD,gBAAOxtB,CAAP,EAAQ;AACN,iBAAK2nB,MAAL,GAAc3nB,CAAC,CAACoF,MAAF,CAASJ,KAAvB;AACA,gBAAIwoB,GAAG,GAAG,KAAK3F,MAAL,GAAc,KAAKH,QAAnB,GAA4B,KAAKC,MAAjC,GAAwC,KAAKC,MAAvD;AACA,iBAAKH,KAAL,GAAa+F,GAAG,GAAG,WAAnB,CAHM,CAIN;AACD;;;iBACD,gBAAOxtB,CAAP,EAAQ;AACN,iBAAK4nB,MAAL,GAAc5nB,CAAC,CAACoF,MAAF,CAASJ,KAAvB;AACA,gBAAIwoB,GAAG,GAAG,KAAK3F,MAAL,GAAc,KAAKH,QAAnB,GAA4B,KAAKC,MAAjC,GAAwC,KAAKC,MAAvD;AACA,iBAAKH,KAAL,GAAa+F,GAAG,GAAG,WAAnB,CAHM,CAIN;AACD,W,CACF;;;;iBAGA,uBAAW;AAAA;;AACT,gBAAIC,OAAO,GAAG,KAAK/D,UAAL,CAAgB7hB,GAAhB,CAAoB,UAApB,EAAgC7C,KAA9C;AACAyoB,mBAAO,GAAGA,OAAO,CAACpZ,KAAR,CAAc,GAAd,CAAV;AACA,gBAAItQ,KAAK,GAAG0pB,OAAO,CAAC,CAAD,CAAP,CAAWpZ,KAAX,CAAiB,GAAjB,CAAZ;AACA,iBAAKqV,UAAL,CAAgB7hB,GAAhB,CAAoB,UAApB,EAAgCC,QAAhC,CAAyC2lB,OAAO,CAAC,CAAD,CAAhD;AACA,iBAAK/D,UAAL,CAAgB7hB,GAAhB,CAAoB,OAApB,EAA6BC,QAA7B,CAAsC/D,KAAK,CAAC,CAAD,CAAL,CAASmoB,KAAT,CAAe,CAAf,EAAiB,CAAC,CAAlB,CAAtC;AACA,iBAAK5tB,GAAL,CAASovB,eAAT,CAAyB,KAAKhE,UAAL,CAAgB1kB,KAAzC,EACGhE,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACyoB,UAAL,CAAgBxhB,KAAhB;;AACA,qBAAI,CAACylB,aAAL;;AACA,qBAAI,CAAC7C,UAAL;;AACA,iEAAK3qB,IAAL,CAAU;AACRC,qBAAK,EAAC,wBADE;AAERgB,oBAAI,EAAC,kDAFG;AAGRX,oBAAI,EAAC,SAHG;AAIRY,iCAAiB,EAAC;AAJV,eAAV;AAMD,aAXH;AAYD;;;iBAGD,8BAAqBrB,CAArB,EAAsB;AAAA;;AACD8E,oBAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA4CiB,QAA5C,GAAuD,KAAvD;AACnB,iBAAKqkB,mBAAL,GAA2B,EAA3B;AACA,iBAAKuD,YAAL,GAAoB5tB,CAApB;AACA,gBAAI6tB,qBAAqB,GAAG,KAAKC,QAAL,CAAchf,MAAd,CAAqB,UAAA5P,CAAC;AAAA,qBAAIA,CAAC,CAAC2qB,YAAF,KAAmB7pB,CAAvB;AAAA,aAAtB,CAA5B;AACAiY,mBAAO,CAACC,GAAR,CAAY2V,qBAAZ;;AALoB,2CAMZ5tB,CANY;AAOlB,kBAAI4sB,MAAM,GAAGgB,qBAAqB,CAAC5tB,CAAD,CAAlC;;AACA,kBAAI6D,QAAQ,GAAG,OAAI,CAAC+b,OAAL,CAAa/Q,MAAb,CAAoB,UAAA5P,CAAC;AAAA,uBAAIA,CAAC,CAACoE,MAAF,IAAYupB,MAAM,CAACzlB,QAAnB,IAA+BlI,CAAC,CAAC6E,KAAF,IAAW8oB,MAAM,CAAC9oB,KAAjD,IAA0D7E,CAAC,CAAC6J,KAAF,IAAW8jB,MAAM,CAAC9jB,KAA5E,IAAqF7J,CAAC,CAAC+E,OAAF,IAAa4oB,MAAM,CAAC5oB,OAAzG,IAAoH/E,CAAC,CAAC8E,OAAF,IAAa6oB,MAAM,CAAC7oB,OAA5I;AAAA,eAArB,CAAf;;AAEIiU,qBAAO,CAACC,GAAR,CAAYpU,QAAZ,EAAqB,KAArB;;AACA,kBAAGA,QAAH,EAAY;AAAA,+CACJ7D,GADI;AAGR,sBAAIb,MAAM,GAAG,OAAI,CAACirB,mBAAL,CAAyBprB,IAAzB,CAA8B,UAAAC,CAAC;AAAA,2BAAIA,CAAC,CAACuE,GAAF,IAASK,QAAQ,CAAC7D,GAAD,CAAR,CAAYwD,GAAzB;AAAA,mBAA/B,CAAb;;AACA,sBAAG,CAACrE,MAAJ,EAAW;AACT,2BAAI,CAACirB,mBAAL,CAAyB/qB,IAAzB,CAA8BwE,QAAQ,CAAC7D,GAAD,CAAtC;AACD;AANO;;AACZ,qBAAI,IAAIA,GAAC,GAAE,CAAX,EAAcA,GAAC,GAAC6D,QAAQ,CAACmF,MAAzB,EAAgChJ,GAAC,EAAjC,EAAoC;AAAA,0BAA5BA,GAA4B;AAMjC;AACF;AAnBa;;AAMpB,iBAAI,IAAIA,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAC4tB,qBAAqB,CAAC5kB,MAAvC,EAA+ChJ,CAAC,EAAhD,EAAmD;AAAA,sBAA3CA,CAA2C;AAclD;AACF;;;iBAID,sBAAU;AAAA;;AACR,iBAAKuqB,GAAL,GAAW,CAAX;AACA,iBAAKC,GAAL,GAAW,CAAX;AACA,iBAAKH,gBAAL,GAAwB,EAAxB;AACA,iBAAKhsB,GAAL,CAASyvB,SAAT,GACG/sB,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAAC6sB,QAAL,GAAgB7sB,IAAhB;AACA,kBAAIiN,OAAO,GAAG,OAAI,CAAC2R,OAAnB;;AAFqB,6CAGb5f,CAHa;AAInB,oBAAI4sB,MAAM,GAAG,OAAI,CAACiB,QAAL,CAAc7tB,CAAd,CAAb;;AACA,oBAAG4sB,MAAM,CAAChD,YAAP,KAAwB,8BAA3B,EAA0D;AACxD,yBAAI,CAACW,GAAL;AACD,iBAFD,MAEK;AACH,yBAAI,CAACC,GAAL;AACD;;AACD,oBAAIuD,MAAM,GAAG,OAAI,CAAC1D,gBAAL,CAAsBxqB,SAAtB,CAAgC,UAAAZ,CAAC;AAAA,yBAAIA,CAAC,CAACkI,QAAF,KAAe,OAAI,CAAC0mB,QAAL,CAAc7tB,CAAd,EAAiBmH,QAAhC,IAA4ClI,CAAC,CAAC6E,KAAF,KAAY,OAAI,CAAC+pB,QAAL,CAAc7tB,CAAd,EAAiB8D,KAAzE,IAAkF7E,CAAC,CAAC6J,KAAF,KAAY,OAAI,CAAC+kB,QAAL,CAAc7tB,CAAd,EAAiB8I,KAA/G,IAAwH7J,CAAC,CAAC+E,OAAF,KAAc,OAAI,CAAC6pB,QAAL,CAAc7tB,CAAd,EAAiBgE,OAAvJ,IAAkK/E,CAAC,CAAC8E,OAAF,KAAc,OAAI,CAAC8pB,QAAL,CAAc7tB,CAAd,EAAiB+D,OAAjM,IAA4M9E,CAAC,CAAC2qB,YAAF,KAAmB,OAAI,CAACiE,QAAL,CAAc7tB,CAAd,EAAiB4pB,YAApP;AAAA,iBAAjC,CAAb;;AAEA,oBAAGmE,MAAM,GAAG,CAAZ,EAAc;AACZ,sBAAIzmB,IAAI,GAAG;AACTH,4BAAQ,EAAC,OAAI,CAAC0mB,QAAL,CAAc7tB,CAAd,EAAiBmH,QADjB;AAETrD,yBAAK,EAAC,OAAI,CAAC+pB,QAAL,CAAc7tB,CAAd,EAAiB8D,KAFd;AAGTC,2BAAO,EAAC,OAAI,CAAC8pB,QAAL,CAAc7tB,CAAd,EAAiB+D,OAHhB;AAITC,2BAAO,EAAC,OAAI,CAAC6pB,QAAL,CAAc7tB,CAAd,EAAiBgE,OAJhB;AAKT8E,yBAAK,EAAC,OAAI,CAAC+kB,QAAL,CAAc7tB,CAAd,EAAiB8I,KALd;AAMT8gB,gCAAY,EAAC,OAAI,CAACiE,QAAL,CAAc7tB,CAAd,EAAiB4pB,YANrB;AAOTD,wBAAI,EAAC,OAAI,CAACkE,QAAL,CAAc7tB,CAAd,EAAiB2pB;AAPb,mBAAX;;AASA,yBAAI,CAACU,gBAAL,CAAsBhrB,IAAtB,CAA2BiI,IAA3B;AACD,iBAXD,MAYI;AACA,sBAAIqiB,IAAI,GAAG7Z,MAAM,CAAC,OAAI,CAACua,gBAAL,CAAsB0D,MAAtB,EAA8BpE,IAA/B,CAAN,GAA6C7Z,MAAM,CAAC,OAAI,CAAC+d,QAAL,CAAc7tB,CAAd,EAAiB2pB,IAAlB,CAA9D;AACA,yBAAI,CAACU,gBAAL,CAAsB0D,MAAtB,EAA8BpE,IAA9B,GAAqCA,IAArC;AACH;;AAED3R,uBAAO,CAACC,GAAR,CAAY,OAAI,CAACoS,gBAAjB;;AAEA,oBAAIxmB,QAAQ,GAAG,OAAI,CAAC+b,OAAL,CAAa5gB,IAAb,CAAkB,UAAAC,CAAC;AAAA,yBAAIA,CAAC,CAACoE,MAAF,IAAYupB,MAAM,CAACzlB,QAAnB,IAA+BlI,CAAC,CAAC6E,KAAF,IAAW8oB,MAAM,CAAC9oB,KAAjD,IAA0D7E,CAAC,CAAC6J,KAAF,IAAW8jB,MAAM,CAAC9jB,KAA5E,IAAqF7J,CAAC,CAAC+E,OAAF,IAAa4oB,MAAM,CAAC5oB,OAA7G;AAAA,iBAAnB,CAAf;;AAEAgU,uBAAO,CAACC,GAAR,CAAYpU,QAAZ;;AACA,oBAAGA,QAAH,EAAY;AAEV,sBAAI1E,MAAM,GAAG,OAAI,CAACirB,mBAAL,CAAyBprB,IAAzB,CAA8B,UAAAC,CAAC;AAAA,2BAAIA,CAAC,CAACuE,GAAF,IAASK,QAAQ,CAACL,GAAtB;AAAA,mBAA/B,CAAb;;AACA,sBAAG,CAACrE,MAAJ,EAAW;AACT,2BAAI,CAACirB,mBAAL,CAAyB/qB,IAAzB,CAA8BwE,QAA9B;AACD;AACF,iBAxCkB,CA0CnB;AACA;AACA;AACA;AAEA;;AA/CmB;;AAGrB,mBAAI,IAAI7D,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAC,OAAI,CAAC6tB,QAAL,CAAc7kB,MAA/B,EAAuChJ,CAAC,EAAxC,EAA2C;AAAA,wBAAnCA,CAAmC;AA6C1C;AACF,aAlDH;AAmDD;;;iBAID,+BAAmB;AAAA;;AACjB,iBAAK3B,GAAL,CAAS2vB,eAAT,GACGjtB,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACspB,YAAL,GAAoBtpB,IAApB;AACD,aAHH;AAID;;;iBAED,uBAAcjB,CAAd,EAAe;AACb,gBAAIoH,QAAQ,GAAG,KAAKyY,OAAL,CAAa5gB,IAAb,CAAkB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACuE,GAAF,IAASzD,CAAC,CAACoF,MAAF,CAASJ,KAAtB;AAAA,aAAnB,CAAf;;AAEA,gBAAGoC,QAAH,EAAY;AACStC,sBAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAqCC,KAArC,GAA6CoC,QAAQ,CAACnD,OAAtD;AACAa,sBAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAmCC,KAAnC,GAA2CoC,QAAQ,CAAC2B,KAApD;AACAjE,sBAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAmCC,KAAnC,GAA2CoC,QAAQ,CAAC8B,KAApD;AACnB,mBAAKglB,OAAL,CAAa9mB,QAAQ,CAACnD,OAAtB;AACA,mBAAKkqB,KAAL,CAAW/mB,QAAQ,CAAC2B,KAApB;AACA,mBAAKqlB,KAAL,CAAWhnB,QAAQ,CAAC8B,KAApB,EANU,CAOV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;AAEF;;;iBAKD,8BAAkB;AAAA;;AAChB,gBAAIpF,QAAQ,GAAsBgB,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA4CC,KAA9E;AACA,gBAAI4kB,IAAI,GAAsB9kB,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAkCC,KAAhE;AACA,gBAAIf,OAAO,GAAsBa,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAqCC,KAAtE;AACA,gBAAI+D,KAAK,GAAsBjE,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAmCC,KAAlE;AACA,gBAAIkE,KAAK,GAAsBpE,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAmCC,KAAlE;AACA,gBAAIuY,WAAW,GAAsBzY,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAwCC,KAA7E;AACA,gBAAI6kB,YAAY,GAAsB/kB,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAyCC,KAA/E;AACA,gBAAIwE,QAAQ,GAAG,KAAKqW,OAAL,CAAa5gB,IAAb,CAAkB,UAAAC,CAAC;AAAA,qBAAGA,CAAC,CAACuE,GAAF,IAASK,QAAZ;AAAA,aAAnB,CAAf;AAEA,gBAAIyD,IAAI,GAAG;AACTH,sBAAQ,YAAIoC,QAAQ,CAAClG,MAAb,eAAwBkG,QAAQ,CAACzF,KAAjC,MADC;AAETR,oBAAM,EAAC,KAAK8qB,UAFH;AAGTzE,kBAAI,EAAJA,IAHS;AAIT9lB,sBAAQ,YAAI0F,QAAQ,CAAClG,MAAb,eAAwBkG,QAAQ,CAACzF,KAAjC,MAJC;AAKTyR,mBAAK,EAAC,KAAKgS;AALF,aAAX;AAQA,gBAAI8G,UAAU,GAAG,WACZ,KAAK/pB,OAAL,CAAaoJ,MADD,cACW,KAAKpJ,OAAL,CAAaqJ,QADxB,GAEf;AACA,0CAHe,CAAjB;AAMA,gBAAI4H,KAAK,GAAUjO,IAAI,CAACiO,KAAL,CAAWzP,QAAX,EAAnB;AAEA,gBAAIrH,GAAG,GAAG,mCAAM,GAAGC,MAAT,CAAgB,YAAhB,CAAV;AAEC,iBAAKL,GAAL,CAASiwB,iBAAT,CAA2BhnB,IAA3B,EACGvG,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACutB,gBAAL;;AACA,iEAAKruB,IAAL,CAAU;AACRC,qBAAK,EAAC,sCADE;AAERgB,oBAAI,4CAAoCoI,QAAQ,CAAClG,MAA7C,oBAFI;AAGR7C,oBAAI,EAAC,SAHG;AAIRY,iCAAiB,EAAC;AAJV,eAAV;;AAOD,uBAAeotB,MAAf,GAAwB;;;;;;;AAChBtS,6B,GAAM,IAAI,8DAAJ,E;AACZ,yFAAeC,QAAf,CAAwB,oDAAxB;AACAD,6BAAG,CAACuS,eAAJ,CAAoB,WAApB;yCAGAvS,G;yCACM,qD;yCAEI,oD;;AAAK,iCAAM,IAAI,mDAAJ,CAAQ,gCAAR,EAA0CG,KAA1C,CAAgD,EAAhD,EAAoDC,MAApD,CAA2D,CAAC,EAAD,EAAK,CAAL,CAA3D,EAAoEC,KAApE,EAAN;;;;wEAAmFC,O,CAAQ,C,EAAGC,G;yCACvG,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,iDACiBC,IADjB,GACwBD,GADjC,EACsCE,SADtC,CACgD,QADhD,EAC0DC,QAD1D,CACmE,EADnE,EACuEJ,OADvE,CAC+E,CAD/E,EACkFC,G;yCAClF,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,iBAAR,EAA2BA,GAApC,EAAyCI,SAAzC,CAAmD,SAAnD,EAA8DD,QAA9D,CAAuE,CAAvE,EAA0ED,SAA1E,CAAoF,QAApF,EAA8FF,G;;yCAEhG,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BA,GAD5B,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BA,GAF5B,EAGE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,mBAAR,EAA6BA,GAAtC,EAA2CI,SAA3C,CAAqD,SAArD,EAAgED,QAAhE,CAAyE,CAAzE,EAA4ED,SAA5E,CAAsF,QAAtF,EAAgGF,GAHlG,C;yCAKA,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BA,GAD5B,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BA,GAF5B,EAGE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,8BAAR,EAAwCA,GAAjD,EAAsDI,SAAtD,CAAgE,SAAhE,EAA2ED,QAA3E,CAAoF,CAApF,EAAuFD,SAAvF,CAAiG,QAAjG,EAA2GF,GAH7G,C;0CAKA,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BA,GAD5B,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BA,GAF5B,EAGE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,gBAAR,EAA0BA,GAAnC,EAAwCI,SAAxC,CAAkD,SAAlD,EAA6DD,QAA7D,CAAsE,CAAtE,EAAyED,SAAzE,CAAmF,QAAnF,EAA6FF,GAH/F,C;;0EAKCK,M,CAAO,CAAC,KAAD,EAAO,KAAP,EAAa,KAAb,C,EAAqBL,G;;uCAvB7BM,G;;AA0BJb,6BAAG,CAACa,GAAJ,CAEEb,GAAG,CAACc,EAAJ,CAAO,CAAP,CAFF;AAMAd,6BAAG,CAACa,GAAJ,CACE,IAAI,qDAAJ,CAAU,CACR,CACE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAW,CAClB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,cAAR,EAAwBN,GAAjC,EAAsCI,SAAtC,CAAgD,SAAhD,EAA2DJ,GAD7D,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQmN,YAAR,EAAsBnN,GAA/B,EAAoCA,GAFtC,CADkB,CAAX,EAMPK,MANO,CAMA,CAAC,KAAD,EAAO,KAAP,CANA,EAMeL,GANxB,EAOEE,SAPF,CAOY,QAPZ,EAOsBF,GARxB,EAUE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BA,GAV5B,EAYE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAW,CAClB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,YAAR,EAAsBA,GAA/B,EAAoCE,SAApC,CAA8C,QAA9C,EAAwDM,OAAxD,CAAgE,CAAhE,EAAmEnB,KAAnE,CAAyE,SAAzE,EAAoFe,SAApF,CAA8F,SAA9F,EAAyGJ,GAD3G,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BA,GAF5B,CADkB,EAKlB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,IAAR,EAAcH,MAAd,CAAqB,CAAC,CAAD,EAAG,CAAH,CAArB,EAA4BG,GAArC,EAA0CE,SAA1C,CAAoD,QAApD,EAA8DE,SAA9D,CAAwE,SAAxE,EAAmFJ,GADrF,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQzb,IAAR,EAAc0b,IAAd,GAAqBD,GAA9B,EAAmCG,QAAnC,CAA4C,EAA5C,EAAgDH,GAFlD,CALkB,EASlB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,oBAAR,EAA8BA,GAAvC,EAA4CE,SAA5C,CAAsD,QAAtD,EAAgEE,SAAhE,CAA0E,SAA1E,EAAqFJ,GADvF,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,WAAWhe,GAAX,GAAkB6d,MAAlB,CAAyB,CAAC,CAAD,EAAG,CAAH,CAAzB,EAAgCI,IAAhC,GAAuCD,GAAhD,EAAqDA,GAFvD,CATkB,CAAX,EAaLK,MAbK,CAaE,CAAC,KAAD,EAAO,KAAP,CAbF,EAaiBL,GAb1B,EAcEE,SAdF,CAcY,QAdZ,EAcsBF,GA1BxB,CADQ,CAAV,EA8BGK,MA9BH,CA8BU,CAAC,KAAD,EAAO,KAAP,EAAa,KAAb,CA9BV,EA8B+BI,MA9B/B,CA8BsC,WA9BtC,EA8BmDT,GA/BrD;AAoCAP,6BAAG,CAACa,GAAJ,CAEEb,GAAG,CAACc,EAAJ,CAAO,CAAP,CAFF;AAMAd,6BAAG,CAACa,GAAJ,CACE,IAAI,qDAAJ,CAAW,CACT,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,UAAR,EAAoBT,MAApB,CAA2B,CAAC,CAAD,EAAG,CAAH,CAA3B,EAAkCI,IAAlC,GAAyCD,GAAlD,EAAuDI,SAAvD,CAAiE,SAAjE,EAA4EJ,GAD9E,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,mBAAR,EAA6BC,IAA7B,GAAoCD,GAA7C,EAAkDI,SAAlD,CAA4D,SAA5D,EAAuEJ,GAFzE,EAGE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,sBAAR,EAAgCC,IAAhC,GAAuCD,GAAhD,EAAqDI,SAArD,CAA+D,SAA/D,EAA0EJ,GAH5E,EAIE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,YAAR,EAAsBH,MAAtB,CAA6B,CAAC,CAAD,EAAG,CAAH,CAA7B,EAAoCI,IAApC,GAA2CD,GAApD,EAAyDI,SAAzD,CAAmE,SAAnE,EAA8EI,OAA9E,CAAsF,CAAtF,EAAyFR,GAJ3F,EAKE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYA,GAArB,EAA0BI,SAA1B,CAAoC,SAApC,EAA+CJ,GALjD,EAME,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,UAAR,EAAoBH,MAApB,CAA2B,CAAC,CAAD,EAAG,CAAH,CAA3B,EAAkCI,IAAlC,GAAyCD,GAAlD,EAAuDI,SAAvD,CAAiE,SAAjE,EAA4EJ,GAN9E,EAOE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,aAAR,EAAuBH,MAAvB,CAA8B,CAAC,CAAD,EAAG,CAAH,CAA9B,EAAqCI,IAArC,GAA4CD,GAArD,EAA0DI,SAA1D,CAAoE,SAApE,EAA+EJ,GAPjF,EAQE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,aAAR,EAAuBH,MAAvB,CAA8B,CAAC,CAAD,EAAG,CAAH,CAA9B,EAAqCI,IAArC,GAA4CD,GAArD,EAA0DI,SAA1D,CAAoE,SAApE,EAA+EJ,GARjF,CADS,EAWT,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQnV,IAAI,CAACzD,QAAb,EAAuB4Y,GAAhC,EAAqCA,GADvC,EAEE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQzY,OAAR,EAAiByY,GAA1B,EAA+BA,GAFjC,EAGE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ3T,KAAR,EAAe2T,GAAxB,EAA6BA,GAH/B,EAIE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ3T,KAAR,EAAe2T,GAAxB,EAA6BA,GAJ/B,EAKE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQxT,KAAR,EAAewT,GAAxB,EAA6BA,GAL/B,EAME,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQkN,IAAR,EAAclN,GAAvB,EAA4BA,GAN9B,EAOE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQlH,KAAR,EAAeuG,KAAf,CAAqB,KAArB,EAA4BW,GAArC,EAA0CA,GAP5C,EAQE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQa,WAAR,EAAqBb,GAA9B,EAAmCA,GARrC,CAXS,CAAX,EAqBIK,MArBJ,CAqBW,CAAC,KAAD,EAAO,KAAP,EAAa,KAAb,EAAmB,KAAnB,EAAyB,KAAzB,EAA+B,KAA/B,EAAqC,KAArC,EAA2C,KAA3C,CArBX,EAqB8DH,SArB9D,CAqBwE,QArBxE,EAqBkFF,GAtBpF;AAyBAP,6BAAG,CAACa,GAAJ,CAEEb,GAAG,CAACc,EAAJ,CAAO,CAAP,CAFF;AAMAd,6BAAG,CAACa,GAAJ,CACE,IAAI,qDAAJ,CAAW,CACT,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,EAAR,EAAYN,GAArB,EAA0BA,GAD5B,EAGE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAW,CAClB,CACE,IAAI,oDAAJ,CAAS,IAAI,mDAAJ,CAAQ,iBAAR,EAA2BX,KAA3B,CAAiC,SAAjC,EAA4CW,GAArD,EAA0DI,SAA1D,CAAoE,SAApE,EAA+EF,SAA/E,CAAyF,QAAzF,EAAmGF,GADrG,CADkB,EAIlB,CACE,IAAI,oDAAJ,CAAS,IAAI,qDAAJ,CAAU4R,UAAV,EAAsB5R,GAA/B,EAAoCE,SAApC,CAA8C,QAA9C,EAAwDF,GAD1D,CAJkB,CAAX,EAQLK,MARK,CAQE,CAAC,MAAD,CARF,EAQYL,GARrB,EASEA,GAZJ,CADS,CAAX,EAgBIK,MAhBJ,CAgBW,CAAC,KAAD,EAAO,KAAP,CAhBX,EAgB0BI,MAhB1B,CAgBiC,WAhBjC,EAgB8CP,SAhB9C,CAgBwD,QAhBxD,EAgBkEF,GAjBpE;AAuBAP,6BAAG,CAACqB,MAAJ,GAAaC,QAAb,sBAAoCxc,IAApC;;;;;;;;;AAED;;AAEDwtB,oBAAM;AAEP,aAtJF;AAuJF,W,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;iBAEA,mBAAUpP,IAAV,EAAe7f,QAAf,EAAuB;AACrB,gBAAI2f,KAAK,GAAGE,IAAI,GAAC7f,QAAjB;AACA,mBAAO2f,KAAP;AACD;;;iBAID,qBAAY3V,QAAZ,EAA0BmlB,YAA1B,EAA4CC,cAA5C,EAA8D;AAC5D,gBAAIC,WAAW,GAAG,KAAKhP,OAAL,CAAa5gB,IAAb,CAAkB,UAAAC,CAAC;AAAA,qBAAGA,CAAC,CAACoE,MAAF,IAAYkG,QAAf;AAAA,aAAnB,CAAlB;AACA,gBAAMslB,eAAe,GAAIH,YAAY,GAAG,IAAhB,GAAwBC,cAAhD;AACA,gBAAIG,qBAAqB,GAAGD,eAAe,GAAGD,WAAW,CAACxP,IAA1D;;AAEA,gBAAI0P,qBAAqB,GAAG,CAAxB,IAA6B,CAAjC,EAAoC;AAElC,kBAAGA,qBAAqB,GAAG,CAA3B,EAA6B;AAC3BA,qCAAqB,GAAG,CAAxB;AACD;;AAED,qBAAO;AAAC5P,qBAAK,EAAC4P,qBAAP;AACL3P,4BAAY,EAAEyP,WAAW,CAACzP;AADrB,eAAP;AAGD,aATD,MASM;AACJ2P,mCAAqB,GAAGnoB,IAAI,CAACuc,KAAL,CAAW4L,qBAAX,CAAxB;;AAEA,kBAAGA,qBAAqB,GAAG,CAA3B,EAA6B;AAC3BA,qCAAqB,GAAG,CAAxB;AACD;;AAED,qBAAO;AAAC5P,qBAAK,EAAC4P,qBAAP;AACC3P,4BAAY,EAAEyP,WAAW,CAACzP;AAD3B,eAAP;AAED;AAEF;;;iBAID,wBAAehY,QAAf,EAAyB+X,KAAzB,EAA8B;AAC5B,gBAAM5X,IAAI,GAAG;AACXH,sBAAQ,EAACA,QAAQ,CAACA,QADP;AAEX+X,mBAAK,EAALA;AAFW,aAAb;AAMA,gBAAI6P,SAAS,GAAG,KAAKzG,UAAL,CAAgBtpB,IAAhB,CAAqB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACkI,QAAF,IAAcA,QAAQ,CAACA,QAA3B;AAAA,aAAtB,CAAhB;;AAEA,gBAAG,CAAC4nB,SAAJ,EAAc;AACZ,mBAAKzG,UAAL,CAAgBjpB,IAAhB,CAAqBiI,IAArB;AACD;AAEF;;;iBAED,6BAAiB;AACf,gBAAG,KAAKihB,WAAR,EAAoB;AAClB,mBAAKA,WAAL,GAAmB,KAAnB;AACD,aAFD,MAEK;AACH,mBAAKA,WAAL,GAAmB,IAAnB;AACD;AACF;;;iBAED,oBAAWllB,MAAX,EAAmB9D,QAAnB,EAA6B8H,EAA7B,EAAiCxD,QAAjC,EAA0C;AACxC,iBAAKmrB,QAAL,GAAgB3rB,MAAhB;AACA,iBAAK4rB,YAAL,GAAoB1vB,QAApB;AACA,iBAAK2vB,MAAL,GAAc7nB,EAAd;;AAEA,gBAAGxD,QAAH,EAAY;AACV,mBAAK2kB,iBAAL,GAAyB,IAAzB;AACD;;AAED,iBAAK2G,iBAAL;AAED;;;iBAED,+BAAsB1f,MAAtB,EAA4B;AAAA;;AAE1BA,kBAAM,GAAGA,MAAM,CAAC1K,KAAhB;;AAEA,gBAAG,KAAKyjB,iBAAR,EAA0B;AACxB,mBAAKnqB,GAAL,CAAS+wB,gBAAT,CAA0B,KAAKF,MAA/B,EAAuCzf,MAAvC,EACC1O,SADD,CACW,UAACC,IAAD,EAAY;AACrB,uBAAI,CAACwe,aAAL;;AACA,uBAAI,CAACkL,YAAL;;AACA,uBAAI,CAACyE,iBAAL;;AAEA,uBAAI,CAAC3P,aAAL;;AACA,uBAAI,CAAChb,qBAAL;;AACA,uBAAI,CAACqmB,UAAL,GAPqB,CAQrB;;;AACA,uBAAI,CAACH,YAAL,GATqB,CAUrB;;AACD,eAZD;AAaD,aAdD,MAcK;AACH,mBAAKrsB,GAAL,CAASgxB,gBAAT,CAA0B,KAAKH,MAA/B,EAAuCzf,MAAvC,EACG1O,SADH,CACa,UAACC,IAAD,EAAY;AACrB;AACA,uBAAI,CAACwe,aAAL;;AACA,uBAAI,CAACkL,YAAL;;AACA,uBAAI,CAACyE,iBAAL;AACD,eANH;AAOD;AAEF;;;iBAID,6BAAoBrJ,KAApB,EAA2BC,KAA3B,EAAgC;AAAA;;AAC9B,gBAAMze,IAAI,GAAG;AACXwe,mBAAK,EAACA,KAAK,CAAC/gB,KADD;AAEXghB,mBAAK,EAACA,KAAK,CAAChhB;AAFD,aAAb;AAKA,iBAAK1G,GAAL,CAASixB,iBAAT,CAA2BhoB,IAA3B,EACGvG,SADH,CACa,UAACC,IAAD,EAAY;AAGrB;AAEA,kBAAMkb,GAAG,GAAG,IAAI,8DAAJ,EAAZ;AACA,6EAAeC,QAAf,CAAwB,oDAAxB;;AAEA,uBAAeC,UAAf,GAAyB;;;;;;;;AAEvBF,6BAAG,CAACa,GAAJ,CACE,IAAI,qDAAJ,CAAU,CACR,CACE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,0CAAiDN,GAA3D,EAAgEE,SAAhE,CAA0E,QAA1E,EAAoFF,GADtF,CADQ,EAIR,CACE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,mBAAmBqJ,KAAK,CAAC/gB,KAAzB,qBAAyCghB,KAAK,CAAChhB,KAA/C,GAAwD0X,GAAlE,EAAuEE,SAAvE,CAAiF,QAAjF,EAA2FF,GAD7F,CAJQ,CAAV,EAOGK,MAPH,CAOU,CAAC,MAAD,CAPV,EAOoBI,MAPpB,CAO2B,WAP3B,EAOwCT,GAR1C;AAWAP,6BAAG,CAACa,GAAJ,CAEEb,GAAG,CAACc,EAAJ,CAAO,CAAP,CAFF;AAMAd,6BAAG,CAACa,GAAJ,CACE,IAAI,qDAAJ,CAAU,CACR,CACE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,CAAQ,sBAAR,EAAgCN,GAA1C,EAA+CI,SAA/C,CAAyD,SAAzD,EAAoEF,SAApE,CAA8E,QAA9E,EAAwFF,GAD1F,CADQ,CAAV,EAIGK,MAJH,CAIU,CAAC,MAAD,CAJV,EAIoBI,MAJpB,CAI2B,WAJ3B,EAIwCT,GAL1C;AAQAP,6BAAG,CAACa,GAAJ,CAEEb,GAAG,CAACc,EAAJ,CAAO,CAAP,CAFF;AAKAd,6BAAG,CAACa,GAAJ,CACE,IAAI,qDAAJ,CAAU,CACR,CACE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,WAAkBN,GAA5B,EAAiCA,GADnC,EAEE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,oBAAwBA,GAAlC,EAAuCA,GAFzC,EAGE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,aAAoBA,GAA9B,EAAmCA,GAHrC,EAIE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,cAAkBA,GAA5B,EAAiCA,GAJnC,EAKE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,SAAgBA,GAA1B,EAA+BA,GALjC,CADQ,CAAV,EASGK,MATH,CASU,CAAC,KAAD,EAAO,KAAP,EAAa,KAAb,EAAoB,KAApB,EAA2B,KAA3B,CATV,EAS6CL,GAV/C;;AAYA,+BAAQzc,CAAR,GAAY,CAAZ,EAAeA,CAAC,GAAGgB,IAAI,CAACrB,OAAL,CAAaqJ,MAAhC,EAAwChJ,CAAC,EAAzC,EAA4C;AAC1Ckc,+BAAG,CAACa,GAAJ,CACE,IAAI,qDAAJ,CAAU,CACR,CACE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,WAAW/b,IAAI,CAACrB,OAAL,CAAaK,CAAb,EAAgBqD,MAA3B,GAAqCoZ,GAA/C,EAAoDA,GADtD,EAEE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,WAAWzb,IAAI,CAACrB,OAAL,CAAaK,CAAb,EAAgBmf,YAA3B,cAA2Cne,IAAI,CAACrB,OAAL,CAAaK,CAAb,EAAgBof,IAA3D,cAAmEpe,IAAI,CAACrB,OAAL,CAAaK,CAAb,EAAgB2a,MAAnF,GAA6F8B,GAAvG,EAA4GA,GAF9G,EAGE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,WAAWzb,IAAI,CAACrB,OAAL,CAAaK,CAAb,EAAgBT,QAA3B,GAAuCkd,GAAjD,EAAsDA,GAHxD,EAIE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,WAAWzb,IAAI,CAACrB,OAAL,CAAaK,CAAb,EAAgBsD,MAA3B,GAAqCmZ,GAA/C,EAAoDA,GAJtD,EAKE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,WAAWzb,IAAI,CAACrB,OAAL,CAAaK,CAAb,EAAgBwY,IAA3B,GAAmCiE,GAA7C,EAAkDA,GALpD,CADQ,CAAV,EASGK,MATH,CASU,CAAC,KAAD,EAAO,KAAP,EAAa,KAAb,EAAoB,KAApB,EAA2B,KAA3B,CATV,EAS6CL,GAV/C;AAYD;;AAEDP,6BAAG,CAACa,GAAJ,CAEEb,GAAG,CAACc,EAAJ,CAAO,CAAP,CAFF;AAMAd,6BAAG,CAACa,GAAJ,CACE,IAAI,qDAAJ,CAAU,CACR,CACE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,CAAQ,6CAAR,EAAuDN,GAAjE,EAAsEI,SAAtE,CAAgF,SAAhF,EAA2FF,SAA3F,CAAqG,QAArG,EAA+GF,GADjH,CADQ,CAAV,EAIGK,MAJH,CAIU,CAAC,MAAD,CAJV,EAIoBI,MAJpB,CAI2B,WAJ3B,EAIwCT,GAL1C;AAQAP,6BAAG,CAACa,GAAJ,CAEEb,GAAG,CAACc,EAAJ,CAAO,CAAP,CAFF;AAMAd,6BAAG,CAACa,GAAJ,CACE,IAAI,qDAAJ,CAAU,CACR,CACE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,WAAkBN,GAA5B,EAAiCA,GADnC,EAEE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,oBAAwBA,GAAlC,EAAuCA,GAFzC,EAGE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,aAAoBA,GAA9B,EAAmCA,GAHrC,EAIE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,cAAkBA,GAA5B,EAAiCA,GAJnC,EAKE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,SAAgBA,GAA1B,EAA+BA,GALjC,CADQ,CAAV,EASGK,MATH,CASU,CAAC,KAAD,EAAO,KAAP,EAAa,KAAb,EAAoB,KAApB,EAA2B,KAA3B,CATV,EAS6CL,GAV/C;;AAYA,+BAAQzc,GAAR,GAAY,CAAZ,EAAeA,GAAC,GAAGgB,IAAI,CAACuuB,QAAL,CAAcvmB,MAAjC,EAAyChJ,GAAC,EAA1C,EAA6C;AAC3Ckc,+BAAG,CAACa,GAAJ,CACE,IAAI,qDAAJ,CAAU,CACR,CACE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,WAAW/b,IAAI,CAACuuB,QAAL,CAAcvvB,GAAd,EAAiBmH,QAAjB,CAA0B9D,MAArC,GAA+CoZ,GAAzD,EAA8DA,GADhE,EAEE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,WAAWzb,IAAI,CAACuuB,QAAL,CAAcvvB,GAAd,EAAiBmH,QAAjB,CAA0BgY,YAArC,cAAqDne,IAAI,CAACuuB,QAAL,CAAcvvB,GAAd,EAAiBmH,QAAjB,CAA0BiY,IAA/E,cAAuFpe,IAAI,CAACuuB,QAAL,CAAcvvB,GAAd,EAAiBmH,QAAjB,CAA0BwT,MAAjH,GAA2H8B,GAArI,EAA0IA,GAF5I,EAGE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,WAAWzb,IAAI,CAACuuB,QAAL,CAAcvvB,GAAd,EAAiBmH,QAAjB,CAA0B5H,QAArC,GAAiDkd,GAA3D,EAAgEA,GAHlE,EAIE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,WAAWzb,IAAI,CAACuuB,QAAL,CAAcvvB,GAAd,EAAiBmH,QAAjB,CAA0B7D,MAArC,GAA+CmZ,GAAzD,EAA8DA,GAJhE,EAKE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,WAAWzb,IAAI,CAACuuB,QAAL,CAAcvvB,GAAd,EAAiBmH,QAAjB,CAA0BqR,IAArC,GAA6CiE,GAAvD,EAA4DA,GAL9D,CADQ,CAAV,EASGK,MATH,CASU,CAAC,KAAD,EAAO,KAAP,EAAa,KAAb,EAAoB,KAApB,EAA2B,KAA3B,CATV,EAS6CL,GAV/C;AAYD;;AAEDP,6BAAG,CAACa,GAAJ,CAEEb,GAAG,CAACc,EAAJ,CAAO,CAAP,CAFF;AAMAd,6BAAG,CAACa,GAAJ,CACE,IAAI,qDAAJ,CAAU,CACR,CACE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,CAAQ,qBAAR,EAA+BN,GAAzC,EAA8CI,SAA9C,CAAwD,SAAxD,EAAmEF,SAAnE,CAA6E,QAA7E,EAAuFF,GADzF,CADQ,CAAV,EAIGK,MAJH,CAIU,CAAC,MAAD,CAJV,EAIoBI,MAJpB,CAI2B,WAJ3B,EAIwCT,GAL1C;AAQAP,6BAAG,CAACa,GAAJ,CAEEb,GAAG,CAACc,EAAJ,CAAO,CAAP,CAFF;AAMAd,6BAAG,CAACa,GAAJ,CACE,IAAI,qDAAJ,CAAU,CACR,CACE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,WAAkBN,GAA5B,EAAiCA,GADnC,EAEE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,oBAAwBA,GAAlC,EAAuCA,GAFzC,EAGE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,aAAoBA,GAA9B,EAAmCA,GAHrC,EAIE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,UAAiBA,GAA3B,EAAgCA,GAJlC,EAKE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,UAAiBA,GAA3B,EAAgCA,GALlC,CADQ,CAAV,EASGK,MATH,CASU,CAAC,KAAD,EAAO,KAAP,EAAa,KAAb,EAAoB,KAApB,EAA2B,KAA3B,CATV,EAS6CL,GAV/C;;AAYA,+BAAQzc,GAAR,GAAY,CAAZ,EAAeA,GAAC,GAAGgB,IAAI,CAACwuB,UAAL,CAAgBxmB,MAAnC,EAA2ChJ,GAAC,EAA5C,EAA+C;AAC7Ckc,+BAAG,CAACa,GAAJ,CACE,IAAI,qDAAJ,CAAU,CACR,CACE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,WAAW/b,IAAI,CAACwuB,UAAL,CAAgBxvB,GAAhB,EAAmBmH,QAAnB,CAA4B9D,MAAvC,GAAiDoZ,GAA3D,EAAgEA,GADlE,EAEE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,WAAWzb,IAAI,CAACwuB,UAAL,CAAgBxvB,GAAhB,EAAmBmH,QAAnB,CAA4BgY,YAAvC,cAAuDne,IAAI,CAACwuB,UAAL,CAAgBxvB,GAAhB,EAAmBmH,QAAnB,CAA4BiY,IAAnF,cAA2Fpe,IAAI,CAACwuB,UAAL,CAAgBxvB,GAAhB,EAAmBmH,QAAnB,CAA4BwT,MAAvH,GAAiI8B,GAA3I,EAAgJA,GAFlJ,EAGE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,WAAWzb,IAAI,CAACwuB,UAAL,CAAgBxvB,GAAhB,EAAmByvB,SAA9B,GAA2ChT,GAArD,EAA0DA,GAH5D,EAIE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,WAAWzb,IAAI,CAACwuB,UAAL,CAAgBxvB,GAAhB,EAAmB0vB,KAA9B,GAAuCjT,GAAjD,EAAsDA,GAJxD,EAKE,IAAI,oDAAJ,CAAU,IAAI,mDAAJ,WAAWzb,IAAI,CAACwuB,UAAL,CAAgBxvB,GAAhB,EAAmBc,KAAnB,CAAyBmrB,KAAzB,CAA+B,CAA/B,EAAkC,EAAlC,CAAX,GAAoDxP,GAA9D,EAAmEA,GALrE,CADQ,CAAV,EASGK,MATH,CASU,CAAC,KAAD,EAAO,KAAP,EAAa,KAAb,EAAoB,KAApB,EAA2B,KAA3B,CATV,EAS6CL,GAV/C;AAYD;;AAODP,6BAAG,CAACqB,MAAJ,GAAaC,QAAb;;;;;;;;;AAED;;AACDpB,wBAAU;;AACV,qBAAI,CAACuT,aAAL;AACD,aA5KH;AA8KD;;;iBAED,gCAAoB;AAAA;;AAAA,2CAEV3vB,CAFU;AAGhB,kBAAIb,MAAM,GAAG,OAAI,CAAC8f,OAAL,CAAajgB,IAAb,CAAkB,UAAAC,CAAC;AAAA,uBAAIA,CAAC,CAACkI,QAAF,IAAc,OAAI,CAACsY,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4B9D,MAA1C,IAAoDpE,CAAC,CAAC6E,KAAF,IAAW,OAAI,CAAC2b,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4BrD,KAA3F,IAAoG7E,CAAC,CAAC6J,KAAF,IAAW,OAAI,CAAC2W,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4B2B,KAA3I,IAAoJ7J,CAAC,CAACgK,KAAF,IAAW,OAAI,CAACwW,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4B8B,KAA3L,IAAoMhK,CAAC,CAAC8E,OAAF,IAAa,OAAI,CAAC0b,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4BpD,OAA7O,IAAwP9E,CAAC,CAAC+E,OAAF,IAAa,OAAI,CAACyb,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4BnD,OAArS;AAAA,eAAnB,CAAb;;AACA,kBAAG7E,MAAH,EAAU;AACN,oBAAIF,CAAC,GAAG,OAAI,CAACggB,OAAL,CAAapf,SAAb,CAAuB,UAAAZ,CAAC;AAAA,yBAAIA,CAAC,CAACkI,QAAF,IAAc,OAAI,CAACsY,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4B9D,MAA1C,IAAoDpE,CAAC,CAAC6E,KAAF,IAAW,OAAI,CAAC2b,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4BrD,KAA3F,IAAoG7E,CAAC,CAAC6J,KAAF,IAAW,OAAI,CAAC2W,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4B2B,KAA3I,IAAoJ7J,CAAC,CAACgK,KAAF,IAAW,OAAI,CAACwW,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4B8B,KAA3L,IAAoMhK,CAAC,CAAC8E,OAAF,IAAa,OAAI,CAAC0b,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4BpD,OAA7O,IAAwP9E,CAAC,CAAC+E,OAAF,IAAa,OAAI,CAACyb,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4BnD,OAArS;AAAA,iBAAxB,CAAR;;AAEA,uBAAI,CAACib,OAAL,CAAahgB,CAAb,EAAgBigB,KAAhB,GAAwBpP,MAAM,CAAC,OAAI,CAACmP,OAAL,CAAahgB,CAAb,EAAgBigB,KAAjB,CAA9B;AACA,uBAAI,CAACO,UAAL,CAAgBzf,CAAhB,EAAmBT,QAAnB,GAA8BuQ,MAAM,CAAC,OAAI,CAAC2P,UAAL,CAAgBzf,CAAhB,EAAmBT,QAApB,CAApC;AACA,uBAAI,CAACkgB,UAAL,CAAgBzf,CAAhB,EAAmBof,IAAnB,GAA0BtP,MAAM,CAAC,OAAI,CAAC2P,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4BiY,IAA7B,CAAhC;AAEA,oBAAIkB,GAAG,GAAI,OAAI,CAACb,UAAL,CAAgBzf,CAAhB,EAAmBof,IAAnB,GAA0B,OAAI,CAACK,UAAL,CAAgBzf,CAAhB,EAAmBT,QAA9C,GAA0D,OAAI,CAAC0f,OAAL,CAAahgB,CAAb,EAAgBmgB,IAApF;AAEA,uBAAI,CAACH,OAAL,CAAahgB,CAAb,EAAgBigB,KAAhB,GAAwB,OAAI,CAACD,OAAL,CAAahgB,CAAb,EAAgBigB,KAAhB,GAAwBoB,GAAhD;AAED,eAXH,MAWO;AACL,uBAAI,CAACrB,OAAL,CAAa5f,IAAb,CAAkB;AACH8H,0BAAQ,EAAC,OAAI,CAACsY,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4B9D,MADlC;AAEHS,uBAAK,EAAC,OAAI,CAAC2b,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4BrD,KAF/B;AAGHC,yBAAO,EAAC,OAAI,CAAC0b,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4BpD,OAHjC;AAIHC,yBAAO,EAAC,OAAI,CAACyb,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4BnD,OAJjC;AAKHT,uBAAK,EAAC,OAAI,CAACkc,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4B5D,KAA5B,CAAkCF,MALrC;AAMH8b,8BAAY,EAAC,OAAI,CAACM,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4BgY,YANtC;AAOHC,sBAAI,EAAC,OAAI,CAACK,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4BiY,IAP9B;AAQHzE,wBAAM,EAAC,OAAI,CAAC8E,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4BwT,MARhC;AASJ7R,uBAAK,EAAC,OAAI,CAAC2W,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4B2B,KAT9B;AAUJG,uBAAK,EAAC,OAAI,CAACwW,UAAL,CAAgBzf,CAAhB,EAAmBmH,QAAnB,CAA4B8B,KAV9B;AAWJiW,uBAAK,EAAC,OAAI,CAACO,UAAL,CAAgBzf,CAAhB,EAAmBT;AAXrB,iBAAlB;AAaD;;AACD,kBAAGS,CAAC,KAAK,OAAI,CAACyf,UAAL,CAAgBzW,MAAhB,GAAyB,CAAlC,EAAoC,CAClC;AACD;AAhCe;;AAElB,iBAAI,IAAIhJ,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAC,KAAKyf,UAAL,CAAgBzW,MAA/B,EAAuChJ,CAAC,EAAxC,EAA2C;AAAA,sBAAnCA,CAAmC;AA+B1C;AAEF;;;iBAED,sBAAU;AAER,gBAAG,KAAKinB,QAAR,EAAiB;AACf,mBAAKA,QAAL,GAAgB,KAAhB;AACA,mBAAKC,SAAL,GAAiB,IAAjB;AACD,aAHD,MAGK;AACH,mBAAKD,QAAL,GAAgB,IAAhB;AACA,mBAAKC,SAAL,GAAiB,KAAjB;AACD;AACF;;;iBAED,8BAAqB/f,QAArB,EAA+BrD,KAA/B,EAAoC;AAElC,gBAAI8rB,qBAAqB,GAAG,EAA5B;;AAEA,iBAAI,IAAI5vB,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAC,KAAK4f,OAAL,CAAa5W,MAA5B,EAAoChJ,CAAC,EAArC,EAAwC;AACtC,kBAAG,KAAK4f,OAAL,CAAa5f,CAAb,EAAgBqD,MAAhB,IAA0B8D,QAA1B,IAAsC,KAAKyY,OAAL,CAAa5f,CAAb,EAAgB8D,KAAhB,IAAyBA,KAAlE,EAAwE;AACtE8rB,qCAAqB,CAACvwB,IAAtB,CAA2B;AACzBgE,wBAAM,EAAC,KAAKuc,OAAL,CAAa5f,CAAb,EAAgBqD,MADE;AAEzBS,uBAAK,EAAC,KAAK8b,OAAL,CAAa5f,CAAb,EAAgB8D;AAFG,iBAA3B;AAKD;AACF;;AAED,mBAAO8rB,qBAAP;AACD;;;iBAED,cAAKC,KAAL,EAAU;AACR,iBAAK7G,KAAL,GAAa6G,KAAb;AACD;;;iBAED,gCAAoB;AACd,iBAAKrQ,aAAL;AACA,iBAAKkL,YAAL;AACA,iBAAKD,cAAL;AACA,iBAAK/W,UAAL;AACL;;;;;;;yBA5gDUmD,a,EAAa,2H,EAAA,iJ;AAAA,O;;;cAAbA,a;AAAa,iC;AAAA,kB;AAAA,gB;AAAA,21M;AAAA;AAAA;;;ADnB1B;;AACI;;AACI;;AAAoB;;AAAO;;AAC3B;;AACA;;AACA;;AACA;;AACA;;AAQA;;AAAkC;AAAA,qBAAS,IAAAiZ,WAAA,EAAT;AAAsB,aAAtB;;AAAwB;;AACtD;;AAGA;;AAGA;;AAAC;;AACL;;AAUA;;AAEA;;AAKA;AAAA,sCAA6B,KAA7B;AAAkC,aAAlC,EAAmC,uBAAnC,EAAmC;AAAA,qBACV,IAAAC,oBAAA,EADU;AACY,aAD/C,EAAmC,uBAAnC,EAAmC;AAAA,qBAEV,IAAAC,kBAAA,QAFU;AAEgB,aAFnD;;AAGA;;AAGA;;AAEA;AAAA,wCAA+B,KAA/B;AAAoC,aAApC,EAAqC,SAArC,EAAqC;AAAA,qBAC1B,IAAAtJ,gBAAA,EAD0B;AACR,aAD7B;;AAEA;;AAEA;;AACI;;AAA8B;AAAA,qBAAS,IAAAsE,gBAAA,EAAT;AAA2B,aAA3B;;AAA6B;;AAC3D;;AACI;;AACI;;AAAqB;;AAAuB;;AAC5C;;AACA;;AA0BJ;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AAAQ;AAAA,qBAAU,IAAAiF,SAAA,qBAAV;AAAwC,aAAxC;;AACJ;;AAA2B;;AAAU;;AACrC;;AAA2B;;AAAyB;;AACpD;;AAAwB;;AAAO;;AACnC;;AACJ;;AAAM;;AACN;;AACA;;AAEA;;AACA;;AAEJ;;AACA;;AAUA;;AAsHA;;AACI;;AAA8B;AAAA,qBAAS,IAAAjD,gBAAA,EAAT;AAA2B,aAA3B;;AAA6B;;AAC3D;;AACI;;AACI;;AAAuB;;AAAgB;;AACvC;;AACA;;AACI;;AAAqB;;AAAgB;;AACrC;;AACI;;AAAsB;AAAA;AAAA;;AAClB;;AACJ;;AACJ;;AACJ;;AACA;;AACJ;;AACJ;;AACJ;;AACA;;AAwCA;;AAuLJ;;AACJ;;AAGA;;AA0EA;;AAwMA;;AACI;;AAA8B;AAAA,qBAAS,IAAAE,cAAA,EAAT;AAAyB,aAAzB;;AAA2B;;AACzD;;AACI;;AACI;;AAAuB;;AAAqB;;AAC5C;;AACI;;AACI;;AACI;;AAAqB;;AAAU;;AAC/B;;AACI;;AAAmC;AAAA,qBAAU,IAAAT,mBAAA,qBAAV;AAAkD,aAAlD;;AAC/B;;AAAkB;;AAAoB;;AACtC;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAS;;AAC9B;;AACI;;AAAqC;AAAA,qBAAU,IAAAyD,qBAAA,qBAAV;AAAoD,aAApD;;AACjC;;AAAkB;;AAAmB;;AACrC;;AASJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AA0BA;;AAAyD;AAAA;;AAAA;;AAAA,qBAAS,IAAAC,SAAA,MAAT;AAA4B,aAA5B;;AAA8B;;AAAS;;AACpG;;AACJ;;AACJ;;AAEA;;AACI;;AAA8B;AAAA,qBAAS,IAAA/C,aAAA,EAAT;AAAwB,aAAxB;;AAA0B;;AACxD;;AACI;;AACI;;AAAuB;;AAAc;;AACrC;;AAGA;AAAA,qBAAY,IAAAgD,SAAA,EAAZ;AAAuB,aAAvB;;AAEA;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACA;;AACI;;AAAQ;AAAA,qBAAU,IAAAC,eAAA,qBAAV;AAA8C,aAA9C;;AACJ;;AACA;;AAAsB;;AAAK;;AAC/B;;AACJ;;AACJ;;AACJ;;AACA;;AAQJ;;AACA;;AAWA;;AAgCA;;AAsCI;;AACI;;AACI;;AACI;;AAAqB;;AAAQ;;AAC7B;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAK;;AAC1B;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAY;;AACjC;;AACI;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AACE;;AACE;;AACI;;AAAmB;;AAAG;;AACtB;;AAAoB;;AAAI;;AACxB;;AAAkB;;AAAE;;AACxB;;AACF;;AACF;;AACA;;AACE;;AACF;;AACF;;AAON;;AA0BJ;;AACA;;AAAkC;;AAAS;;AAC/C;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AAA8B;AAAA,qBAAS,IAAAC,aAAA,EAAT;AAAwB,aAAxB;;AAA0B;;AACxD;;AACI;;AACI;;AAAuB;;AAAO;;AAClB;;AACI;;AACI;;AAAI;;AAAC;;AACL;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAO;;AACX;;AAAI;;AAAe;;AACnB;;AAAI;;AAAI;;AACZ;;AACA;;AAOJ;;AAChB;;AACJ;;AACJ;;AAEA;;AACI;;AAA8B;AAAA,qBAAS,IAAA5C,aAAA,EAAT;AAAwB,aAAxB;;AAA0B;;AACxD;;AACI;;AACI;;AAGA;AAAA,qBAAY,IAAA6C,WAAA,EAAZ;AAAyB,aAAzB;;AAEA;;AAAuB;;AAAY;;AACnC;;AACI;;AAAqB;;AAAgB;;AACjC;;AACR;;AACA;;AACI;;AAAqB;;AAAQ;;AACzB;;AACI;;AAAsE;AAAA,qBAAU,IAAAC,aAAA,qBAAV;AAA4C,aAA5C;;AAClE;;AACJ;;AACJ;;AAGR;;AACA;;AACI;;AAAqB;;AAAc;;AACnC;;AACI;;AAAoE;AAAA,qBAAU,IAAAC,aAAA,qBAAV;AAA4C,aAA5C;;AAChE;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AAAqB;;AAAO;;AAC5B;;AACI;;AAAgD;AAAA,qBAAU,IAAAC,WAAA,qBAAV;AAA0C,aAA1C;;AAC5C;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AAAqB;;AAAoB;;AACrC;;AACI;;AACI;;AACJ;;AACJ;;AACR;;AACA;;AACI;;AAAqB;;AAAQ;;AACzB;;AACR;;AACA;;AACI;;AAAqB;;AAAI;;AACrB;;AACR;;AACA;;AACI;;AAAqB;;AAAY;;AACjC;;AACI;;AACI;;AAA6C;;AAA4B;;AACzE;;AAAuD;;AAAsC;;AACjG;;AACJ;;AACJ;;AACA;;AAAkC;;AAAY;;AAC9C;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AAA8B;AAAA,qBAAS,IAAAnC,gBAAA,EAAT;AAA2B,aAA3B;;AAA6B;;AAC3D;;AACI;;AACI;;AAAuB;;AAAU;;AAEjC;;AACI;;AACJ;;AACA;;AACA;;AACI;;AAAqB;;AAAY;;AACjC;;AACI;;AAAiE;AAAA,qBAAU,IAAAoC,oBAAA,qBAAV;AAAmD,aAAnD;;AAC7D;;AAA6C;;AAA4B;;AACzE;;AAAuD;;AAAsC;;AACjG;;AACJ;;AACJ;;AACA;;AACI;;AAAqB;;AAAQ;;AAC7B;;AACI;;AAAQ;AAAA,qBAAU,IAAAC,aAAA,QAAV;AAA+B,aAA/B;;AACJ;;AAAqB;;AAAmB;;AACxC;;AAIJ;;AACJ;;AACJ;;AACA;;AACI;;AAAmB;;AAAQ;;AAC3B;;AACI;;AAA6C;AAAA,qBAAU,IAAAC,IAAA,QAAV;AAAsB,aAAtB;;AAA7C;;AACJ;;AACJ;;AACA;;AACI;;AAAmB;;AAAc;;AACjC;;AACI;;AAA6C;AAAA,qBAAU,IAAA5C,OAAA,qBAAV;AAAsC,aAAtC;;AAA7C;;AACJ;;AACJ;;AACA;;AACI;;AAAmB;;AAAU;;AAC7B;;AACI;;AAA6C;AAAA,qBAAU,IAAAC,KAAA,qBAAV;AAAoC,aAApC;;AAA7C;;AACJ;;AACJ;;AACA;;AACI;;AAAmB;;AAAU;;AAC7B;;AACI;;AAA6C;AAAA,qBAAU,IAAAC,KAAA,QAAV;AAAuB,aAAvB;;AAA7C;;AACJ;;AACJ;;AACA;;AACA;;AACI;;AAAqB;;AAAW;;AAChC;;AACJ;;AACA;;AACI;;AACI;;AAAG;;AAAgB;;AAAK;;AAAU;;AAClC;;AAAkC;AAAA,qBAAS,IAAA2C,kBAAA,EAAT;AAA6B,aAA7B;;AAA+B;;AAAsB;;AAC3F;;AACJ;;AAEA;;AACI;;AACJ;;AACA;;AACA;;AACI;;AAAmB;;AAAgB;;AACnC;;AACI;;AAA6C;AAAA,qBAAU,IAAAC,MAAA,QAAV;AAAwB,aAAxB;;AAA7C;;AACJ;;AACJ;;AACA;;AACI;;AAAmB;;AAAc;;AACjC;;AACI;;AAA+C;AAAA,qBAAU,IAAAC,QAAA,QAAV;AAA0B,aAA1B;;AAA/C;;AACJ;;AACJ;;AACA;;AACI;;AAAmB;;AAAU;;AAC7B;;AACI;;AAA6C;AAAA,qBAAU,IAAAC,MAAA,QAAV;AAAwB,aAAxB;;AAA7C;;AACJ;;AACJ;;AACA;;AACI;;AAAmB;;AAAU;;AAC7B;;AACI;;AAA6C;AAAA,qBAAU,IAAAC,MAAA,QAAV;AAAwB,aAAxB;;AAA7C;;AACJ;;AACJ;;AACA;;AACA;;AACI;;AACI;;AAAG;;AAAM;;AAAK;;AAClB;;AACJ;;AAEJ;;AACJ;;AACJ;;AAKA;;AACI;;AAA8B;AAAA,qBAAS,IAAA/B,iBAAA,EAAT;AAA4B,aAA5B;;AAA+B;;AAC7D;;AACI;;AACI;;AAAI;;AAA+B;;AACnC;;AACI;;AAAqB;;AAAoB;;AACzC;;AACI;;AACJ;;AACJ;;AACA;;AAAiC;AAAA;;AAAA;;AAAA,qBAAS,IAAAgC,qBAAA,MAAT;AAAsC,aAAtC;;AAAwC;;AAAiB;;AAC9F;;AACJ;;AACJ;;AAEA;;AACI;;AAA8B;AAAA,qBAAS,IAAAxB,aAAA,EAAT;AAAwB,aAAxB;;AAA0B;;AACxD;;AACI;;AACI;;AAAsB;;AAAqB;;AAC3C;;AACA;;AACI;;AACI;;AACI;;AAAqB;;AAAM;;AAC3B;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAqB;;AAAM;;AAC3B;;AACI;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AAAkC;AAAA;;AAAA;;AAAA;;AAAA,qBAAS,IAAAyB,mBAAA,YAAT;AAA0C,aAA1C;;AAA4C;;AAAoB;;AACtG;;AACJ;;AACJ;;;;AA1uCoE;;AAAA;;AACC;;AAAA;;AACE;;AAAA;;AACH;;AAAA;;AACG;;AAAA;;AAS7C;;AAAA;;AAGA;;AAAA;;AAIL;;AAAA;;AAab;;AAAA,mGAAyB,WAAzB,EAAyB,aAAzB,EAAyB,SAAzB,EAAyB,WAAzB,EAAyB,YAAzB,EAAyB,cAAzB;;AAWA;;AAAA;;AAKmB;;AAAA;;AAMO;;AAAA;;AAsCY;;AAAA;;AACA;;AAAA;;AAEA;;AAAA;;AACA;;AAAA;;AAGpB;;AAAA;;AAUA;;AAAA;;AAsHC;;AAAA;;AASuB;;AAAA;;AACkB;;AAAA;;AAIwB;;AAAA;;AAIlE;;AAAA;;AAwCb;;AAAA;;AA2LR;;AAAA;;AA0EC;;AAAA;;AAwMa;;AAAA;;AAYgD;;AAAA;;AAWrB;;AAAA;;AAcb;;AAAA;;AA0Ba;;AAAA;;AAK3B;;AAAA;;AAOP;;AAAA;;AAWoD;;AAAA;;AAM5B;;AAAA;;AASH;;AAAA;;AAWF;;AAAA;;AAgCG;;AAAA;;AAuHf;;AAAA;;AAaa;;AAAA;;AAYb;;AAAA;;AAMP;;AAAA;;AAYuE;;AAAA;;AAUvB;;AAAA;;AAQA;;AAAA;;AAQA;;AAAA;;AA2BzC;;AAAA;;AAwBmB;;AAAA;;AAsCM;;AAAA;;AAoCV;;AAAA;;AAWf;;AAAA;;AAIH;;AAAA;;AAYG;;AAAA;;;;;;;;;wEC/rCNva,a,EAAa;gBALzB,uDAKyB;iBALf;AACTvV,oBAAQ,EAAE,UADD;AAETC,uBAAW,EAAE,uBAFJ;AAGTC,qBAAS,EAAE,CAAC,sBAAD;AAHF,W;AAKe,U;;;;;;;;;;;;;;;;;;;;;;;;ACnB1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAaa6vB,c;AAKX,gCAAmBC,IAAnB,EACoBhf,MADpB,EACmC;AAAA;;AADhB,eAAAgf,IAAA,GAAAA,IAAA;AACC,eAAAhf,MAAA,GAAAA,MAAA;AAHpB,eAAAlB,OAAA,GAAU,yEAAY/S,GAAtB;AAGsC;;;;eAItC,eAAS;AACP,mBAAOwT,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,EAAxC;AACD;;;eACD,eAAW;AACT,mBAAO;AACL,+BAAgB,KAAKyf;AADhB,aAAP;AAGA,W,CAEF;AACA;AACA;;;;iBAEA,uBAAW;AACT,gBAAMjgB,GAAG,aAAM,KAAKF,OAAX,cAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1pB,GAAV,CAAkC0J,GAAlC,CAAP;AACD;;;iBAED,sBAAahK,IAAb,EAAkC;AAChC,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,cAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAiC0N,GAAjC,EAAqChK,IAArC,CAAP;AACD;;;iBAED,wBAAeD,EAAf,EAAiB;AACf,gBAAMiK,GAAG,aAAM,KAAKF,OAAX,uBAA+B/J,EAA/B,CAAT;AACA,mBAAO,KAAKiqB,IAAL,WAAiBhgB,GAAjB,CAAP;AACD,W,CAGD;AACA;AACA;;;;iBAEA,qBAAS;AACP,gBAAMA,GAAG,aAAM,KAAKF,OAAX,YAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,oBAAWhK,IAAX,EAAmB;AACjB,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,YAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAmBhK,IAAnB,CAAP;AACD,W,CAED;AACA;AACA;;;;iBAEA,uBAAW;AACT,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,cAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,sBAAahK,IAAb,EAAiB;AACf,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,cAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAmBhK,IAAnB,CAAP;AACD,W,CAED;AACA;AACA;;;;iBAGA,sBAAU;AACR,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,gBAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,sBAAU;AACR,gBAAMA,GAAG,aAAM,KAAKF,OAAX,wBAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,qBAAYhK,IAAZ,EAAgB;AACd,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,oBAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAmBhK,IAAnB,CAAP;AACD,W,CAED;AACA;AACA;;;;iBAEA,sBAAaA,IAAb,EAAiB;AACf,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,oBAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAmBhK,IAAnB,CAAP;AACD;;;iBAED,iBAAQD,EAAR,EAAU;AACR,gBAAMiK,GAAG,aAAM,KAAKF,OAAX,wBAAgC/J,EAAhC,CAAT;AACA,mBAAO,KAAKiqB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,oBAAWjK,EAAX,EAAa;AACX,gBAAMiK,GAAG,aAAM,KAAKF,OAAX,uBAA+B/J,EAA/B,CAAT;AACA,mBAAO,KAAKiqB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAGD,mBAAUjK,EAAV,EAAY;AACV,gBAAMiK,GAAG,aAAM,KAAKF,OAAX,uBAA+B/J,EAA/B,CAAT;AACA,mBAAO,KAAKiqB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,mBAAUhK,IAAV,EAAc;AACZ,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,WAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAmBhK,IAAnB,CAAP;AACD;;;iBACD,oBAAWA,IAAX,EAAe;AACb,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,cAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAmBhK,IAAnB,CAAP;AACD;;;iBACD,sBAAaD,EAAb,EAAe;AACb,gBAAMiK,GAAG,aAAM,KAAKF,OAAX,oBAA4B/J,EAA5B,CAAT;AACA,mBAAO,KAAKiqB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBACD,oBAAQ;AACN,gBAAMA,GAAG,aAAM,KAAKF,OAAX,WAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,uBAAW;AACT,gBAAMA,GAAG,aAAM,KAAKF,OAAX,cAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,mBAAUjK,EAAV,EAAgB;AACd,gBAAMiK,GAAG,aAAM,KAAKF,OAAX,0BAAkC/J,EAAlC,CAAT;AACA,mBAAO,KAAKiqB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,qBAAYxQ,KAAZ,EAAqB;AACnB,gBAAMwQ,GAAG,aAAM,KAAKF,OAAX,aAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAmBxQ,KAAnB,CAAP;AACD;;;iBAED,qBAAYwG,IAAZ,EAAgB;AACd,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,eAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAmBhK,IAAnB,CAAP;AACD;;;iBAED,wBAAY;AACV,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,eAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBACD,uBAAchK,IAAd,EAAkB;AAChB,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,uBAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAmBhK,IAAnB,CAAP;AACD;;;iBACD,sBAAaA,IAAb,EAAiB;AACf,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,uBAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAmBhK,IAAnB,CAAP;AACD;;;iBAED,yBAAgBA,IAAhB,EAAoB;AAClB,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,YAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAmBhK,IAAnB,CAAP;AACD;;;iBACD,sBAAaA,IAAb,EAAiB;AACf,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,mBAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAoBhK,IAApB,CAAP;AACD;;;iBAED,qBAAS;AACP,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,YAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,2BAAkBhK,IAAlB,EAAsB;AACpB,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,cAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAmBhK,IAAnB,CAAP;AACD;;;iBAED,wBAAY;AACV,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,cAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,2BAAe;AACb,gBAAMA,GAAG,aAAM,KAAKF,OAAX,kBAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,eAAMhK,IAAN,EAAU;AACR,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,WAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAmBhK,IAAnB,CAAP;AACD;;;iBAED,wBAAY;AAAA;;AAGV,mBAAO,KAAKgqB,IAAL,CAAU1pB,GAAV,WAAiB,KAAKwJ,OAAtB,aAAsC;AAC3CQ,qBAAO,EAAC,KAAKA;AAD8B,aAAtC,EAEJc,IAFI,CAGL,2DAAK,UAAC1R,IAAD,EAAa;AAEhB,kCAA8IA,IAAI,CAACsD,OAAnJ;AAAA,kBAAOmJ,MAAP,iBAAOA,MAAP;AAAA,kBAAcjK,GAAd,iBAAcA,GAAd;AAAA,kBAAmBkK,MAAnB,iBAAmBA,MAAnB;AAAA,kBAA2BC,QAA3B,iBAA2BA,QAA3B;AAAA,kBAAqCC,MAArC,iBAAqCA,MAArC;AAAA,kBAA6CC,YAA7C,iBAA6CA,YAA7C;AAAA,kBAA2DC,IAA3D,iBAA2DA,IAA3D;AAAA,kBAAgEC,WAAhE,iBAAgEA,WAAhE;AAAA,kBAA4EC,QAA5E,iBAA4EA,QAA5E;AAAA,kBAAqFC,OAArF,iBAAqFA,OAArF;AAAA,kBAA6FC,UAA7F,iBAA6FA,UAA7F;AAAA,kBAAyGC,aAAzG,iBAAyGA,aAAzG;AAAA,kBAAuHC,SAAvH,iBAAuHA,SAAvH;AAAA,kBAAiIC,QAAjI,iBAAiIA,QAAjI;AAEA,qBAAI,CAAC/J,OAAL,GAAe,IAAI,6DAAJ,CAAYmJ,MAAZ,EAAoBjK,GAApB,EAAyBkK,MAAzB,EAAiCC,QAAjC,EAA2CC,MAA3C,EAAmDC,YAAnD,EAAgEC,IAAhE,EAAqEC,WAArE,EAAkFC,QAAlF,EAA4FC,OAA5F,EAAoGC,UAApG,EAA+GC,aAA/G,EAA6HC,SAA7H,EAAuIC,QAAvI,CAAf;AACAwD,0BAAY,CAAC2f,OAAb,CAAqB,OAArB,EAA8BxwB,IAAI,CAACuwB,KAAnC;AACA1f,0BAAY,CAAC2f,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAgB1wB,IAAI,CAAC2wB,IAArB,CAA7B;AACD,aAPD,CAHK,EAWL,2DAAI,UAAA3wB,IAAI;AAAA,qBAAI,IAAJ;AAAA,aAAR,CAXK,EAYL,kEAAW,UAAA4wB,KAAK;AAAA,qBAAI,gDAAG,KAAH,CAAJ;AAAA,aAAhB,CAZK,CAAP;AAeD;;;iBAED,kBAAM;AACJ/f,wBAAY,CAACggB,UAAb,CAAwB,OAAxB;AACAhgB,wBAAY,CAACggB,UAAb,CAAwB,MAAxB;AACA,iBAAKvf,MAAL,CAAYM,aAAZ,CAA0B,OAA1B;AACD;;;iBAED,qCAAyB;AACvB,gBAAMtB,GAAG,aAAM,KAAKF,OAAX,oBAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,8BAAqBhK,IAArB,EAAyB;AACvB,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,wBAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAoBhK,IAApB,CAAP;AACD;;;iBAED,0BAAiBD,EAAjB,EAAyBoI,MAAzB,EAA+B;AAC7B,gBAAM6B,GAAG,aAAM,KAAKF,OAAX,yBAAiC/J,EAAjC,CAAT;AACA,gBAAMC,IAAI,GAAG;AACXmI,oBAAM,EAANA;AADW,aAAb;AAGA,mBAAO,KAAK6hB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAoBhK,IAApB,CAAP;AACD;;;iBAED,0BAAiBD,EAAjB,EAAyBoI,MAAzB,EAA+B;AAC7B,gBAAM6B,GAAG,aAAM,KAAKF,OAAX,wBAAgC/J,EAAhC,CAAT;AACA,gBAAMC,IAAI,GAAG;AACXmI,oBAAM,EAANA;AADW,aAAb;AAGA,mBAAO,KAAK6hB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAoBhK,IAApB,CAAP;AACD;;;iBAED,2BAAkBA,IAAlB,EAAsB;AACpB,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,yBAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAoBhK,IAApB,CAAP;AACD;;;iBAED,kCAAyBA,IAAzB,EAA6B;AAC3B,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,wBAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAoBhK,IAApB,CAAP;AACD;;;iBAED,wBAAeA,IAAf,EAAmB;AACjB,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,gBAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAoBhK,IAApB,CAAP;AACD;;;iBAED,yBAAa;AACX,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,gBAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,yBAAgBjK,EAAhB,EAAkB;AAChB,gBAAMiK,GAAG,aAAM,KAAKF,OAAX,yBAAiC/J,EAAjC,CAAT;AACA,mBAAO,KAAKiqB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,yBAAgBjK,EAAhB,EAAmB0K,IAAnB,EAAuB;AACrB,gBAAMT,GAAG,aAAM,KAAKF,OAAX,yBAAiC/J,EAAjC,CAAT;AACA,mBAAO,KAAKiqB,IAAL,CAAUQ,GAAV,CAAcxgB,GAAd,EAAkBS,IAAlB,CAAP;AACD;;;iBAED,yBAAgB1K,EAAhB,EAAkB;AAChB,gBAAMiK,GAAG,aAAM,KAAKF,OAAX,yBAAiC/J,EAAjC,CAAT;AACA,mBAAO,KAAKiqB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,uBAAcjK,EAAd,EAAkB0K,IAAlB,EAAsB;AACpB,gBAAMT,GAAG,aAAM,KAAKF,OAAX,uBAA+B/J,EAA/B,CAAT;AACA,mBAAO,KAAKiqB,IAAL,CAAUQ,GAAV,CAAcxgB,GAAd,EAAkBS,IAAlB,CAAP;AACD;;;iBAED,sBAAa1K,EAAb,EAAe;AACb,gBAAMiK,GAAG,aAAM,KAAKF,OAAX,uBAA+B/J,EAA/B,CAAT;AACA,mBAAO,KAAKiqB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,oBAAWjK,EAAX,EAAe0K,IAAf,EAAmB;AACjB,gBAAMT,GAAG,aAAM,KAAKF,OAAX,uBAA+B/J,EAA/B,CAAT;AACA,mBAAO,KAAKiqB,IAAL,CAAUQ,GAAV,CAAcxgB,GAAd,EAAmBS,IAAnB,CAAP;AACD;;;iBAED,qBAAY1K,EAAZ,EAAc;AACZ,gBAAMiK,GAAG,aAAM,KAAKF,OAAX,oBAA4B/J,EAA5B,CAAT;AACA,mBAAO,KAAKiqB,IAAL,WAAiBhgB,GAAjB,CAAP;AACD;;;iBAED,6BAAoBjK,EAApB,EAAsB;AACpB,gBAAMiK,GAAG,aAAM,KAAKF,OAAX,4BAAoC/J,EAApC,CAAT;AACA,mBAAO,KAAKiqB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,wBAAehK,IAAf,EAAqBD,EAArB,EAAuB;AAErB,gBAAMiK,GAAG,aAAM,KAAKF,OAAX,uBAA+B/J,EAA/B,CAAT;AACA,mBAAO,KAAKiqB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAoBhK,IAApB,CAAP;AACD;AAED;;;;;;iBAGA,0BAAiBD,EAAjB,EAAmB;AACjB,gBAAMiK,GAAG,aAAM,KAAKF,OAAX,uBAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAUQ,GAAV,CAAcxgB,GAAd,EAAmBjK,EAAnB,CAAP;AACD;;;iBAED,2BAAkBC,IAAlB,EAAsB;AACpB,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,6BAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAUQ,GAAV,CAAcxgB,GAAd,EAAkBhK,IAAlB,CAAP;AACD;;;iBAED,iBAAQA,IAAR,EAAY;AACV,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,WAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAmBhK,IAAnB,CAAP;AACD;;;iBAED,oBAAQ;AACN,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,WAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,0BAAc;AACZ,gBAAMA,GAAG,aAAM,KAAKF,OAAX,kBAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,qBAAYjK,EAAZ,EAAc;AACZ,gBAAMiK,GAAG,aAAM,KAAKF,OAAX,oBAA4B/J,EAA5B,CAAT;AACA,mBAAO,KAAKiqB,IAAL,WAAiBhgB,GAAjB,CAAP;AACD;;;iBAED,qBAAYjK,EAAZ,EAAc;AACZ,gBAAIC,IAAI,GAAG,MAAX;AACA,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,oBAA4B/J,EAA5B,CAAT;AACA,mBAAO,KAAKiqB,IAAL,CAAUQ,GAAV,CAAcxgB,GAAd,EAAkBhK,IAAlB,CAAP;AACD;;;iBAED,oBAAQ;AACN,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,kBAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,wBAAehK,IAAf,EAAmB;AACjB,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,yBAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAmBhK,IAAnB,CAAP;AACD;;;iBAED,yBAAa;AACX,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,gBAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,uBAAcjK,EAAd,EAAkBC,IAAlB,EAAsB;AACpB,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,2BAAmC/J,EAAnC,CAAT;AACA,mBAAO,KAAKiqB,IAAL,CAAUQ,GAAV,CAAcxgB,GAAd,EAAkBhK,IAAlB,CAAP;AACD;;;iBAED,0BAAiBD,EAAjB,EAAmB;AACjB,gBAAMiK,GAAG,aAAM,KAAKF,OAAX,2BAAmC/J,EAAnC,CAAT;AACA,mBAAO,KAAKiqB,IAAL,WAAiBhgB,GAAjB,CAAP;AACD;;;iBAED,sBAAahK,IAAb,EAAiB;AACf,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,cAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAoBhK,IAApB,CAAP;AACD;;;iBAED,uBAAW;AACT,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,cAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,qBAAYjK,EAAZ,EAAeC,IAAf,EAAmB;AACjB,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,uBAA+B/J,EAA/B,CAAT;AACA,mBAAO,KAAKiqB,IAAL,CAAUQ,GAAV,CAAcxgB,GAAd,EAAkBhK,IAAlB,CAAP;AACD;;;iBAED,sBAAaD,EAAb,EAAgBC,IAAhB,EAAoB;AAClB,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,wBAAgC/J,EAAhC,CAAT;AACA,mBAAO,KAAKiqB,IAAL,CAAUQ,GAAV,CAAcxgB,GAAd,EAAkBhK,IAAlB,CAAP;AACD;;;iBAED,4BAAmBzI,KAAnB,EAAwB;AACtB,gBAAMyS,GAAG,aAAM,KAAKF,OAAX,uBAA+BvS,KAA/B,CAAT;AACA,mBAAO,KAAKyyB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,qBAAYjK,EAAZ,EAAc;AACZ,gBAAMiK,GAAG,aAAM,KAAKF,OAAX,2BAAmC/J,EAAnC,CAAT;AACA,mBAAO,KAAKiqB,IAAL,CAAU1pB,GAAV,CAAc0J,GAAd,CAAP;AACD;;;iBAED,uBAAcjK,EAAd,EAAkBC,IAAlB,EAAsB;AACpB,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,sBAA8B/J,EAA9B,CAAT;AACA,mBAAO,KAAKiqB,IAAL,CAAUQ,GAAV,CAAcxgB,GAAd,EAAkBhK,IAAlB,CAAP;AACD;;;iBAKD,2BAAkBA,IAAlB,EAAsB;AACpB,gBAAMgK,GAAG,aAAM,KAAKF,OAAX,yBAAT;AACA,mBAAO,KAAKkgB,IAAL,CAAU1tB,IAAV,CAAe0N,GAAf,EAAmBhK,IAAnB,CAAP;AACD;;;;;;;yBAnaU+pB,c,EAAc,uH,EAAA,8G;AAAA,O;;;eAAdA,c;AAAc,iBAAdA,cAAc,K;AAAA,oBAFb;;;;;wEAEDA,c,EAAc;gBAH1B,wDAG0B;iBAHf;AACVjf,sBAAU,EAAE;AADF,W;AAGe,U;;;;;;;;;;;;;;;;;;;;;;;;ACb3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,UAAMpF,MAAM,GAAU,CACpB;AACEC,YAAI,EAAC,EADP;AAEEC,iBAAS,EAAC,+DAFZ;AAGEC,gBAAQ,EAAC,CACP;AACEF,cAAI,EAAC,EADP;AAEEC,mBAAS,EAAC;AAFZ,SADO;AAHX,OADoB,CAAtB;;UAkBa6kB,kB;;;;;cAAAA;;;;2BAAAA,kB;AAAkB,S;AAAA,kBALpB,CACP,4DADO,EAEP,6DAAa1kB,QAAb,CAAsBL,MAAtB,CAFO,CAKoB;;;;4HAAlB+kB,kB,EAAkB;AAAA,oBAJ3B,4DAI2B,EAJf,4DAIe;AAAA,S;AAJf,O;;;;;wEAIHA,kB,EAAkB;gBAP9B,sDAO8B;iBAPrB;AACRzkB,wBAAY,EAAE,EADN;AAERC,mBAAO,EAAE,CACP,4DADO,EAEP,6DAAaF,QAAb,CAAsBL,MAAtB,CAFO;AAFD,W;AAOqB,U;;;;;;;;;;;;;;;;;;ACxB/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;AC6B4C;;AAAsF;;AAAkB;;;;;;AAAhG;;AAA8E;;AAAA;;;;;;AAD1F;;AACI;;AACJ;;;;;;;;AAD6C;;AAAA;;;;;;AAGzC;;AAA6E;;AAAkB;;;;;;AAAvF;;AAAqE;;AAAA;;;;;;AADjF;;AACI;;AACJ;;;;;;;;AADoC;;AAAA;;;;;;AALxC;;AACI;;AAGA;;AAGJ;;;;;;;;AANkB;;AAAA;;AAGA;;AAAA;;;;;;AALtB;;AACI;;AAQJ;;;;;;;;AARkB;;AAAA;;;;;;;;AAJH;;AAEnB;;AAAoC;AAAA;;AAAA;;AAAA;;AAAA,6EAAyD,SAAzD;AAAkE,WAAlE;;AAChC;;AAUJ;;AAER;;;;;;AAZ0B;;AAAA;;;;;;AAa1B;;AAAiE;;AAA0B;;;;;;AAA1B;;AAAA;;;;;;;;AAA2C;;AAAiE;;AAAG;;AAA6D;AAAA;;AAAA;;AAAA;;AAAA,6EAAyD,QAAzD;AAAiE,WAAjE;;AAA7D;;AAAiI;;AAAG;;AAA4D;AAAA;;AAAA;;AAAA;;AAAA,6EAAyD,OAAzD;AAAgE,WAAhE;;AAA5D;;AAA+H;;;;;;AAAjO;;AAAA;;AAAoI;;AAAA;;;;;;AAkB9T;;AACI;;AACJ;;;;;;AADI;;AAAA;;;;;;AAEJ;;AACI;;AACJ;;;;;;AAVR;;AACI;;AAAI;;;;AAA2C;;AAC/C;;AAAI;;AAAyB;;AAC7B;;AAAI;;AAA6B;;AACjC;;AAAI;;AACA;;AAGA;;AAGJ;;AACJ;;;;;;;;AAXQ;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACc;;AAAA;;AAGA;;AAAA;;;;;;AATtB;;AACA;;AAaA;;;;;;;;;;AAbI;;AAAA;;;;;;AA9BxB;;AACI;;AAA2B;;AAgB3B;;AAA0G;;AAAE;;AAAwV;;AAChc;;AACI;;AACI;;AACI;;AACI;;AAAI;;AAAK;;AACT;;AAAI;;AAAiB;;AACrB;;AAAI;;AAAqB;;AACzB;;AAAI;;AAAQ;;AAChB;;AACJ;;AACA;;AACI;;AAeJ;;AACJ;;AACJ;;AACR;;;;;;;;AA9CI;;AAAA;;AAAyC;;AAAA;;AAgB3B;;AAAA;;AAA4G;;AAAA;;AAY5F;;AAAA;;;;;;AAiCd;;AACI;;AACI;;AAAI;;AAAqB;;AACzB;;AAAI;;AAAqB;;AACzB;;AAAI;;AAAe;;AACnB;;AAAI;;AAAoB;;AAC5B;;AACJ;;;;;;AALY;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AAGZ;;AACQ;;AAAI;;AAAO;;AAAG;;AAAkB;;AAAI;;AAC5C;;;;;;AADsB;;AAAA;;;;;;AAV1B;;AACI;;AAQA;;AAGJ;;;;;;AAXkB;;AAAA;;AAQC;;AAAA;;;;;;;;AAM3B;;AAAiG;AAAA;;AAAA;;AAAA;AAAA;;AAAwB;;AAAY;;;;;;AA9EjJ;;AACI;;AACA;;AAgDA;;AACI;;AACA;;AACI;;AACI;;AACI;;AACI;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAE;;AACN;;AAAI;;AAAO;;AACf;;AACJ;;AACA;;AACI;;AAaJ;;AACJ;;AACA;;AACJ;;AACJ;;AACJ;;;;;;AA/E2B;;AAAA;;AAiDnB;;AAAA;;AAY0B;;AAAA;;AAeY;;AAAA;;;;;;;;;;UDxF7CglB,iB;AAmBX,mCAAoB3zB,GAApB,EAAwC;AAAA;;AAApB,eAAAA,GAAA,GAAAA,GAAA;AAZV,eAAAC,YAAA,GAAe,IAAI,0DAAJ,EAAf;AACA,eAAA2zB,aAAA,GAAgB,IAAI,0DAAJ,EAAhB;AAIH,eAAAhvB,QAAA,GAAmB,IAAnB;AACA,eAAAikB,SAAA,GAAoB,KAApB;AACA,eAAA/B,SAAA,GAAY,EAAZ;AACA,eAAAxmB,QAAA,GAAW,CAAX;AAKL,eAAK2F,OAAL,GAAejG,GAAG,CAACiG,OAAnB;AACA;;;;iBAEF,oBAAQ,CACP;;;iBAED,sBAAa4tB,IAAb,EAAmBzd,OAAnB,EAA4B1N,KAA5B,EAAwC;AACtC,iBAAK1I,GAAL,CAAS8zB,aAAT,CAAuB1d,OAAvB,sBAAkC1N,KAAlC,EAAyCmrB,IAAzC,GACGnxB,SADH,CACa,UAACC,IAAD,EAAY,CAEtB,CAHH;AAID;;;iBAED,gBAAOgE,CAAP,EAAQ;AACN,mBAAO2B,IAAI,CAAC4N,IAAL,CAAUvP,CAAV,CAAP;AACD;;;iBAED,qBAAS;AACP,iBAAKkiB,SAAL,GAAiB,IAAjB;AACA,iBAAKkL,cAAL;AACA,iBAAKC,eAAL;AACA,iBAAKC,eAAL;AACA,iBAAKC,cAAL;AACD;;;iBAED,gBAAOxjB,CAAP,EAASC,CAAT,EAAU;AACR,gBAAI9H,CAAC,GAAG6H,CAAC,GAAEC,CAAX;;AACA,gBAAG9H,CAAC,GAAG,CAAP,EAAS;AACP,qBAAO,CAAP;AACD,aAFD,MAEK;AACH,qBAAOA,CAAP;AACD;AAEF;;;iBAED,uBAAW;AAAA;;AACT,+DAAKhH,IAAL,CAAU;AACRC,mBAAK,EAAE,8BADC;AAERC,4BAAc,EAAE,IAFR;AAGRC,8BAAgB,EAAE,KAHV;AAIRC,+BAAiB,EAAE,QAJX;AAKRC,4BAAc;AALN,aAAV,EAMGE,IANH,CAMQ,UAACC,MAAD,EAAY;AAClB;AACA,kBAAIA,MAAM,CAACC,WAAX,EAAwB;AACtB,uBAAI,CAACtC,GAAL,CAASm0B,WAAT,CAAqB,OAAI,CAACtb,QAA1B,EACGnW,SADH,CACa,UAACC,IAAD,EAAY;AACrB,yBAAI,CAACixB,aAAL,CAAmBrzB,IAAnB;;AACA,yBAAI,CAACqC,OAAL;;AACA,qEAAKf,IAAL,CAAU,WAAV,EAAuB,EAAvB,EAA2B,SAA3B;AACD,iBALH;AAMD,eAPD,MAOO,IAAIQ,MAAM,CAACQ,QAAX,EAAqB;AAC1B,mEAAKhB,IAAL,CAAU,yBAAV,EAAqC,EAArC,EAAyC,MAAzC;AACD;AACF,aAlBD,EADS,CAoBT;AACD;;;iBAED,2BAAe;AAAA;;AACb,iBAAK7B,GAAL,CAASo0B,kBAAT,CAA4B,KAAKxb,aAAjC,EACGlW,SADH,CACa,UAACC,IAAD,EAAY;AACrB,mBAAI,IAAIhB,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACgB,IAAI,CAACgI,MAApB,EAA4BhJ,CAAC,EAA7B,EAAgC;AAC9B,qBAAI,IAAI4T,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAC5S,IAAI,CAAChB,CAAD,CAAJ,CAAQrB,QAAR,CAAiBqK,MAAhC,EAAwC4K,CAAC,EAAzC,EAA4C;AAE1C,sBAAG5S,IAAI,CAAChB,CAAD,CAAJ,CAAQrB,QAAR,CAAiBiV,CAAjB,EAAoBxU,EAApB,KAA2B,OAAI,CAAC6X,aAAnC,EACA;AACE,2BAAI,CAACkO,SAAL,CAAe9lB,IAAf,CAAoB2B,IAAI,CAAChB,CAAD,CAAJ,CAAQrB,QAAR,CAAiBiV,CAAjB,CAApB;;AACA,2BAAI,CAACuR,SAAL,CAAe9lB,IAAf,CAAoB;AAACyB,2BAAK,EAACE,IAAI,CAAChB,CAAD,CAAJ,CAAQc;AAAf,qBAApB;;AACA,2BAAI,CAACnC,QAAL,GAAgB,OAAI,CAACA,QAAL,GAAgBqC,IAAI,CAAChB,CAAD,CAAJ,CAAQrB,QAAR,CAAiBiV,CAAjB,EAAoBrU,QAApD,CAHF,CAIE;AACD;AACF;AACF;AACF,aAdH;AAeD;;;iBAED,2BAAe;AAAA;;AACb,iBAAKlB,GAAL,CAASoV,YAAT,GACG1S,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAAC0xB,UAAL,GAAkB1xB,IAAlB;AACD,aAHH;AAID;;;iBAED,yBAAgBjB,CAAhB,EAAiB;AACf4yB,iBAAK,CAAC5yB,CAAD,CAAL;AACD;;;iBAED,0BAAc;AAAA;;AACZ,iBAAK1B,GAAL,CAASub,mBAAT,CAA6B,KAAK1C,QAAlC,EACGnW,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAACskB,QAAL,GAAgBtkB,IAAI,CAACmZ,UAArB,CADqB,CAErB;AACD,aAJH;AAKD;;;iBAED,0BAAc;AAAA;;AACZ,iBAAK9b,GAAL,CAASyN,WAAT,GACG/K,SADH,CACa,UAACC,IAAD,EAAY;AACrB,qBAAI,CAAC6Y,QAAL,GAAgB7Y,IAAhB;AAEAgX,qBAAO,CAACC,GAAR,CAAY,OAAI,CAAC4B,QAAjB;AACD,aALH;AAMD;;;iBAED,mBAAO;AACL,iBAAK/C,OAAL,GAAe,KAAf;AACA,iBAAKoQ,SAAL,GAAiB,KAAjB;AACA,iBAAK/B,SAAL,GAAiB,EAAjB;AACA,iBAAKxmB,QAAL,GAAgB,CAAhB;AACA,iBAAKL,YAAL,CAAkBM,IAAlB;AACD;;;;;;;yBAlIUozB,iB,EAAiB,iJ;AAAA,O;;;cAAjBA,iB;AAAiB,qC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA,S;AAAA,iB;AAAA,e;AAAA,ksB;AAAA;AAAA;ACV9B;;AACI;;AAA8B;AAAA,qBAAS,IAAA/wB,OAAA,EAAT;AAAkB,aAAlB;;AAAoB;;AAClD;;AACI;;AACI;;AACI;;AACJ;;AACA;;AACA;;AACI;;AACI;;AAAqB;;AAAG;;AAAc;;AAC1C;;AACA;;AACI;;AAAqB;;AAAG;;AAAmE;;AAC/F;;AACA;;AACI;;AAAkC;AAAA,qBAAS,IAAAmkB,SAAA,EAAT;AAAoB,aAApB;;AAAuB;;AAAS;;AACtE;;AACJ;;AAEA;;AAkFJ;;AACJ;;AACJ;;;;AAxGmB;;AAKH;;AAAA;;AAK4B;;AAAA;;AAGA;;AAAA;;AAO3B;;AAAA;;;;;;;;;;wEDVJ4M,iB,EAAiB;gBAL7B,uDAK6B;iBALnB;AACT1wB,oBAAQ,EAAE,cADD;AAETC,uBAAW,EAAE,2BAFJ;AAGTC,qBAAS,EAAE,CAAC,0BAAD;AAHF,W;AAKmB,U;;;;;AAEnBsV,iBAAO;kBAAf;AAAe,Y;AACPG,uBAAa;kBAArB;AAAqB,Y;AACbC,kBAAQ;kBAAhB;AAAgB,Y;AACRC,oBAAU;kBAAlB;AAAkB,Y;AACVC,qBAAW;kBAAnB;AAAmB,Y;AACV9Y,sBAAY;kBAArB;AAAqB,Y;AACZ2zB,uBAAa;kBAAtB;AAAsB;;;;;;;;;;;;;;;;;;;AElBzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOapb,a;AAEX,iCAAc;AAAA;AAAG;;;;iBAEjB,oBAAQ,CACP;;;;;;;yBALUA,a;AAAa,O;;;cAAbA,a;AAAa,iC;AAAA,iB;AAAA,e;AAAA,sT;AAAA;AAAA;ACP1B;;AAIA;;AACI;;AACI;;AAGA;;AAGA;;AACI;;AACJ;;AACA;;AACI;;AACJ;;AACA;;AAGA;;AAGJ;;AACJ;;;;;;;;;wEDlBaA,a,EAAa;gBALzB,uDAKyB;iBALf;AACTvV,oBAAQ,EAAE,UADD;AAETC,uBAAW,EAAE,uBAFJ;AAGTC,qBAAS,EAAE,CAAC,sBAAD;AAHF,W;AAKe,U;;;;;;;;;;;;;;;;;;;;AEP1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACOQ;;AACI;;AACJ;;;;;;AACA;;AACI;;AACJ;;;;;;AACA;;AACI;;AACJ;;;;;;AACA;;AACI;;AACJ;;;;;;AACA;;AACI;;AACJ;;;;;;AACA;;AACI;;AACJ;;;;;;AACA;;AACI;;AACJ;;;;;;AACA;;AACI;;AACJ;;;;;;AACA;;AACI;;AACJ;;;;;;AACA;;AACI;;AACJ;;;;;;AACA;;AACI;;AACJ;;;;;;AACA;;AACI;;AACJ;;;;UDlCKqV,a;AAEX,+BAAoBxY,GAApB,EAAwC;AAAA;;AAApB,eAAAA,GAAA,GAAAA,GAAA;AAChB,eAAKiG,OAAL,GAAejG,GAAG,CAACiG,OAAnB;AACF;;;;iBAEF,oBAAQ,CACN;AACD;;;iBAKD,sBAAU,CAET;;;;;;;yBAfUuS,a,EAAa,iJ;AAAA,O;;;cAAbA,a;AAAa,iC;AAAA,iB;AAAA,gB;AAAA,unC;AAAA;AAAA;ACR1B;;AAKA;;AACI;;AACI;;AAGA;;AAGA;;AAGA;;AAGA;;AAGA;;AAGA;;AAGA;;AAGA;;AAGA;;AAGA;;AAGA;;AAGA;;AACI;;AACJ;;AACJ;;AACJ;;;;AAxC4B;;AAAA;;AAGA;;AAAA;;AAGA;;AAAA;;AAGA;;AAAA;;AAGA;;AAAA;;AAGA;;AAAA;;AAGA;;AAAA;;AAGA;;AAAA;;AAGA;;AAAA;;AAGA;;AAAA;;AAGA;;AAAA;;AAGA;;AAAA;;;;;;;;;wEDhCfA,a,EAAa;gBALzB,uDAKyB;iBALf;AACTvV,oBAAQ,EAAE,UADD;AAETC,uBAAW,EAAE,uBAFJ;AAGTC,qBAAS,EAAE,CAAC,sBAAD;AAHF,W;AAKe,U;;;;;;;;;;;;;;;;;;;;;;AER1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAaaoxB,W;;;;;cAAAA;;;;2BAAAA,W;AAAW,S;AAAA,kBALb,CACP,4DADO,EAEP,wEAFO,CAKa;;;;4HAAXA,W,EAAW;AAAA,oBAJpB,4DAIoB,EAHpB,wEAGoB;AAAA,S;AAHF,O;;;;;wEAGTA,W,EAAW;gBAPvB,sDAOuB;iBAPd;AACRtlB,wBAAY,EAAE,EADN;AAERC,mBAAO,EAAE,CACP,4DADO,EAEP,wEAFO;AAFD,W;AAOc,U;;;;;;;;;;;;;;;;;;ACbxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACMgB;;AACI;;AACI;;AACJ;;AACJ;;;;;;AANJ;;AAEI;;AAKJ;;;;;;AALS;;AAAA;;;;;;AAOL;;AACI;;AAAqB;;AAAqB;;AAC9C;;;;;;AACA;;AACI;;AAAqB;;AAAc;;AACvC;;;;;;AADyB;;AAAA;;;;;;AAEzB;;AACI;;AAAY;;AAAG;;AAAQ;;AAAI;;AAAgB;;AAC/C;;;;;;AAD+B;;AAAA;;;;;;AAkBH;;AACA;;AACA;;;;;;AADA;;AAAA;;;;;;AAEA;;AACI;;AACJ;;;;;;;;;;AADI;;AAAA;;;;;;AAEJ;;AACI;;AACJ;;;;;;;;;;AADI;;AAAA;;;;;;AAEJ;;AACI;;AACJ;;;;;;;;;;AADI;;AAAA;;;;;;AAGA;;AACI;;AACJ;;;;;;;;AADI;;AAAA;;;;;;AAEJ;;AACI;;AACJ;;;;;;;;;;;;;AADI;;AAAA;;;;;;AALR;;AACI;;AAGA;;AAIJ;;;;;;AAPkB;;AAAA;;AAGA;;AAAA;;;;;;AAMd;;AACI;;AACJ;;;;;;;;AADI;;AAAA;;;;;;AAEJ;;AACI;;AACJ;;;;;;;;AADI;;AAAA;;;;;;AALR;;AACI;;AAGA;;AAGJ;;;;;;;;AANkB;;AAAA;;AAGA;;AAAA;;;;;;AAYF;;AACD;;AACC;;;;;;AAFQ;;AACT;;AAAA;;;;;;AAFH;;AACI;;AAGJ;;;;;;;;AAHwD;;AAAA;;;;;;AAKpD;;AACI;;AACJ;;;;;;AAFQ;;AACJ;;AAAA;;;;;;AAFR;;AACI;;AAGJ;;;;;;;;AAHwD;;AAAA;;;;;;AAP5D;;AACI;;AAKA;;AAKJ;;;;;;AAVkB;;AAAA;;AAKA;;AAAA;;;;;;;;AAkBtB;;AACI;;AACA;;AAAmC;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAC/B;;AACF;;AACA;;AACN;;;;;;AALI;;AAAA;;;;;;AAFR;;AACI;;AAOJ;;;;;;;;AAPkB;;AAAA;;;;;;;;AAnEtC;;AACI;;AACI;;AACI;;AACI;;AAAsB;;AAGlB;;AACA;;AAEe;;AACf;;AAGA;;AAGA;;AAGA;;AASA;;AASJ;;AAAI;;AACJ;;AACI;;AACI;;AAAc;AAAA;;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AACV;;AAAkB;;AAAgB;;AAClC;;AAYJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AAEI;;AACI;;AACI;;AASJ;;AACA;;AACI;;AACJ;;AACJ;;AACA;;AACA;;AACA;;AACA;;AACA;;AACI;;AAAoB;;AAAU;;AAClC;;AAGJ;;AACJ;;AACJ;;;;;;;;;;;AApFoB;;AAAA;;AACc;;AAAA;;AAGA;;AAAA;;AAGA;;AAAA;;AAGA;;AAAA;;AAGA;;AAAA;;AASA;;AAAA;;AAcQ;;AAAA;;AAuBR;;AAAA;;AAWd;;AAAA;;AAGH;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACmB;;AAAA;;;;;;AAmBJ;;AAEI;;AACJ;;;;;;AAHQ;;AAEJ;;AAAA;;;;;;AAHR;;AACI;;AAIJ;;;;;;AAJwD;;AAAA;;;;;;;;AAiB5D;;AACI;;AACA;;AAAmC;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAC/B;;AACF;;AACA;;AACN;;;;;;AALI;;AAAA;;;;;;AAFR;;AACI;;AAOJ;;;;;;AAPkB;;AAAA;;;;;;;;AA5BtC;;AACI;;AAEI;;AACI;;AACI;;AAAqB;;AAAG;;AAA2D;;AAAI;;AACvF;;AACI;;AACI;;AAAc;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA,yEAAgD,wBAAhD,EAA0E,GAA1E,EAA+E,QAAF,QAA7E,EAA8F,mBAA9F,EAAiH,iBAAjH,EAAiI,OAAjI,EAAyI,OAAzI,EAAgJ,QAAhJ;AAAgJ,WAAhJ;;AACV;;AAAkB;;AAAgB;;AAClC;;AAMJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AAEI;;AACI;;AACI;;AASJ;;AACA;;AACI;;AACJ;;AACJ;;AACA;;AACA;;AACA;;AACA;;AACA;;AACI;;AAAoB;;AAAU;;AAClC;;AAGJ;;AACJ;;AACJ;;;;;;;;AA/CwC;;AAAA;;AAKE;;AAAA;;AAiBR;;AAAA;;AAWd;;AAAA;;AAGH;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACmB;;AAAA;;;;;;;;AAW5C;;AACI;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA,+EAAmD,CAAnD,EAAsD,QAAF,IAApD;AAAoD,WAApD;;AAAkE;;AAAS;;AACjH;;;;;;;;AACA;;AACI;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA,+EAAmD,CAAnD;AAAoD,WAApD;;AAAuD;;AAAS;;AACtG;;;;;;AA3KJ;;AACI;;AAGA;;AAGA;;AAGA;;AACI;;AACI;;AACI;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAO;;AACf;;AACJ;;AACA;;AACI;;AA4FA;;AAqDJ;;AACJ;;AACA;;AACA;;AAGA;;AAGJ;;;;;;;;;AA3KkB;;AAAA;;AAGA;;AAAA;;AAGA;;AAAA;;AAWF;;AAAA;;AA4FA;;AAAA;;AAwDE;;AAAA;;AAGA;;AAAA;;;;;;;;;;UD3KjBslB,mB;AAeX,qCAAoBx0B,GAApB,EAAwC;AAAA;;AAApB,eAAAA,GAAA,GAAAA,GAAA;AATV,eAAAC,YAAA,GAAe,IAAI,0DAAJ,EAAf;AACA,eAAAw0B,qBAAA,GAAwB,IAAI,0DAAJ,EAAxB;AACA,eAAAC,qBAAA,GAAwB,IAAI,0DAAJ,EAAxB;AAEH,eAAAC,OAAA,GAAc,EAAd;AACA,eAAAC,KAAA,GAAQ,EAAR;AACA,eAAAC,aAAA,GAAgB,EAAhB;AAGoC;;;;iBAE3C,oBAAQ;AACN,iBAAKC,iBAAL;AAED;;;iBAED,mBAAO;AACL,iBAAKF,KAAL,GAAa,EAAb;AACA,iBAAKhK,UAAL,GAAkB,KAAlB;AACA,iBAAK3qB,YAAL,CAAkBM,IAAlB;AACD;;;iBAED,6BAAiB;AAAA;;AACf,iBAAKP,GAAL,CAAS+0B,QAAT,GACCryB,SADD,CACW,UAACC,IAAD,EAAY;AACrB,mBAAI,IAAIhB,CAAC,GAAE,CAAX,EAAcA,CAAC,GAACgB,IAAI,CAACgI,MAArB,EAA4BhJ,CAAC,EAA7B,EAAgC;AAC9B,uBAAI,CAACogB,SAAL,CAAe/gB,IAAf,CAAoB2B,IAAI,CAAChB,CAAD,CAAxB,EAD8B,CAE9B;;AACD,eAJoB,CAKrB;;AACD,aAPD;AAQD;;;iBAED,gBAAOmH,QAAP,EAAe;AACb,gBAAIwT,MAAM,GAAG,KAAKiF,OAAL,CAAa5gB,IAAb,CAAkB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACoE,MAAF,KAAa8D,QAAjB;AAAA,aAAnB,CAAb;AAEA,mBAAOwT,MAAM,CAACA,MAAd;AACD;;;iBAED,eAAMS,IAAN,EAAmBG,KAAnB,EAAiC3b,KAAjC,EAAsC;AAEpCoY,mBAAO,CAACC,GAAR;AACAmD,gBAAI,GAAGzU,IAAI,CAAC4N,IAAL,CAAU6G,IAAV,CAAP;AACA,iBAAK4X,OAAL,CAAa3zB,IAAb,CAAkB;AAChBE,sBAAQ,EAACuQ,MAAM,CAACyL,KAAK,GAAGH,IAAT,CADC;AAEhBxb,mBAAK,EAALA;AAFgB,aAAlB,EAJoC,CASpC;AACA;AACA;;AACA,mBAAOwb,IAAP;AACD;;;iBAED,iBAAQxb,KAAR,EAAa;AACX,gBAAIyzB,KAAK,GAAG,KAAKL,OAAL,CAAah0B,IAAb,CAAkB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACW,KAAF,IAAWA,KAAf;AAAA,aAAnB,CAAZ,CADW,CAEX;;AACA,gBAAGyzB,KAAH,EAAS;AACP,qBAAO,IAAP;AACD,aAFD,MAGI;AACF,qBAAO,KAAP;AACD;AACF;;;iBAED,oBAAWlsB,QAAX,EAAmB;AACjB,gBAAIsoB,SAAS,GAAG,CAAhB;AACA,gBAAID,UAAU,GAAG,KAAKyD,KAAL,CAAWpkB,MAAX,CAAkB,UAAA5P,CAAC;AAAA,qBAAIA,CAAC,CAACkI,QAAF,KAAeA,QAAnB;AAAA,aAAnB,CAAjB;;AAEA,gBAAGqoB,UAAU,CAACxmB,MAAX,GAAoB,CAAvB,EAAyB;AACvB;AACA,mBAAI,IAAIhJ,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACwvB,UAAU,CAACxmB,MAA1B,EAAkChJ,CAAC,EAAnC,EAAsC;AACpC,oBAAGwvB,UAAU,CAACxvB,CAAD,CAAV,CAAcT,QAAjB,EAA0B;AACxBkwB,2BAAS,GAAGA,SAAS,GAAG3f,MAAM,CAAC0f,UAAU,CAACxvB,CAAD,CAAV,CAAc0O,UAAf,CAA9B;AACD;;AACD8gB,0BAAU,CAACxvB,CAAD,CAAV,CAAcszB,SAAd;;AAEA,oBAAGtzB,CAAC,IAAIwvB,UAAU,CAACxmB,MAAX,GAAkB,CAA1B,EAA4B;AAC1B,yBAAOymB,SAAP;AACD;AACF;AACF,aAZD,MAYK;AACH,qBAAO,CAAP;AACD;AAEF;;;iBAED,mBAAUzqB,CAAV,EAAahF,CAAb,EAAc;AACZ,iBAAKgzB,OAAL,CAAa3zB,IAAb,CAAkB;AAChBE,sBAAQ,EAACuQ,MAAM,CAAC9K,CAAD,CADC;AAEhBpF,mBAAK,EAACI;AAFU,aAAlB;AAKAgY,mBAAO,CAACC,GAAR,CAAY,KAAK+a,OAAL,CAAahzB,CAAb,EAAgBT,QAA5B;AACA,mBAAO,KAAKyzB,OAAL,CAAahzB,CAAb,EAAgBT,QAAvB;AACD;;;iBAED,cAAKQ,CAAL,EAAOH,KAAP,EAAcf,KAAd,EAAqBsI,QAArB,EAA+BnH,CAA/B,EAAkCuV,KAAlC,EAAyChS,KAAzC,EAAgDhE,QAAhD,EAAyDg0B,UAAzD,EAAoE5Y,MAApE,EAA2EY,KAA3E,EAAiF;AAAA;;AAE/E;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAIA,gBAAIiS,OAAO,GAAGztB,CAAC,CAACqU,KAAF,CAAQ,GAAR,CAAd;AACArU,aAAC,GAAGytB,OAAO,CAAC,CAAD,CAAX;AACA,gBAAIlqB,MAAM,GAAGkqB,OAAO,CAAC,CAAD,CAApB;AAGA,gBAAInN,SAAS,GAAG,KAAKZ,UAAL,CAAgBzgB,IAAhB,CAAqB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACkI,QAAF,CAAW9D,MAAX,KAAsB8D,QAAtB,IAAkClI,CAAC,CAACuZ,IAAF,KAAWzY,CAA7C,IAAkDd,CAAC,CAACqE,MAAF,KAAaA,MAAnE;AAAA,aAAtB,CAAhB;AACA0U,mBAAO,CAACC,GAAR,CAAYoI,SAAZ,EAAuB,MAAvB;AACA,gBAAImT,KAAK,GAAGnT,SAAS,CAAClZ,QAAV,CAAmB3D,GAA/B;;AACA,gBAAIiwB,SAAJ,CAvD+E,CAyD/E;;;AAEA,gBAAGlwB,KAAK,KAAK,OAAb,EAAqB;AACnBkwB,uBAAS,GAAIF,UAAU,GAAGhe,KAAd,GAAuB,IAAnC,CADmB,CAEnB;AACA;AACA;AACA;AACD,aAND,MAMM,IAAGhS,KAAK,KAAK,QAAV,IAAsBA,KAAK,KAAK,eAAnC,EAAmD;AACvDkwB,uBAAS,GAAIF,UAAU,GAAGhe,KAAd,GAAuB,IAAnC;AACD,aAFK,MAEA,IAAGhS,KAAK,KAAK,MAAV,IAAoBA,KAAK,KAAK,UAAjC,EAA4C;AAChDkwB,uBAAS,GAAIF,UAAU,GAAGhe,KAAd,GAAuB,IAAnC;;AACA,kBAAGge,UAAU,GAAG,CAAhB,EAAkB;AAChBE,yBAAS,GAAG,CAAZ;AACD;AACF,aALK,MAKA,IAAGlwB,KAAK,KAAK,kBAAb,EAAgC;AACpCkwB,uBAAS,GAAIF,UAAU,GAAGhe,KAAd,GAAuB,IAAnC;AACD,aAFK,MAEA,IAAGhS,KAAK,KAAK,kBAAb,EAAgC;AACpCkwB,uBAAS,GAAGl0B,QAAQ,GAAGg0B,UAAvB,CADoC,CAExB;;AACZ,kBAAGh0B,QAAQ,KAAK,CAAhB,EAAkB;AAChBk0B,yBAAS,GAAGF,UAAZ;AACD,eALmC,CAMpC;AACA;;AACD,aARK,MAQA,IAAGhwB,KAAK,KAAK,mBAAV,IAAiCA,KAAK,KAAK,mBAA9C,EAAkE;AACtE,kBAAG,CAAC,KAAKmwB,OAAL,CAAa9zB,KAAb,CAAJ,EAAwB;AACtB6zB,yBAAS,GAAGF,UAAU,GAAG,GAAzB;AACD,eAFD,MAEK;AACHE,yBAAS,GAAG,KAAKT,OAAL,CAAazX,KAAb,EAAoBhc,QAAhC;AACD;AACF,aANK,MAMA,IAAGgE,KAAK,KAAK,UAAb,EAAwB;AAC5BkwB,uBAAS,GAAG,CAAZ;AACD;;AAEDA,qBAAS,GAAG3jB,MAAM,CAAC2jB,SAAD,CAAN,CAAkB5Y,OAAlB,CAA0B,CAA1B,CAAZ,CA5F+E,CA8F/E;;AAGA,gBAAI8Y,gBAAgB,GAAOF,SAAS,IAAIpT,SAAS,CAAClZ,QAAV,CAAmBiY,IAAnB,GAA0B,KAAKwU,UAAL,CAAgBzsB,QAAhB,CAA9B,CAApC,CAjG+E,CAkG/E;AAEA;;;AAGAwsB,4BAAgB,GAAI7jB,MAAM,CAAC6jB,gBAAD,CAAP,CAA2B9Y,OAA3B,CAAmC,CAAnC,CAAnB;AACAwF,qBAAS,CAAC9gB,QAAV,GAAqB8gB,SAAS,CAAC9gB,QAA/B;AAEA,gBAAIs0B,WAAW,GAAGxT,SAAS,CAAC9gB,QAA5B;;AAEA,gBAAGgE,KAAK,KAAK,MAAb,EAAoB;AAClBswB,yBAAW,GAAGxT,SAAS,CAAClZ,QAAV,CAAmBiY,IAAjC;;AACA,kBAAGmU,UAAU,GAAG,CAAhB,EAAkB;AAChBM,2BAAW,GAAG,CAAd;AACD;AACF;;AAGD,gBAAIC,MAAM,GAAG,KAAKb,KAAL,CAAWpkB,MAAX,CAAkB,UAAA5P,CAAC;AAAA,qBAAIA,CAAC,CAACe,CAAF,KAAQA,CAAZ;AAAA,aAAnB,CAAb;;AAEA,gBAAGqgB,SAAS,CAAClZ,QAAV,CAAmB5D,KAAnB,CAAyBF,MAAzB,KAAoC,kBAApC,IAA0DxE,KAAK,CAACuE,OAAnE,EAA2E;AACzEuwB,8BAAgB,GAAEF,SAAS,GAAG,KAAKG,UAAL,CAAgBzsB,QAAhB,CAA9B;AACD,aAFD,MAEM,IAAGkZ,SAAS,CAAClZ,QAAV,CAAmB5D,KAAnB,CAAyBF,MAAzB,KAAoC,UAApC,IAAkDxE,KAAK,CAACuE,OAA3D,EAAmE;AACvEuwB,8BAAgB,GAAGpe,KAAK,GAAG,KAAKqe,UAAL,CAAgBzsB,QAAhB,CAA3B,CADuE,CAEvE;AACD,aAHK,MAID,IAAGkZ,SAAS,CAAClZ,QAAV,CAAmB5D,KAAnB,CAAyBF,MAAzB,KAAoC,UAApC,IAAkD,CAACxE,KAAK,CAACuE,OAA5D,EAAoE;AACrEuwB,8BAAgB,GAAGJ,UAAU,GAAG,KAAKK,UAAL,CAAgBzsB,QAAhB,CAAhC,CADqE,CAErE;AACH;;AACD,gBAAGkZ,SAAS,CAAClZ,QAAV,CAAmB5D,KAAnB,CAAyBF,MAAzB,KAAoC,OAApC,IAA+Cgd,SAAS,CAAClZ,QAAV,CAAmB5D,KAAnB,CAAyBF,MAAzB,KAAoC,UAAtF,EAAiG;AAC/FswB,8BAAgB,GAAGF,SAAS,GAAG,KAAKG,UAAL,CAAgBzsB,QAAhB,CAA/B;AACAwsB,8BAAgB,GAAIA,gBAAD,CAAmB9Y,OAAnB,CAA2B,CAA3B,CAAnB,CAF+F,CAG/F;AACD;;AAED,gBAAGwF,SAAS,CAAClZ,QAAV,CAAmB5D,KAAnB,CAAyBF,MAAzB,KAAoC,MAAvC,EAA8C;AAC5C,kBAAGkwB,UAAU,GAAG,CAAhB,EAAkB;AAChBI,gCAAgB,GAAG,CAAnB;AACD,eAFD,MAEK;AACHA,gCAAgB,GAAGhtB,IAAI,CAAC4N,IAAL,CAAUof,gBAAV,CAAnB;AACD;AACF;;AACD,gBAAGtT,SAAS,CAAClZ,QAAV,CAAmBwT,MAAnB,IAA6B,KAAhC,EAAsC;AACpCgZ,8BAAgB,GAAGhtB,IAAI,CAAC4N,IAAL,CAAUof,gBAAV,CAAnB;AACD,aA/I8E,CAiJ/E;AAEA;AACA;AACA;AAEA;;;AAGA,gBAAGtT,SAAS,CAAClZ,QAAV,CAAmBgY,YAAnB,KAAoC,QAApC,IAAgDkB,SAAS,CAAClZ,QAAV,CAAmBgY,YAAnB,KAAoC,QAAvF,EAAgG;AAC9FkB,uBAAS,CAAClZ,QAAV,CAAmBgY,YAAnB,GAAkC,MAAlC;AACD;;AACD,gBAAGkB,SAAS,CAAClZ,QAAV,CAAmB5D,KAAnB,CAAyBF,MAAzB,KAAoC,OAAvC,EAA+C;AAC7Cgd,uBAAS,CAAClZ,QAAV,CAAmBgY,YAAnB,GAAkC,IAAlC;AACD;;AACDta,oBAAQ,CAACC,cAAT,qBAAqClF,KAArC,cAA8CI,CAA9C,GAAmDsF,SAAnD,aAAkEquB,gBAAlE,cAAsFtT,SAAS,CAAClZ,QAAV,CAAmBgY,YAAzG;AACAta,oBAAQ,CAACC,cAAT,uBAAuClF,KAAvC,cAAgDI,CAAhD,GAAqDsF,SAArD,aAAoE+a,SAAS,CAAC9gB,QAA9E,cAA0F8gB,SAAS,CAAClZ,QAAV,CAAmBgY,YAA7G;AAGA,gBAAI1J,QAAQ,GAAQ4K,SAAS,CAAC9gB,QAAV,GAAqBo0B,gBAAzC;AACAle,oBAAQ,GAAIA,QAAD,CAAWoF,OAAX,CAAmB,CAAnB,CAAX;AACA,gBAAIkZ,QAAQ,aAAM1T,SAAS,CAAC9gB,QAAhB,cAA4Bo0B,gBAA5B,cAAgDle,QAAhD,CAAZ,CAtK+E,CAuK/E;;AAEA,gBAAIue,mBAAJ;;AAEA,gBAAGve,QAAQ,GAAG,CAAd,EAAgB;AACdA,sBAAQ,GAAG9O,IAAI,CAACC,GAAL,CAAS6O,QAAT,CAAX;AACA5Q,sBAAQ,CAACC,cAAT,oBAAoClF,KAApC,cAA6CI,CAA7C,GAAkDsF,SAAlD,oCACiBmQ,QADjB;AAGA5Q,sBAAQ,CAACC,cAAT,sBAAsClF,KAAtC,cAA+CI,CAA/C,GAAoDoY,KAApD,CAA0DC,OAA1D,GAAoE,OAApE;AAEA,kBAAI4b,KAAK,GAAGpvB,QAAQ,CAACC,cAAT,sBAAsClF,KAAtC,cAA+CI,CAA/C,EAAZ;AAEAg0B,iCAAmB,GAAG3T,SAAS,CAAC9gB,QAAhC;;AACA00B,mBAAK,CAACC,OAAN,GAAgB;AAAA,uBAAM,OAAI,CAACC,QAAL,CAAcX,KAAd,EAAoBK,WAApB,EAAgC9zB,CAAhC,EAAkCuD,MAAlC,EAA0C,CAA1C,EAA6CtD,CAA7C,EAAiDqgB,SAAS,CAAC9gB,QAAV,GAAmB8gB,SAAS,CAAClZ,QAAV,CAAmBiY,IAAvF,EAA8F3J,QAA9F,EAAuGue,mBAAvG,EAA4HrZ,MAA5H,EAAoI8Y,SAApI,EAA+ItsB,QAA/I,CAAN;AAAA,eAAhB;AAED,aAZD,MAYK;AACHtC,sBAAQ,CAACC,cAAT,sBAAsClF,KAAtC,cAA+CI,CAA/C,GAAoDoY,KAApD,CAA0DC,OAA1D,GAAoE,MAApE;AACAxT,sBAAQ,CAACC,cAAT,oBAAoClF,KAApC,cAA6CI,CAA7C,GAAkDsF,SAAlD,4BAAgFmQ,QAAhF,cAA4F4K,SAAS,CAAClZ,QAAV,CAAmBgY,YAA/G;AAEA6U,iCAAmB,GAAG3T,SAAS,CAAC9gB,QAAV,GAAqBkW,QAA3C;AACA,kBAAItW,MAAM,GAAG,KAAK8zB,KAAL,CAAWj0B,IAAX,CAAgB,UAAAC,CAAC;AAAA,uBAAIA,CAAC,CAACuZ,IAAF,KAAWzY,CAAf;AAAA,eAAjB,CAAb;;AAEA,kBAAG,CAACZ,MAAJ,EAAW;AACT,qBAAK8zB,KAAL,CAAW5zB,IAAX,CAAgB;AAACm0B,uBAAK,EAALA,KAAD;AAAOK,6BAAW,EAAXA,WAAP;AAAmBrb,sBAAI,EAACzY,CAAxB;AAA0BuD,wBAAM,EAACA,MAAjC;AAAwCsd,uBAAK,EAACnL,QAA9C;AAAuDzV,mBAAC,EAADA,CAAvD;AAAyD0O,4BAAU,EAAC2R,SAAS,CAAC9gB,QAA9E;AAAuF8uB,4BAAU,EAAC2F,mBAAlG;AAAsHrZ,wBAAM,EAANA;AAAtH,iBAAhB;AACD,eAFD,MAGI;AACF,qBAAKsY,KAAL,CAAW5zB,IAAX,CAAgB;AAACm0B,uBAAK,EAALA,KAAD;AAAOK,6BAAW,EAAXA,WAAP;AAAmBrb,sBAAI,EAACzY,CAAxB;AAA0BuD,wBAAM,EAANA,MAA1B;AAAiCsd,uBAAK,EAACnL,QAAvC;AAAgDzV,mBAAC,EAADA,CAAhD;AAAkD0O,4BAAU,EAAC2R,SAAS,CAAC9gB,QAAvE;AAAgF8uB,4BAAU,EAAC2F,mBAA3F;AAA+GrZ,wBAAM,EAANA;AAA/G,iBAAhB;AACD;;AAED3C,qBAAO,CAACC,GAAR,CAAY,KAAKgb,KAAjB;AACD;AAIF;;;iBAED,kBAASO,KAAT,EAAeK,WAAf,EAA2Brb,IAA3B,EAAgClV,MAAhC,EAAwCkd,KAAxC,EAA+CxgB,CAA/C,EAAkD0O,UAAlD,EAA8D+G,QAA9D,EAAuE4Y,UAAvE,EAAkF1T,MAAlF,EAAyFpb,QAAzF,EAAmG4H,QAAnG,EAA4G;AAE1G,gBAAIhI,MAAM,GAAG,KAAK8zB,KAAL,CAAWj0B,IAAX,CAAgB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACuZ,IAAF,IAAUA,IAAd;AAAA,aAAjB,CAAb;;AAEE,gBAAG,CAACrZ,MAAJ,EAAW;AACT,mBAAK8zB,KAAL,CAAW5zB,IAAX,CAAgB;AAACm0B,qBAAK,EAALA,KAAD;AAAOK,2BAAW,EAAXA,WAAP;AAAmBrb,oBAAI,EAAJA,IAAnB;AAAwBlV,sBAAM,EAANA,MAAxB;AAA+Bsd,qBAAK,EAACJ,KAArC;AAA2CxgB,iBAAC,EAADA,CAA3C;AAA6C0O,0BAAU,EAAVA,UAA7C;AAAwD+G,wBAAQ,EAACA,QAAjE;AAA0E4Y,0BAAU,EAAVA,UAA1E;AAAqF1T,sBAAM,EAANA,MAArF;AAA4Fpb,wBAAQ,EAARA,QAA5F;AAAqG4H,wBAAQ,EAARA;AAArG,eAAhB,EADS,CAET;AACD,aAHD,MAIG;AACH,mBAAK8rB,KAAL,CAAW5zB,IAAX,CAAgB;AAACm0B,qBAAK,EAALA,KAAD;AAAOK,2BAAW,EAAXA,WAAP;AAAmBrb,oBAAI,EAAJA,IAAnB;AAAwBlV,sBAAM,EAANA,MAAxB;AAA+Bsd,qBAAK,EAACJ,KAArC;AAA2CxgB,iBAAC,EAADA,CAA3C;AAA6C0O,0BAAU,EAAVA,UAA7C;AAAwD+G,wBAAQ,EAACA,QAAjE;AAA0E4Y,0BAAU,EAAVA,UAA1E;AAAqF1T,sBAAM,EAANA,MAArF;AAA4Fpb,wBAAQ,EAARA,QAA5F;AAAqG4H,wBAAQ,EAARA;AAArG,eAAhB,EADG,CAEH;AACA;AACC,aAZuG,CAcxG;;AAEH;;;iBAED,wBAAelI,CAAf,EAAgB;AAEd,gBAAIgnB,KAAK,GAAG,KAAKgN,KAAL,CAAWjqB,MAAvB;AACA,gBAAIkW,KAAK,GAAG,CAAZ;;AAEA,iBAAI,IAAIlf,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAACimB,KAAjB,EAAwBjmB,CAAC,EAAzB,EAA4B;AAC1B,kBAAG,KAAKizB,KAAL,CAAWjzB,CAAX,EAAcA,CAAd,IAAmBf,CAAtB,EAAwB;AACtBigB,qBAAK;AACN;AACF;;AAED,mBAAOA,KAAP;AAED;;;iBAED,oBAAW1G,IAAX,EAAe;AACb,gBAAI5Y,KAAK,GAAG,KAAKqzB,KAAL,CAAWpzB,SAAX,CAAqB,UAAAZ,CAAC;AAAA,qBAAIA,CAAC,CAACuZ,IAAF,KAAWA,IAAf;AAAA,aAAtB,CAAZ;AAEA,iBAAKya,KAAL,CAAWnzB,MAAX,CAAkBF,KAAlB,EAAwB,CAAxB;AACD;;;iBAED,gBAAOf,KAAP,EAAc0Q,SAAd,EAAwB3P,KAAxB,EAA8BoF,CAA9B,EAAgCovB,KAAhC,EAAsC;AAAA;;AAEpC,gBAAInrB,KAAK,GAAGsG,SAAS,CAACvG,MAAtB;;AAEA,gBAAGuG,SAAS,IAAI,CAAhB,EAAkB;AAChBA,uBAAS,gBAASA,SAAT,CAAT;AACD;;AACD,gBAAGA,SAAS,IAAI,CAAhB,EAAkB;AAChBA,uBAAS,eAAQA,SAAR,CAAT;AACD;;AACD,gBAAGA,SAAS,IAAI,CAAhB,EAAkB;AAChBA,uBAAS,cAAOA,SAAP,CAAT;AACD;;AAED,gBAAI8kB,UAAU,GAAG,KAAKjU,SAAL,CAAexgB,KAAf,EAAsBN,QAAtB,CAA+B2E,UAA/B,CAA0C,KAAKmc,SAAL,CAAexgB,KAAf,EAAsByP,OAAhE,CAAjB,CAdoC,CAepC;;AACA,gBAAIilB,QAAQ,GAAG,KAAKrB,KAAL,CAAWjqB,MAA1B;;AAhBoC,2CAmB5BhJ,CAnB4B;AAoBlC,kBAAIb,MAAM,GAAG,QAAI,CAAC8zB,KAAL,CAAWj0B,IAAX,CAAgB,UAAAC,CAAC;AAAA,uBAAIA,CAAC,CAACe,CAAF,KAAQA,CAAZ;AAAA,eAAjB,CAAb,CApBkC,CAqBlC;;;AACA,kBAAG,CAACb,MAAJ,EAAW;AACT;AACA;AACA,mEAAKe,IAAL,CAAU;AACRM,sBAAI,EAAE,OADE;AAERL,uBAAK,EAAE,SAFC;AAGRgB,sBAAI,EAAE,oDAHE;AAIRC,mCAAiB,EAAE,KAJX;AAKR2G,uBAAK,EAAC;AALE,iBAAV;AAOA;AAAA;AAAA;AACD,eAXD,MAWK;AACH;AACA;AACA,oBAAGssB,UAAU,CAACr0B,CAAD,CAAV,CAAcV,QAAd,CAAuBiE,KAAvB,CAA6BF,MAA7B,KAAwC,kBAAxC,IAA8D,CAAC+wB,KAAlE,EAAwE;AACtE,sBAAIG,OAAO,GAAG,QAAI,CAACtB,KAAL,CAAWj0B,IAAX,CAAgB,UAAAC,CAAC;AAAA,2BAAIA,CAAC,CAACe,CAAF,KAAQ,GAAZ;AAAA,mBAAjB,CAAd;;AACA,sBAAG,CAACu0B,OAAJ,EAAY;AACV;AACA,uEAAKr0B,IAAL,CAAU;AACRM,0BAAI,EAAE,OADE;AAERL,2BAAK,EAAE,SAFC;AAGRgB,0BAAI,EAAE,oDAHE;AAIRC,uCAAiB,EAAE,KAJX;AAKR2G,2BAAK,EAAC;AALE,qBAAV;AAOA;AAAA;AAAA;AACD;AACF;AACF;AAlDiC;;AAmBpC,iBAAI,IAAI/H,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAACq0B,UAAU,CAACrrB,MAA5B,EAAoChJ,CAAC,EAArC,EAAwC;AAAA,kCAAhCA,CAAgC;;AAAA;AAiCvC;;AAED,gBAAIsH,IAAI,GAAG;AACT2e,mBAAK,EAAC,KAAKgN,KADF;AAETp0B,mBAAK,EAALA,KAFS;AAGT0Q,uBAAS,EAATA,SAHS;AAITvK,eAAC,EAADA,CAJS;AAKTovB,mBAAK,EAALA;AALS,aAAX,CAtDoC,CA8DpC;AAEA;;AACA,iBAAK/1B,GAAL,CAASm2B,wBAAT,CAAkCltB,IAAlC,EACEvG,SADF,CACY,UAAAC,IAAI,EAAG;AAChB,iEAAKd,IAAL,CAAU;AACRM,oBAAI,EAAE,SADE;AAEPL,qBAAK,EAAE,YAFA;AAGPgB,oBAAI,EAAE,iCAHC;AAIPC,iCAAiB,EAAE,KAJZ;AAKP2G,qBAAK,EAAC;AALC,eAAV;;AAOD,sBAAI,CAACzJ,YAAL,CAAkBM,IAAlB;;AACA,sBAAI,CAACk0B,qBAAL,CAA2Bl0B,IAA3B;AACD,aAXD;AAaD;;;;;;;yBAxaUi0B,mB,EAAmB,iJ;AAAA,O;;;cAAnBA,mB;AAAmB,uC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA,gB;AAAA,e;AAAA,yrB;AAAA;AAAA;ACVhC;;AACI;;AAA8B;AAAA,qBAAS,IAAA5xB,OAAA,EAAT;AAAkB,aAAlB;;AAAoB;;AAClD;;AACI;;AACI;;AAQA;;AA6KJ;;AACJ;;AACJ;;;;AA3LmB;;AAIO;;AAAA;;AAQU;;AAAA;;;;;;;;;wEDFvB4xB,mB,EAAmB;gBAL/B,uDAK+B;iBALrB;AACTvxB,oBAAQ,EAAE,gBADD;AAETC,uBAAW,EAAE,6BAFJ;AAGTC,qBAAS,EAAE,CAAC,4BAAD;AAHF,W;AAKqB,U;;;;;AAErB4e,mBAAS;kBAAjB;AAAiB,Y;AACT6I,oBAAU;kBAAlB;AAAkB,Y;AACVrJ,iBAAO;kBAAf;AAAe,Y;AACPH,oBAAU;kBAAlB;AAAkB,Y;AACTnhB,sBAAY;kBAArB;AAAqB,Y;AACZw0B,+BAAqB;kBAA9B;AAA8B,Y;AACrBC,+BAAqB;kBAA9B;AAA8B;;;;;;;;;;;;;;;;;;;AElBjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,c,CAIA;;;AAMA,UAAM/lB,MAAM,GAAW,CACrB;AACEC,YAAI,EAAC,EADP;AAEEwnB,mBAAW,EAAE,CAAC,gEAAD,CAFf;AAGEC,oBAAY,EAAE;AAAA,iBAAK;AAAA;AAAA,mBAA+Bj0B,IAA/B,CAAoC,UAAAk0B,CAAC;AAAA,mBAAIA,CAAC,CAAC/B,WAAN;AAAA,WAArC,CAAL;AAAA;AAHhB,OADqB,EAMrB;AACE3lB,YAAI,EAAC,sBADP;AAEEwnB,mBAAW,EAAE,CAAC,gEAAD,CAFf;AAGEvnB,iBAAS,EAAC;AAHZ,OANqB,EAWrB;AACED,YAAI,EAAE,OADR;AAEEwnB,mBAAW,EAAE,CAAC,gEAAD,CAFf;AAGEC,oBAAY,EAAE;AAAA,iBAAK;AAAA;AAAA,mBAA6Cj0B,IAA7C,CAAkD,UAAAk0B,CAAC;AAAA,mBAAIA,CAAC,CAAC9b,iBAAN;AAAA,WAAnD,CAAL;AAAA;AAHhB,OAXqB,EAgBrB;AACE5L,YAAI,EAAE,WADR;AAEEwnB,mBAAW,EAAE,CAAC,gEAAD,CAFf;AAGEC,oBAAY,EAAE;AAAA,iBAAK;AAAA;AAAA,mBAA6Dj0B,IAA7D,CAAkE,UAAAk0B,CAAC;AAAA,mBAAGA,CAAC,CAAC3kB,yBAAL;AAAA,WAAnE,CAAL;AAAA;AAHhB,OAhBqB,EAqBrB;AACE/C,YAAI,EAAE,SADR;AAEEwnB,mBAAW,EAAE,CAAC,gEAAD,CAFf;AAGEC,oBAAY,EAAE;AAAA,iBAAK;AAAA;AAAA,mBAAmCj0B,IAAnC,CAAwC,UAAAk0B,CAAC;AAAA,mBAAEA,CAAC,CAAC1jB,aAAJ;AAAA,WAAzC,CAAL;AAAA;AAHhB,OArBqB,EA0BrB;AACEhE,YAAI,EAAE,SADR;AAEEwnB,mBAAW,EAAE,CAAC,gEAAD,CAFf;AAGEC,oBAAY,EAAE;AAAA,iBAAK;AAAA;AAAA,mBAAmCj0B,IAAnC,CAAwC,UAAAk0B,CAAC;AAAA,mBAAEA,CAAC,CAACrO,aAAJ;AAAA,WAAzC,CAAL;AAAA;AAHhB,OA1BqB,EA+BrB;AACErZ,YAAI,EAAE,cADR;AAEEwnB,mBAAW,EAAE,CAAC,gEAAD,CAFf;AAGEC,oBAAY,EAAE;AAAA,iBAAK;AAAA;AAAA,mBAA6Cj0B,IAA7C,CAAkD,UAAAk0B,CAAC;AAAA,mBAAEA,CAAC,CAACpO,kBAAJ;AAAA,WAAnD,CAAL;AAAA;AAHhB,OA/BqB,EAoCrB;AACEtZ,YAAI,EAAE,eADR;AAEEwnB,mBAAW,EAAE,CAAC,gEAAD,CAFf;AAGEvnB,iBAAS,EAAC;AAHZ,OApCqB,EAyCrB;AACED,YAAI,EAAE,OADR;AAEEC,iBAAS,EAAC;AAFZ,OAzCqB,CAAvB;;UA0Da0nB,gB;;;;;cAAAA;;;;2BAAAA,gB;AAAgB,S;AAAA,kBARlB,CACP,4DADO,EAEP,6DAAaC,OAAb,CAAsB7nB,MAAtB,CAFO,CAQkB,EAHzB,4DAGyB;;;;4HAAhB4nB,gB,EAAgB;AAAA,oBAPzB,4DAOyB,EAPb,4DAOa;AAPb,oBAIZ,4DAJY;AAOa,S;AAHb,O;;;;;wEAGHA,gB,EAAgB;gBAV5B,sDAU4B;iBAVnB;AACRtnB,wBAAY,EAAE,EADN;AAERC,mBAAO,EAAE,CACP,4DADO,EAEP,6DAAasnB,OAAb,CAAsB7nB,MAAtB,CAFO,CAFD;AAMR2L,mBAAO,EAAC,CACN,4DADM;AANA,W;AAUmB,U;;;;;;;;;;;;;;;;;;ACpE7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;UAaamc,c;AAcX,gCAAoBxiB,MAApB,EACU3Q,EADV,EAEUtD,GAFV,EAE8B;AAAA;;AAFV,eAAAiU,MAAA,GAAAA,MAAA;AACV,eAAA3Q,EAAA,GAAAA,EAAA;AACA,eAAAtD,GAAA,GAAAA,GAAA;AAdV,eAAA4E,QAAA,GAAW,KAAX;AACA,eAAA4N,MAAA,GAAgB,EAAhB;AACA,eAAAkkB,KAAA,GAAe,EAAf;AAGO,eAAAC,aAAA,GAAgB,KAAhB;AACA,eAAAC,SAAA,GAAY,KAAKtzB,EAAL,CAAQwC,KAAR,CAAc;AAC/ByJ,kBAAM,EAAC,CAAC,EAAD,EAAK,CAAC,0DAAWxJ,QAAZ,EAAsB,0DAAW2wB,KAAjC,CAAL,CADwB;AAE/BG,oBAAQ,EAAC,CAAC,EAAD,EAAK,0DAAW9wB,QAAhB,CAFsB;AAG/B+wB,oBAAQ,EAAE,CAAC,KAAD;AAHqB,WAAd,CAAZ;AASJ;;;;iBAED,oBAAQ;;;AACN,iBAAKJ,KAAL,GAAaljB,YAAY,CAACC,OAAb,CAAqB,QAArB,KAAkC,EAA/C;;AACE,gBAAG,KAAKijB,KAAL,CAAW/rB,MAAX,GAAoB,CAAvB,EAA0B;AACxB,yBAAKisB,SAAL,CAAertB,GAAf,CAAmB,UAAnB,OAA8B,IAA9B,IAA8B,aAA9B,GAA8B,MAA9B,GAA8B,GAAEwtB,UAAF,CAAa,IAAb,CAA9B;AACD;AACJ;;;iBAIH,iBAAK;AAAA;;uBAAA,CACH;;;AACA,iBAAKnyB,QAAL,GAAgB,IAAhB;;AAEA,gBAAG,YAAKgyB,SAAL,CAAertB,GAAf,CAAmB,UAAnB,OAA8B,IAA9B,IAA8B,aAA9B,GAA8B,MAA9B,GAA8B,GAAE7C,KAAhC,MAA0C,IAA7C,EAAkD;AAChD,mBAAK8L,MAAL,GAAc,CAAH,KAAG,KAAKokB,SAAL,CAAertB,GAAf,CAAmB,QAAnB,OAA4B,IAA5B,IAA4B,aAA5B,GAA4B,MAA5B,GAA4B,GAAE7C,KAA5C;AACA8M,0BAAY,CAAC2f,OAAb,CAAqB,QAArB,EAA+B,KAAK3gB,MAApC;AACD,aAHD,MAGK;AACHgB,0BAAY,CAACggB,UAAb,CAAwB,QAAxB;AACD;;AAGD,iBAAKxzB,GAAL,CAASg3B,KAAT,CAAe,KAAKJ,SAAL,CAAelwB,KAA9B,EACKhE,SADL,CACe,UAACC,IAAD,EAAa;AACtB6Q,0BAAY,CAAC2f,OAAb,CAAqB,OAArB,EAA8BxwB,IAAI,CAACuwB,KAAnC;;AACA,sBAAI,CAACjf,MAAL,CAAYM,aAAZ,CAA0B,GAA1B;AACD,aAJL,EAIO,UAACV,GAAD,EAAS;AACV,sBAAI,CAACjP,QAAL,GAAgB,KAAhB,CADU,CAEV;;AACA,iEAAK/C,IAAL,CAAU,OAAV,EAAmBgS,GAAG,CAAC0f,KAAJ,CAAU1f,GAAV,CAAcC,OAAjC,EAA0C,OAA1C;AACD,aARL,EAZG,CAqBH;AAED;;;;;;;yBAnDU2iB,c,EAAc,uH,EAAA,2H,EAAA,0I;AAAA,O;;;cAAdA,c;AAAc,kC;AAAA,iB;AAAA,e;AAAA,03B;AAAA;AAAA;ACb3B;;AACI;;AAEG;;AAGA;AAAA,qBAAY,IAAAQ,KAAA,EAAZ;AAAmB,aAAnB;;AAEE;;AACA;;AACI;;AACM;;AAKJ;;AACJ;;AACA;;AACC;;AACE;;AACA;;AACE;;AACF;;AACF;;AACF;;AAYC;;AACR;;AAMA;;AAAmD;;AAAU;;AAC/D;;AACU;;AAEsB;;AAAQ;;AAClC;;AAEH;;AACJ;;;;AA/CO;;AAAA;;AAUoB;;AAAA;;AAgCR;;AAAA;;;;;;;;;wEDlCNR,c,EAAc;gBAP1B,uDAO0B;iBAPhB;AACTxzB,oBAAQ,EAAE,WADD;AAETC,uBAAW,EAAE,wBAFJ;AAGTC,qBAAS,EAAE,CACT,uBADS;AAHF,W;AAOgB,U;;;;;;;;;;;;;;;;;;;;;;;;;;AEb3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,UAAI,sEAAY4O,UAAhB,EAA4B;AAC1B;AACD;;AAED,kFAAyBmlB,eAAzB,CAAyC,yDAAzC,WACS,UAAArjB,GAAG;AAAA,eAAI8F,OAAO,CAAC4Z,KAAR,CAAc1f,GAAd,CAAJ;AAAA,OADZ;;;;;;;;;;;;;;;ACVA,eAASsjB,wBAAT,CAAkC9X,GAAlC,EAAuC;AACtC;AACA;AACA,eAAO+X,OAAO,CAACtX,OAAR,GAAkB1d,IAAlB,CAAuB,YAAW;AACxC,cAAIV,CAAC,GAAG,IAAI+d,KAAJ,CAAU,yBAAyBJ,GAAzB,GAA+B,GAAzC,CAAR;AACA3d,WAAC,CAACge,IAAF,GAAS,kBAAT;AACA,gBAAMhe,CAAN;AACA,SAJM,CAAP;AAKA;;AACDy1B,8BAAwB,CAACxX,IAAzB,GAAgC,YAAW;AAAE,eAAO,EAAP;AAAY,OAAzD;;AACAwX,8BAAwB,CAACrX,OAAzB,GAAmCqX,wBAAnC;AACApX,YAAM,CAACzF,OAAP,GAAiB6c,wBAAjB;AACAA,8BAAwB,CAACnuB,EAAzB,GAA8B,MAA9B","file":"main-es5.js","sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport * as moment from 'moment';\nimport { RestApiService } from 'src/app/services/rest-api.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-despachos',\n  templateUrl: './despachos.component.html',\n  styleUrls: ['./despachos.component.css']\n})\nexport class DespachosComponent implements OnInit {\n\n  @Input() despacho:any\n  @Input() ORDENES:any\n  @Output() onCloseModal = new EventEmitter();\n\n  public Ordenes_seleccionadas = [];\n  public dated:boolean = false;\n  public date;\n  public hoy;\n\n  constructor(private api:RestApiService) { }\n\n  ngOnInit(): void {\n    this.hoy = moment().format('yyyy-MM-DD');\n  }\n\n  onClose(){\n    this.despacho = false;\n    this.onCloseModal.emit();\n  }\n\n  Orden_Selected(orden){\n    // console.log()\n    let select = this.ORDENES.find(x => x.sort === orden)\n    if(select){\n      let existe = this.Ordenes_seleccionadas.find(x => x.op === orden)\n      if(!existe){\n\n        this.Ordenes_seleccionadas.push(\n          {\n            op:select.sort,\n            producto:select.producto.producto,\n            cantidad:select.cantidad_o,\n            oc:select.orden,\n            destino:select.almacen\n          })\n        }\n    }\n  }\n\n  eliminar_Selected(op){\n    let index = this.Ordenes_seleccionadas.findIndex(x => x.op === op)\n    this.Ordenes_seleccionadas.splice(index, 1);\n  }\n\n  change_value(e, i){\n    this.Ordenes_seleccionadas[i].cantidad = e;\n    // console.log(this.Ordenes_seleccionadas)\n  }\n\n  fecha(e){\n    if(!e){\n      this.dated = false\n    }else{\n      this.dated = true;\n      this.date = e;\n    }\n  }\n\n  despachar(){\n    Swal.fire({\n      title: '¿Generar nuevo despacho y notificar al equipo?',\n      showDenyButton: true,\n      showCancelButton: false,\n      confirmButtonText: 'Si, generar',\n      denyButtonText: `Cancelar`,\n      icon:'question'\n    }).then((result) => {\n      /* Read more about isConfirmed, isDenied below */\n      if (result.isConfirmed) {\n        let fecha_m = moment(this.date).format('DD-MM-yyyy')\n\n        this.api.PostDespacho({fecha:fecha_m,\n                               despacho:this.Ordenes_seleccionadas})\n          .subscribe((resp:any)=>{\n\n            this.date = '';\n            this.dated = false;\n            this.Ordenes_seleccionadas = [];\n            this.onClose();\n            Swal.fire('Generado!', '', 'success')\n          })\n      } else if (result.isDenied) {\n        Swal.fire({\n          title:'Verifica la información',\n          text:'Puedes verificar la información y planificar un despacho, cuando quieras',\n          icon:'info',\n          showConfirmButton:false,\n        })\n      }\n    })\n  }\n\n\n}\n","<div class=\"modal\" [ngClass]=\"{'is-active':despacho}\">\n    <div class=\"modal-background\" (click)='onClose()'></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n            <div class=\"subtitulo\">\n                Planificar despachos\n            </div>\n            <hr>\n            <div class=\"columns\">\n                <div class=\"column is-3\">\n                    <div class=\"control\">\n                        <label class=\"label\">Fecha del despacho</label>\n                        <input type=\"date\" class=\"input\" (change)=\"fecha($event.target.value)\" [min]=\"hoy\">\n                    </div>\n                </div>\n                <div class=\"column is-3\">\n                    <div class=\"control\">\n                        <label class=\"label\">Seleccionar Orden</label>\n                        <div class=\"select\">\n                            <select name=\"\" id=\"\" (change)=\"Orden_Selected($event.target.value)\">\n                                <option value=\"0\" >Seleccionar Orden</option>\n                                <option value=\"{{orden.sort}}\" *ngFor=\"let orden of ORDENES\">{{orden.sort}}</option>\n                            </select>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"column\" *ngIf=\"Ordenes_seleccionadas.length > 0 && dated\">\n                    <div class=\"control\">\n                        <label for=\"\" class=\"label\"> </label>\n                        <button class=\"button is-success\" (click)=\"despachar()\">Notificar despacho</button>\n                    </div>\n                </div>\n            </div>\n            <hr>\n            <table class=\"table is-fullwidth\">\n                <thead>\n                    <tr>\n                        <th>Orden producción</th>\n                        <th>Producto</th>\n                        <th>Cantidad</th>\n                        <th>Orden de compra</th>\n                        <th>Destino</th>\n                        <th> </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr *ngFor=\"let despachos of Ordenes_seleccionadas;index as i\">\n                        <td>{{despachos.op}}</td>\n                        <td>{{despachos.producto}}</td>\n                        <td>\n                            <input type=\"number\" class=\"input\" (change)=\"change_value($event.target.value, i)\" value=\"{{despachos.cantidad}}\" max=\"{{despachos.cantidad}}\" >\n                        </td>\n                        <td>{{despachos.oc}}</td>\n                        <td>{{despachos.destino}}</td>\n                        <td>   <i class=\"fas fa-trash-alt\" (click)=\"eliminar_Selected(despachos.op)\"></i></td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport Swal from 'sweetalert2';\r\nimport { Subscriber, timer } from 'rxjs';\r\nimport { SubirArchivosService } from 'src/app/services/subir-archivos.service';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-productos',\r\n  templateUrl: './productos.component.html',\r\n  styleUrls: ['./productos.component.css']\r\n})\r\nexport class ProductosComponent implements OnInit {\r\n\r\n  baseUrl = environment.api\r\n\r\n  public NUEVO_CLIENTE:boolean = false;\r\n  public CLIENTES;\r\n  public MATERIALES;\r\n  public MATERIALES_NECESARIOS = [];\r\n  public NUEVO_PRODUCTO:boolean = false;\r\n  public GRUPOS;\r\n\r\n  public ImageProducto;\r\n\r\n  public EJEMPLARES = [];\r\n  public POST = [];\r\n  public TROQUEL\r\n\r\n  public SECCIONES;\r\n\r\n  public GRUPOS_MATERIA;\r\n\r\n  public PRODUCTOS;\r\n  public SUSTRATO = [];\r\n\r\n  public Sus_Done:boolean = false;\r\n\r\n  public dimensiones = []\r\n\r\n  product_selected;\r\n  _producto_seleccionado:boolean = false;\r\n\r\n  montajes = 1;\r\n  i_montajes = 0;\r\n  i_montajes_ = 0;\r\n\r\n  necesidad = 0;\r\n  listo:boolean = true;\r\n  \r\n  cinco:boolean = true;\r\n  seis:boolean = true;\r\n  siete:boolean = true;\r\n  ocho:boolean = true;\r\n\r\n  public ImgSubir:File;\r\n\r\n\r\n  almacenes = [];\r\n  public new_almacen = ''\r\n  public cargando = false;\r\n\r\n  public VER_PRODUCTO:boolean = false;\r\n  OneProduct:any = {producto:'',\r\n                          cliente:{\r\n                            nombre:'',\r\n                            codigo:''\r\n                          },\r\n                          grupo:{_id:''},\r\n                          codigo:'',\r\n                          version:'',\r\n                          ejemplares:[],\r\n                          dimensiones:'',\r\n                          fibra:'',\r\n                          post:[],\r\n                          sustrato:[{\r\n                            nombre:'',\r\n                            marca:'',\r\n                            calibre:'',\r\n                            gramaje:''\r\n                          }],\r\n                          materiales:[]};\r\n\r\n  ClienteForm:FormGroup = this.fb.group({\r\n    nombre:['',Validators.required],\r\n    codigo:['',Validators.required],\r\n    almacenes:['', Validators.required]\r\n  })\r\n\r\n  constructor(private api:RestApiService,\r\n              private subirArchivo:SubirArchivosService,\r\n              private fb:FormBuilder) { \r\n                this.usuario = api.usuario\r\n              }\r\n\r\n  ngOnInit(): void {\r\n    this. obtenerGrupodeMateriales();\r\n    this.BuscarGruposEnAlmacen();\r\n    this.obtenerClientes();\r\n    this.obtenerMateriales();\r\n    this.obtenerGrupos();\r\n    let cliente_id = (<HTMLInputElement>document.getElementById('cliente_Seleccionado')).value;\r\n    // this.buscar_producto(cliente_id);\r\n  }\r\n  public usuario\r\n\r\n  NumToLet(n){\r\n    switch(n)\r\n    {\r\n        case 0: return \"A\";\r\n        case 1: return \"B\";\r\n        case 2: return \"C\";\r\n        case 3: return \"D\";\r\n        case 4: return \"E\";\r\n        case 5: return \"F\";\r\n        case 6: return \"G\";\r\n        case 7: return \"H\";\r\n        case 8: return \"I\";\r\n    }\r\n\r\n  }\r\n\r\n  CambiarImagen( event:any ){\r\n    this.ImgSubir = (event.target).files[0];\r\n    document.getElementsByClassName('file-name')[0].innerHTML = this.ImgSubir.name;\r\n  }\r\n\r\n  subirImagen(){\r\n    this.cargando = true;\r\n    this.subirArchivo.actualizarFoto(this.ImgSubir, 'producto', this.OneProduct._id )\r\n    .then(img => {\r\n      if(img){\r\n        this.usuario.img = img;\r\n        document.getElementsByClassName('file-name')[0].innerHTML = 'Sin archivo...';\r\n        this.ImgSubir = null;\r\n      }\r\n      this.verProducto(this.OneProduct._id)\r\n      this.verProducto(this.OneProduct._id)\r\n      this.cargando = false;\r\n      });\r\n  }\r\n\r\n  producto_seleccionado(e){\r\n    if(e === 0){\r\n      this._producto_seleccionado = false;\r\n    }else{\r\n      this._producto_seleccionado = true;\r\n      if(this.product_selected == 'Sustrato'){\r\n        this._producto_seleccionado = false;\r\n        document.getElementById('cant').hidden = true;\r\n      }else{\r\n        this._producto_seleccionado = true;\r\n        document.getElementById('cant').hidden = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  selecciona_producto(e){\r\n    let clase = this.i_montajes.toString()\r\n    if(e == 0){\r\n      (<HTMLInputElement>document.getElementById(clase)).disabled = true;\r\n    }else{\r\n      (<HTMLInputElement>document.getElementById(clase)).disabled = false;\r\n      this.product_selected = e;\r\n      if(this.product_selected != 'Sustrato'){\r\n        this.MATERIALES = [...this.MATERIALES.reduce((map, obj) => map.set(obj.nombre, obj), new Map()).values()];\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  selecciona_producto2(e){\r\n    let clase = this.i_montajes_.toString()\r\n    if(e == 0){\r\n      (<HTMLInputElement>document.getElementById(`x-${clase}`)).disabled = true;\r\n    }else{\r\n      (<HTMLInputElement>document.getElementById(`x-${clase}`)).disabled = false;\r\n      this.product_selected = e;\r\n      if(this.product_selected != 'Sustrato'){\r\n        this.MATERIALES = [...this.MATERIALES.reduce((map, obj) => map.set(obj.nombre, obj), new Map()).values()];\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  post_impresion(e){\r\n    let Included = this.POST.includes(e);\r\n    if(!Included){\r\n      this.POST.push(e);\r\n    }else{\r\n      let i = this.POST.indexOf(e)\r\n      this.POST.splice(i, 1)\r\n    }\r\n\r\n    // console.log(this.POST)\r\n  }\r\n\r\n  troquel(e){\r\n    this.TROQUEL = e.target.value;\r\n  }\r\n\r\n  Ejemplar(e){\r\n    if(!this.EJEMPLARES[this.i_montajes]){\r\n      this.EJEMPLARES[this.i_montajes] = ''\r\n    }\r\n    this.EJEMPLARES[this.i_montajes] = e;\r\n  }\r\n\r\n  public Modal_Cliente(){\r\n    if(this.NUEVO_CLIENTE){\r\n      this.NUEVO_CLIENTE = false;\r\n    }else{\r\n      this.NUEVO_CLIENTE = true;\r\n    }\r\n  }\r\n\r\n  public Modal_Producto(){\r\n    if(this.NUEVO_PRODUCTO){\r\n      this.NUEVO_PRODUCTO = false;\r\n    }else{\r\n      this.NUEVO_PRODUCTO = true;\r\n    }\r\n  }\r\n\r\n  public ver_Modal_Producto(){\r\n    if(this.VER_PRODUCTO){\r\n      this.VER_PRODUCTO = false;\r\n    }else{\r\n      this.VER_PRODUCTO = true;\r\n      this.i_montajes = 0;\r\n      this.listo = true;\r\n    }\r\n  }\r\n\r\n  sumaTintas(n){\r\n\r\n    if(this.listo){\r\n      this.listo = false;\r\n      this.necesidad = n - 5;\r\n      return n + Math.abs(this.necesidad);\r\n    }else{\r\n      return n + Math.abs(this.necesidad);\r\n    }\r\n  }\r\n\r\n  cambiarCalculo(){\r\n    this.listo = true;\r\n  }\r\n\r\n  add_almacen(){\r\n    this.almacenes.push(this.new_almacen)\r\n    this.new_almacen = ''\r\n  }\r\n\r\n  delete_this_almacen(i){\r\n    let buscar = this.almacenes.find(x => x == i)\r\n    let index = this.almacenes.indexOf(buscar)\r\n    this.almacenes.splice(index,1)\r\n  }\r\n\r\n  enable(input){\r\n    let campo = (<HTMLInputElement>document.getElementById(input)).disabled;\r\n\r\n    if(campo){\r\n      (<HTMLInputElement>document.getElementById(input)).disabled = false;\r\n      (<HTMLInputElement>document.getElementById(input)).focus();\r\n    } else {\r\n      (<HTMLInputElement>document.getElementById(input)).disabled = true;\r\n      let buscarSiExiste = this.MATERIALES_NECESARIOS.find(c => c.material == input);\r\n      if(buscarSiExiste){\r\n        let index = this.MATERIALES_NECESARIOS.indexOf(buscarSiExiste)\r\n        this.MATERIALES_NECESARIOS.splice(index, 1)\r\n      }\r\n  }\r\n}\r\n\r\njust_a_sec(e){\r\n  let nuevo = this.MATERIALES_NECESARIOS.find(c => c.material == e.target.id);\r\n  let index;\r\n  if(!nuevo){\r\n    let data = {\r\n      material:e.target.id,\r\n      cantidad:e.target.value\r\n    }\r\n\r\n    this.MATERIALES_NECESARIOS.push(data)\r\n  }else{\r\n    index = this.MATERIALES_NECESARIOS.indexOf(nuevo)\r\n    this.MATERIALES_NECESARIOS[index].cantidad = e.target.value\r\n  }\r\n}\r\n\r\n  obtenerGrupodeMateriales(){\r\n    this.api.GetGrupoMp()\r\n      .subscribe((resp:any)=>{\r\n        this.GRUPOS_MATERIA = resp;\r\n      })\r\n  }\r\n  obtenerClientes(){\r\n    this.api.GetClientes()\r\n      .subscribe((resp:any) =>{\r\n        this.CLIENTES = resp.clientes\r\n      })\r\n  }\r\n\r\n  addCliente(){\r\n\r\n    this.ClienteForm.get('almacenes').setValue(this.almacenes)\r\n\r\n    if(this.ClienteForm.invalid) {\r\n      Swal.fire({\r\n        title:'Oops!',\r\n        text:'Debes rellenar todos los campos para continuar',\r\n        icon:'error',\r\n        showConfirmButton:false,\r\n        timer:1500\r\n      })\r\n      return;\r\n    }\r\n    \r\n\r\n    this.api.PostClientes(this.ClienteForm.value)\r\n        .subscribe((resp:any)=>{\r\n          this.obtenerClientes();\r\n          this.ClienteForm.reset();\r\n          this.NUEVO_CLIENTE = false;\r\n          this.almacenes = []\r\n          Swal.fire({\r\n            title:'Excelente!',\r\n            text:'Se registro nuevo cliente',\r\n            showConfirmButton:false,\r\n            icon:'success',\r\n            timer:2000\r\n          })\r\n        })\r\n  }\r\n\r\n  //--------------------- PRODUCTOS----\r\n\r\n  obtenerMateriales(){\r\n    this.api.getAlmacen()\r\n      .subscribe((resp:any)=>{\r\n        this.MATERIALES = resp.materiales\r\n        // console.log(this.MATERIALES)\r\n      })\r\n  }\r\n\r\n  obtenerGrupos(){\r\n    this.api.getGrupos()\r\n      .subscribe((resp:any)=>{\r\n        this.GRUPOS = resp.grupos\r\n        // console.log(this.GRUPOS,'GRUPOOOOS')\r\n      })\r\n  }\r\n\r\n  Ordenar_Producto(){\r\n    let valor = (<HTMLInputElement>document.getElementById('material_Necesario')).value\r\n    let inde = this.MATERIALES_NECESARIOS.includes(valor);\r\n\r\n    if(!inde){\r\n      this.MATERIALES_NECESARIOS.push(valor)\r\n    }\r\n\r\n    \r\n  }\r\n\r\n  BuscarGruposEnAlmacen(){\r\n    this.api.GetGrupoMp()\r\n      .subscribe((resp:any)=>{\r\n        this.SECCIONES = resp\r\n        // alert('THIS IS WORKING')\r\n        // console.log(this.SECCIONES,'SECCIONEEEES');\r\n      })\r\n  }\r\n\r\n  finalizar(){\r\n\r\n    // let name = (<HTMLInputElement>document.getElementById('sustrato_name')).value\r\n\r\n    // let marca = (<HTMLInputElement>document.getElementById('sustrato_marca')).value\r\n    // let gramaje = (<HTMLInputElement>document.getElementById('sustrato_gramaje')).value\r\n    // let calibre = (<HTMLInputElement>document.getElementById('sustrato_calibre')).value\r\n\r\n    // let sustrato = {\r\n    //   nombre:name,\r\n    //   marca,\r\n    //   gramaje,\r\n    //   calibre\r\n    // }\r\n\r\n\r\n    let data = {\r\n      cliente: (<HTMLInputElement>document.getElementById('cliente_Seleccionado')).value,\r\n      producto:(<HTMLInputElement>document.getElementById('nombre_nuevo_producto')).value,\r\n      grupo:(<HTMLInputElement>document.getElementById('grupo_producto')).value,\r\n      cod_cliente:(<HTMLInputElement>document.getElementById('cod_cliente')).value,\r\n      materiales: this.MATERIALES_NECESARIOS,\r\n      post:this.POST,\r\n      ejemplares:this.EJEMPLARES,\r\n      // sustrato: sustrato,\r\n      codigo:(<HTMLInputElement>document.getElementById('cod_producto')).value,\r\n      version:(<HTMLInputElement>document.getElementById('version')).value,\r\n      edicion:(<HTMLInputElement>document.getElementById('edicion')).value,\r\n      montajes:this.montajes\r\n    }\r\n\r\n    \r\n    this.api.postProducto(data)\r\n      .subscribe((resp:any)=>{\r\n        this.Modal_Producto();\r\n        let cliente_id = (<HTMLInputElement>document.getElementById('cliente_Seleccionado')).value;\r\n        this.buscar_producto(cliente_id);\r\n      })\r\n  }\r\n\r\n  ancho(e){\r\n    let ancho = e.target.value;\r\n    \r\n    this.dimensiones.push(ancho);\r\n    let tamano = this.dimensiones.length\r\n\r\n    const largo = (<HTMLInputElement>document.getElementById('largo'))\r\n    const DirFibra = (<HTMLInputElement>document.getElementById('d_fibra'))\r\n\r\n    largo.disabled = false;\r\n\r\n    if(ancho == ''){\r\n      this.dimensiones = []\r\n\r\n      largo.value = ''\r\n      largo.disabled = true;\r\n      DirFibra.disabled = true;\r\n    }\r\n\r\n    if(largo.value != ''){\r\n      DirFibra.disabled = false\r\n    }\r\n    \r\n  }\r\n\r\n  largo(e){\r\n    let largo = e.target.value;\r\n\r\n    let tamano = this.dimensiones.length;\r\n    \r\n    const DirFibra = (<HTMLInputElement>document.getElementById('d_fibra'))\r\n    \r\n    if(largo == ''){\r\n      this.dimensiones.pop();\r\n      DirFibra.disabled = true;\r\n    }\r\n    \r\n    if(largo != ''){\r\n      if(tamano>1){\r\n        this.dimensiones.pop();\r\n      }\r\n      this.dimensiones.push(largo);\r\n      DirFibra.disabled = false;\r\n    }\r\n      // }else{\r\n    //   DirFibra.disabled = false;\r\n    // }\r\n\r\n\r\n  }\r\n\r\n  \r\n  buscar_producto(e){\r\n    this.api.getById(e)\r\n      .subscribe((resp:any)=>{\r\n        this.PRODUCTOS = resp.productos;\r\n        // console.log(this.PRODUCTOS)\r\n      });\r\n\r\n      if(e == \"\"){\r\n        (<HTMLInputElement>document.getElementById('NP_button')).disabled = true;\r\n      }else{\r\n        (<HTMLInputElement>document.getElementById('NP_button')).disabled = false;\r\n      }\r\n  }\r\n\r\n  // sustratos(e){\r\n\r\n  //   this.SUSTRATO = [];\r\n\r\n  //   this.SUSTRATO.push(e.target.value);\r\n\r\n  //   this.Sus_Done = true;\r\n\r\n    \r\n  // }\r\n  NuevoSustrato(){\r\n    this.SUSTRATO = [];\r\n    this.Sus_Done = false;\r\n  }\r\n\r\n  add_materia2(producto, cantidad){\r\n\r\n    let i = this.i_montajes.toString();\r\n\r\n    producto = (<HTMLInputElement>document.getElementById(i)).value\r\n    cantidad = (<HTMLInputElement>document.getElementById(`cantidad${this.i_montajes}`)).value\r\n\r\n    let Material = this.MATERIALES.find(x => x._id === producto);\r\n\r\n    // console.log(Material, '--' )\r\n\r\n    let size = cantidad\r\n    let name = Material.nombre\r\n\r\n    if(this.product_selected == \"Sustrato\"){\r\n      size = '0'\r\n    }\r\n\r\n    if(Material.ancho){\r\n      name = `${Material.nombre} (${Material.ancho} x ${Material.largo})`;\r\n    }\r\n\r\n    let productos = {\r\n      material:name,\r\n      marca:Material.marca,\r\n      producto:producto,\r\n      cantidad: size\r\n    }\r\n\r\n    // console.log(productos);\r\n\r\n    this.OneProduct.materiales[this.i_montajes].push(productos)\r\n    // console.log(this.MATERIALES_NECESARIOS, 'this')\r\n    // this.MATERIALES_NECESARIOS.push(productos);\r\n\r\n\r\n    // let field_material = (<HTMLInputElement>document.getElementById('field_material'))\r\n    // let field_marca = (<HTMLInputElement>document.getElementById('field_marca'))\r\n    // let field_cantidad = (<HTMLInputElement>document.getElementById('field_cantidad'))\r\n\r\n    // let new_material = {\r\n    //   material:material.value,\r\n    //   marca:marca.value,\r\n    //   cantidad:cantidad.value\r\n    // }\r\n\r\n    // this.MATERIALES_NECESARIOS.push(new_material)\r\n\r\n    // field_cantidad.value = '';\r\n    // field_marca.value = '';\r\n    // field_material.value = '';\r\n  }\r\n\r\nadd_materia3(producto, cantidad){\r\n  let i = this.i_montajes_.toString();\r\n\r\n  producto = (<HTMLInputElement>document.getElementById(`x-${i}`)).value\r\n  cantidad = (<HTMLInputElement>document.getElementById(`xcantidad${this.i_montajes_}`)).value\r\n\r\n\r\n  let Material = this.MATERIALES.find(x => x._id == producto)\r\n\r\n\r\n  // console.log(Material,'/*/*/*/*/*/*/*/*/*/*/*/')\r\n\r\n  let size = cantidad\r\n  let name = Material.nombre\r\n\r\n  if(this.product_selected == \"Sustrato\"){\r\n    size = '0'\r\n  }\r\n\r\n  if(Material.ancho){\r\n    name = `${Material.nombre} (${Material.ancho} x ${Material.largo})`;\r\n  }\r\n\r\n\r\n\r\n  let productos = {\r\n    material:name,\r\n    marca:Material.marca,\r\n    producto:producto,\r\n    cantidad: size\r\n  }\r\n\r\n  if(!this.OneProduct.materiales[this.i_montajes_]){\r\n    this.OneProduct.materiales[this.i_montajes_] = [];\r\n  }\r\n  \r\n  this.OneProduct.materiales[this.i_montajes_].push(productos)\r\n\r\n  this.api.updateProducto(this.OneProduct, this.OneProduct._id)\r\n      .subscribe((resp:any)=>{\r\n        // console.log(resp,'respuesta')\r\n        this.editar(this.OneProduct)\r\n        this.api.getOneById(this.OneProduct._id)\r\n          .subscribe((resp:any)=>{\r\n            // console.log('ok')\r\n          })\r\n          this.Modal_Producto_E()\r\n          this.Modal_Producto_E()\r\n      });\r\n  \r\n  \r\n  \r\n  \r\n\r\n  // this.verProducto(producto)\r\n}\r\n  \r\nadd_materia(producto, cantidad){\r\n\r\n    let i = this.i_montajes.toString();\r\n\r\n    producto = (<HTMLInputElement>document.getElementById(i)).value\r\n    cantidad = (<HTMLInputElement>document.getElementById(`cantidad${this.i_montajes}`)).value\r\n\r\n    let Material = this.MATERIALES.find(x => x._id === producto);\r\n\r\n    // console.log(Material, '--' )\r\n\r\n    let size = cantidad\r\n    let name = Material.nombre\r\n\r\n    if(this.product_selected == \"Sustrato\"){\r\n      size = '0'\r\n    }\r\n\r\n    if(Material.ancho){\r\n      name = `${Material.nombre} (${Material.ancho} x ${Material.largo})`;\r\n    }\r\n\r\n    let productos = {\r\n      material:name,\r\n      marca:Material.marca,\r\n      producto:producto,\r\n      cantidad: size\r\n    }\r\n\r\n    // console.log(productos);\r\n    if(!this.MATERIALES_NECESARIOS[this.i_montajes])\r\n    { \r\n      this.MATERIALES_NECESARIOS[this.i_montajes] = []\r\n    }\r\n\r\n    this.MATERIALES_NECESARIOS[this.i_montajes].push(productos)\r\n    // console.log(this.MATERIALES_NECESARIOS, 'this')\r\n    // this.MATERIALES_NECESARIOS.push(productos);\r\n\r\n\r\n    // let field_material = (<HTMLInputElement>document.getElementById('field_material'))\r\n    // let field_marca = (<HTMLInputElement>document.getElementById('field_marca'))\r\n    // let field_cantidad = (<HTMLInputElement>document.getElementById('field_cantidad'))\r\n\r\n    // let new_material = {\r\n    //   material:material.value,\r\n    //   marca:marca.value,\r\n    //   cantidad:cantidad.value\r\n    // }\r\n\r\n    // this.MATERIALES_NECESARIOS.push(new_material)\r\n\r\n    // field_cantidad.value = '';\r\n    // field_marca.value = '';\r\n    // field_material.value = '';\r\n  }\r\n\r\n  Delete_Material(material2){\r\n\r\n        let deleted = this.MATERIALES_NECESARIOS[this.i_montajes].findIndex(x => x.material == material2)\r\n\r\n        // console.log(deleted)\r\n\r\n        this.MATERIALES_NECESARIOS.splice(deleted, 1);\r\n  }\r\n  Delete_Material2(material2){\r\n\r\n    // console.log(this.OneProduct.materiales[this.i_montajes])\r\n    let deleted = this.OneProduct.materiales[this.i_montajes_].findIndex(x => x.producto.nombre == material2)\r\n    // console.log(deleted)\r\n\r\n    this.OneProduct.materiales[this.i_montajes_].splice(deleted, 1);\r\n\r\n    // let deleted = this.OneProduct.materiales[this.i_montajes].producto.findIndex(x => x.nombre == material2)\r\n\r\n    // // console.log(deleted)\r\n\r\n    // this.MATERIALES_NECESARIOS.splice(deleted, 1);\r\n}\r\n\r\n  borrarPost(post){\r\n    let i = this.POST.indexOf(post)\r\n\r\n    this.POST.splice(i, 1)\r\n  }\r\n\r\n  borrarPost2(post){\r\n    let i = this.OneProduct.post.indexOf(post)\r\n\r\n    // console.log(i)\r\n\r\n    this.POST.splice(i, 1)\r\n  }\r\n\r\n  editar_producto(){\r\n    \r\n    this.api.updateProducto(this.OneProduct, this.OneProduct._id)\r\n      .subscribe((resp:any)=>{\r\n        Swal.fire({\r\n          title:'Producto editado con exito!',\r\n          icon:'success',\r\n          showConfirmButton:false\r\n        })\r\n        this.editar(this.OneProduct)\r\n        this.buscar_producto(this.OneProduct.cliente._id)\r\n        this.Modal_Producto_E()\r\n      });\r\n  }\r\n\r\n  verProducto(producto){\r\n\r\n    this.api.getOneById(producto)\r\n      .subscribe((resp:any)=>{\r\n        this.OneProduct = resp.producto\r\n\r\n        if( this.OneProduct.img) {\r\n          this.ImageProducto =  `${this.baseUrl}/imagen/producto/${this.OneProduct.img}`;\r\n        }else{\r\n          this.ImageProducto = `../../../assets/no-picture.png`;\r\n        }\r\n\r\n        this.ver_Modal_Producto()\r\n      })\r\n  }\r\n  public EDITAR_PRODUCTO:boolean = false;\r\n  Modal_Producto_E(){\r\n    if(this.EDITAR_PRODUCTO){\r\n      this.EDITAR_PRODUCTO = false\r\n    }else{\r\n      this.EDITAR_PRODUCTO = true\r\n      this.EDITAR_PRODUCTO = false\r\n      if(this.OneProduct.materiales[this.i_montajes_].length > 0){\r\n        this.EDITAR_PRODUCTO = true\r\n      }\r\n    }\r\n  }\r\n\r\n  editar(producto){\r\n    this.api.getOneById(producto)\r\n      .subscribe((resp:any)=>{\r\n        this.OneProduct = resp.producto;\r\n        // console.log('AQUIIIIIIIIIIIIII', this.OneProduct);\r\n      })\r\n      if(this.OneProduct){\r\n        this.Modal_Producto_E();\r\n      }\r\n  }\r\n\r\n\r\n}\r\n","<div class=\"columns mt-5\">\r\n    <div class=\"column is-3\">\r\n        <div class=\"card\">\r\n            <div class=\"card-content\">\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Cliente:</label>\r\n                    <div class=\"control\">\r\n                        <div class=\"select\">\r\n                            <select id='cliente_Seleccionado' (change)='buscar_producto($event.target.value)' value=''>\r\n                                <option value=\"\">Seleccionar Cliente</option>\r\n                                <option *ngFor='let cliente of CLIENTES' value='{{cliente._id}}'>{{cliente.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <button class=\"button is-primary\" (click)='Modal_Cliente()' *ngIf='usuario.Maquinaria == 2'>Nuevo Cliente</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"column\">\r\n        <div class=\"card\">\r\n            <div class=\"card-content\">\r\n                <div class=\"titulo\">Productos</div>\r\n                <button class=\"button is-primary\" (click)='Modal_Producto()' disabled id='NP_button' *ngIf='usuario.Maquinaria == 2'>Nuevo Producto</button>\r\n                <hr>\r\n                <table class=\"table is-fullwidth\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Especificación</th>\r\n                            <th>Nombre del Producto</th>\r\n                            <th>Ver</th>\r\n                            <th *ngIf='usuario.Maquinaria == 2'>Editar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor='let producto of PRODUCTOS;let i = index'>\r\n                            <td>E - {{producto.cliente.codigo}} - {{producto.codigo}} - {{producto.version}} - {{producto.edicion}}</td>\r\n                            <td>{{producto.producto}}</td>\r\n                            <td><button class=\"button is-primary\" (click)='verProducto(producto._id)'>Ver</button></td>\r\n                            <td *ngIf='usuario.Maquinaria == 2'><button class=\"button is-primary\" (click)='editar(producto._id)'>Editar</button></td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVO_CLIENTE}\">\r\n    <div class=\"modal-background\" (click)='Modal_Cliente()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <form\r\n            autocomplete=\"off\"\r\n            [formGroup]=\"ClienteForm\"\r\n            (ngSubmit)=\"addCliente()\">\r\n                <div class=\"subtitulo\">Nuevo Cliente</div>\r\n                <hr>\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Nombre del Cliente</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" formControlName='nombre'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Cód. Cliente</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" formControlName='codigo'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <table class=\"table is-fullwidth\">\r\n                    <thead>\r\n                        <th>Nombre de almacen</th>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor=\"let almacen of almacenes;let i from index\">\r\n                            <td>\r\n                                {{almacen}}\r\n\r\n                                <span class=\"icon\" (click)=\"delete_this_almacen(i)\">\r\n                                    <i class=\"fas fa-times\"></i>\r\n                                </span>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" id=\"almacen_nuevo\" formControlName='almacenes' [(ngModel)]=\"new_almacen\" name=\"nuevoAlmacen\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <button class=\"button is-success is-outlined\" (click)=\"add_almacen()\" [disabled]=\"!new_almacen\">Agregar</button>\r\n                    </div>\r\n                </div>\r\n                <br>                \r\n                <button class=\"button is-primary\">Nuevo Cliente</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVO_PRODUCTO}\">\r\n    <div class=\"modal-background\" (click)='Modal_Producto()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body tabla\">\r\n            <div class=\"subtitulo\">\r\n                Nuevo Producto\r\n            </div>\r\n            <div class=\"separador\">\r\n                Información del producto\r\n            </div>\r\n            <br>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Nombre Producto</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='nombre_nuevo_producto' placeholder=\"Nombre Producto\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Categoria</label>\r\n                        <div class=\"select\">\r\n                            <select id='grupo_producto'>\r\n                                <option *ngFor='let grupo of GRUPOS' value=\"{{grupo._id}}\">{{grupo.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Cod. Producto</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='cod_producto' placeholder=\"Código de producto\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Versión</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='version' placeholder=\"Versión\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Especificación</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='edicion' placeholder=\"Especificación\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Código de producto de cliente</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" placeholder=\"Código de producto de cliente\" id=\"cod_cliente\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <input type=\"checkbox\" name=\"troquelado\" id=\"troquelado\" (click)='post_impresion(\"Troquelado\")'><label> Troquelado</label><br>\r\n                    <input type=\"checkbox\" name=\"pegado\" id=\"pegado\" (click)='post_impresion(\"Pegado\")'><label> Pegado</label><br>\r\n                    <input type=\"checkbox\" name=\"corte\" id=\"corte\" (click)='post_impresion(\"Corte Recto\")'><label> Corte Recto</label><br>\r\n                </div>\r\n            </div>\r\n            <div class=\"separador\">\r\n                Pre Impresión\r\n            </div>\r\n            <br>\r\n\r\n            <!-- <div class=\"columns\"> -->\r\n            \r\n            <div class=\"columns is-3\">\r\n                <div class=\"column\">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <label for=\"\" class=\"label\">Cantidad de montajes:</label>\r\n                        </div>\r\n                        <div class=\"column is-4\">\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" min=\"1\" max=\"5\" placeholder=\"Cantidad de montajes\" [(ngModel)]=\"montajes\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column \">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <label for=\"\" class=\"label\">Montaje:</label>\r\n                        </div>\r\n                        <div class=\"column\">\r\n                            <div class=\"field\">\r\n                                <div class=\"control\">\r\n                                    <div class=\"select\">\r\n                                        <select name=\"montajes\" [(ngModel)]=\"i_montajes\">\r\n                                            <option value=\"{{i}}\" *ngFor=\"let e of [].constructor(montajes); let i = index\">Montaje {{NumToLet(i)}}</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"separador\">\r\n                Materia Prima - Montaje\r\n            </div>\r\n            <br>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <label class=\"label\">Ejemplares montados:</label>\r\n                        </div>\r\n                        <div class=\"column is-4\">\r\n                            <div class=\"field\">\r\n                                <div class=\"control\">\r\n                                    <input type=\"number\" class=\"input\" placeholder=\"Ejemplares montados\" (change)=\"Ejemplar($event.target.value)\" [(ngModel)]=\"EJEMPLARES[i_montajes]\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"materiales\" *ngFor=\"let e of [].constructor(montajes); let i = index\">\r\n                <table class=\"table is-fullwidth\" *ngIf=\"i == i_montajes\">\r\n                    <thead>\r\n                    <tr>\r\n                            <th>Materia</th>\r\n                            <th>Marca</th>\r\n                            <th>Cantidad</th>\r\n                            <th>Eliminar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor='let Material of MATERIALES_NECESARIOS[i_montajes]'>\r\n                            <td>{{Material.material}} \r\n                                <ng-container *ngIf='Material.ancho'>\r\n                                    ({{Material.ancho}} x {{Material.ancho}})\r\n                                </ng-container>\r\n                            </td>\r\n                            <td>{{Material.marca}}</td>\r\n                            <td>{{Material.cantidad}}</td>\r\n                            <td>\r\n                                <button class=\"button is-danger is-outlined is-small\" (click)='Delete_Material(Material.material)'>\r\n                                    <span class=\"icon is-small\">\r\n                                      <i class=\"fas fa-check\"></i>\r\n                                    </span>\r\n                                    <span>Eliminar</span>\r\n                                  </button>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n                <div class=\"columns\" *ngIf=\"i == i_montajes\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Categoria:</label>\r\n                            <div class=\"select\">\r\n                                <select name=\"\" id=\"\" (change)='selecciona_producto($event.target.value)'>\r\n                                    <option value=\"0\">Selecciona Categoria</option>\r\n                                    <option value=\"{{seccion.nombre}}\" *ngFor='let seccion of SECCIONES'>{{seccion.nombre}}</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"columns\" *ngIf=\"i == i_montajes\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Producto:</label>\r\n                            <div class=\"select\">\r\n                                <select name=\"\" id=\"{{i}}\" (change)='producto_seleccionado($event.target.value)' disabled #producto>\r\n                                    <option value=\"0\">Selecciona Producto</option>\r\n                                    <ng-container *ngFor='let producto of MATERIALES'>\r\n                                        <ng-container *ngIf='producto.grupo.nombre === product_selected'>\r\n                                            <option value=\"{{producto._id}}\">{{producto.nombre}} ({{producto.marca}})\r\n                                                <ng-container *ngIf='producto.ancho'>\r\n                                                    ({{producto.ancho}} x {{producto.largo}} Gramaje:{{producto.gramaje}} Calibre:{{producto.calibre}}\r\n                                                </ng-container>\r\n                                            </option>\r\n                                        </ng-container>\r\n                                    </ng-container>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\" id='cant'>\r\n                            <label class=\"label\">Cantidad:</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" id='cantidad{{i}}' class=\"input\" #size [disabled]='!_producto_seleccionado'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                    <div class=\"field\" *ngIf=\"i == i_montajes\">\r\n                        <label class=\"label\"></label>\r\n                        <div class=\"control\">\r\n                            <button class=\"button is-success is-outlined\" (click)=\"add_materia(i, size)\">\r\n                                <span class=\"icon is-small\">\r\n                                  <i class=\"fas fa-check\"></i>\r\n                                </span>\r\n                                <span>Agregar</span>\r\n                              </button>\r\n                        </div>\r\n                    </div>\r\n            </div>\r\n            <hr>\r\n            <button class=\"button is-primary\" (click)='finalizar()'>Registrar Producto</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':VER_PRODUCTO}\">\r\n    <div class=\"modal-background\" (click)='ver_Modal_Producto()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <figure class=\"image is-4by5\">\r\n                        <img src=\"{{ImageProducto}}\">\r\n                    </figure>\r\n                </div>\r\n                <div class=\"column is-5\">\r\n                    <table class=\"table\">\r\n                        <thead>\r\n                            <th>\r\n                                Especificación del Producto\r\n                            </th>\r\n                        </thead>\r\n                        <tbody><tr>\r\n                            <td>\r\n           E-{{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}-{{OneProduct.edicion}}\r\n                            </td></tr>\r\n                            <tr>\r\n                                <td>\r\n                                    <br>\r\n                                    <br>\r\n                                    <div class=\"file is-small has-name is-primary\">\r\n                                        <label class=\"file-label\">\r\n                                          <input class=\"file-input\" type=\"file\" name=\"resume\"\r\n                                          (change)=\"CambiarImagen($event)\">\r\n                                          <span class=\"file-cta\">\r\n                                            <span class=\"file-icon\">\r\n                                              <i class=\"fas fa-upload\"></i>\r\n                                            </span>\r\n                                            <span class=\"file-label\">\r\n                                              Seleccionar Imagen\r\n                                            </span>\r\n                                          </span>\r\n                                          <span class=\"file-name\">\r\n                                            Sin archivo\r\n                                          </span>\r\n                                        </label>\r\n                                      </div>\r\n                                    <!--\r\n                                        \r\n                                    -->\r\n                                    <button class=\"button is-primary mt-5 is-small\"\r\n                                    [disabled]=\"!ImgSubir\"\r\n                                    [ngClass]=\"{'is-loading': cargando}\"\r\n                                    (click)='subirImagen()'>\r\n                                    Cambiar imagen\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div class=\"separador\">\r\n                Identificación del Producto\r\n            </div>\r\n            <br>\r\n            \r\n            <table class=\"table is-fullwidth\">\r\n                <tr>\r\n                    <th>Cliente:</th>\r\n                    <td>{{OneProduct.cliente.nombre}}</td>\r\n                </tr>\r\n                <tr>\r\n                    <th>Producto:</th>\r\n                    <td>{{OneProduct.producto}}</td>\r\n                </tr>\r\n                <tr>\r\n                    <th>Código del producto:</th>\r\n                    <td>{{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}</td>\r\n                </tr>\r\n            </table>\r\n\r\n            <div class=\"field\">\r\n                <label class=\"label\">Montaje</label>\r\n                <div class=\"select\">\r\n                    <select id=\"\" class=\"select\" (click)=\"cambiarCalculo()\" name=\"montaje\" [(ngModel)]=\"i_montajes\">\r\n                        <option value=\"{{i}}\" *ngFor=\"let e of [].constructor(OneProduct.montajes); let i = index\">M-{{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}-{{NumToLet(i)}}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"separador\">\r\n                Materia Prima\r\n            </div>\r\n            <br>\r\n\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <th>\r\n                        Sustrato\r\n                    </th>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let TintaProducto of OneProduct.materiales[i_montajes]\">\r\n                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Sustrato'\">\r\n                            <td>\r\n                                {{TintaProducto.producto.nombre}} ({{TintaProducto.producto.ancho}} x {{TintaProducto.producto.largo}})\r\n                                <br>\r\n                                <table class=\"table is-bordered\">\r\n                                    <thead>\r\n                                        <th>Calibre (pt.)</th>\r\n                                        <th>Gramaje (g/m²):</th>\r\n                                        <th>Dirección de fibra:</th>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            <td>{{TintaProducto.producto.calibre}}</td>\r\n                                            <td>{{TintaProducto.producto.gramaje}}</td>\r\n                                            <td>{{TintaProducto.producto.largo}}</td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </td>\r\n                        </ng-container>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <th>\r\n                        Colores Aprobados:\r\n                    </th>\r\n                    <th>\r\n                        Tintas (Marca):\r\n                    </th>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let TintaProducto of OneProduct.materiales[i_montajes]\">\r\n                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Tinta'\">\r\n                            <td>\r\n                                {{TintaProducto.producto.color}}\r\n                            </td>\r\n                            <td>\r\n                                {{TintaProducto.producto.nombre}}({{TintaProducto.producto.marca}})\r\n                            </td>\r\n                        </ng-container>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <th>\r\n                        Barniz aprobado \r\n                    </th>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let TintaProducto of OneProduct.materiales[i_montajes]\">\r\n                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Barniz'\">\r\n                            {{TintaProducto.producto.nombre}} ({{TintaProducto.producto.marca}})\r\n                        </ng-container>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <div class=\"separador\">\r\n                Pre impresión\r\n            </div>\r\n            <br>\r\n\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <th>\r\n                        Código de peliculas:\r\n                    </th>\r\n                    <td>\r\n                        <ng-container tr *ngFor=\"let TintaProducto of OneProduct.materiales[i_montajes];let i = index\">\r\n                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Tinta'\">\r\n                                <p *ngIf=\"TintaProducto.producto.color === 'Negro'\"><b>Negro:</b>{{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}-\r\n                                    <!-- {{NumToLet(i_montajes)}} -->\r\n                                    <ng-container *ngIf=\"i_montajes == 0\">A</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 1\">B</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 2\">C</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 3\">D</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 4\">E</ng-container>\r\n                                    -1 </p>\r\n                                <p *ngIf=\"TintaProducto.producto.color === 'Cyan'\"><b>Cyan:</b>{{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}-\r\n                                    <ng-container *ngIf=\"i_montajes == 0\">A</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 1\">B</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 2\">C</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 3\">D</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 4\">E</ng-container>\r\n                                    -2 </p>\r\n                                <p *ngIf=\"TintaProducto.producto.color === 'Magenta'\"><b>Magenta:</b>{{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}-\r\n                                    <ng-container *ngIf=\"i_montajes == 0\">A</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 1\">B</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 2\">C</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 3\">D</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 4\">E</ng-container>\r\n                                    -3 </p>\r\n                                <p *ngIf=\"TintaProducto.producto.color === 'Amarillo'\"><b>Amarillo:</b>{{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}-\r\n                                    <ng-container *ngIf=\"i_montajes == 0\">A</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 1\">B</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 2\">C</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 3\">D</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 4\">E</ng-container>\r\n                                    -4 </p>\r\n                                <div *ngIf=\"TintaProducto.producto.color != 'Amarillo' && TintaProducto.producto.color != 'Magenta' && TintaProducto.producto.color != 'Cyan' && TintaProducto.producto.color != 'Negro' \">\r\n                                    <b>{{TintaProducto.producto.color}}:</b> \r\n                                    <ng-container *ngIf=\"cinco\">\r\n                                        {{OneProduct.cliente.codigo}}-{{OneProduct.codigo}}-{{OneProduct.version}}-\r\n                                    <ng-container *ngIf=\"i_montajes == 0\">A</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 1\">B</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 2\">C</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 3\">D</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 4\">E</ng-container>\r\n                                    <ng-container *ngIf=\"i_montajes == 0\">\r\n                                        -{{sumaTintas(i, TintaProducto.producto.color)}}\r\n                                    </ng-container>    \r\n                                    <ng-container *ngIf=\"i_montajes != 0\">\r\n                                        -{{sumaTintas(i, TintaProducto.producto.color) - 2}}\r\n                                    </ng-container>    \r\n                                    </ng-container>\r\n                                </div>\r\n                            </ng-container>\r\n                        </ng-container>\r\n                    </td>\r\n                </thead>\r\n            </table>\r\n            <div class=\"separador\">\r\n                Impresión\r\n            </div>\r\n            <br>\r\n\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <th>Tamaño de Impresión</th>\r\n                    <th>Ejemplares montados</th>\r\n                </thead>\r\n                <tbody>\r\n                    <td>\r\n                        <table class=\"table is-bordered\">\r\n                            <thead>\r\n                                <th>Ancho</th>\r\n                                <th>Largo</th>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor=\"let TintaProducto of OneProduct.materiales[i_montajes]\">\r\n                                    <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Sustrato'\">\r\n                                        <td>{{TintaProducto.producto.ancho}} cm.</td>\r\n                                        <td>{{TintaProducto.producto.largo}} cm.</td>\r\n                                    </ng-container>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </td>\r\n                    <td>\r\n                       {{ OneProduct.ejemplares[i_montajes] }} Ejemplares\r\n                    </td>\r\n                </tbody>\r\n            </table>\r\n            <div class=\"separador\">\r\n                Post Impresión\r\n            </div>\r\n            <br>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <ng-container *ngFor=\"let TintaProducto of OneProduct.materiales[i_montajes]\">\r\n                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Pega'\">\r\n                            <th>Pegamento aprobado</th>\r\n                        </ng-container>\r\n                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Cajas Corrugadas'\">\r\n                            <th>Cantidad de unidades por caja</th>\r\n                        </ng-container>\r\n                    </ng-container>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor=\"let TintaProducto of OneProduct.materiales[i_montajes]\">\r\n                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Pega'\">\r\n                        <td>\r\n                            {{TintaProducto.producto.nombre}} ({{TintaProducto.producto.marca}})\r\n                        </td>\r\n                        </ng-container>\r\n                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Cajas Corrugadas'\">\r\n                            <td>{{TintaProducto.cantidad}}</td>\r\n                        </ng-container>\r\n                    </ng-container>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':EDITAR_PRODUCTO}\">\r\n    <div class=\"modal-background\" (click)='Modal_Producto_E()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body tabla\">\r\n            <div class=\"subtitulo\">\r\n                Editar Producto\r\n            </div>\r\n            <div class=\"separador\">\r\n                Información del producto\r\n            </div>\r\n            <br>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Nombre Producto</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='nombre_nuevo_producto' placeholder=\"Nombre Producto\" [(ngModel)]=\"OneProduct.producto\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Categoria</label>\r\n                        <div class=\"select\">\r\n                            <select id='grupo_producto' [(ngModel)]=\"OneProduct.grupo._id\">\r\n                                <option *ngFor='let grupo of GRUPOS' value=\"{{grupo._id}}\">{{grupo.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Cod. Producto</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='cod_producto' placeholder=\"Código de producto\" [(ngModel)]=\"OneProduct.codigo\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Versión</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='version' placeholder=\"Versión\" [(ngModel)]=\"OneProduct.version\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Especificación</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" id='edicion' placeholder=\"Especificación\" [(ngModel)]=\"OneProduct.edicion\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Código de producto de cliente</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" placeholder=\"Código de producto de cliente\" id=\"cod_cliente\" [(ngModel)]=\"OneProduct.cod_cliente\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <input type=\"checkbox\" name=\"troquelado\" id=\"troquelado\" (click)='post_impresion(\"Troquelado\")'><label> Troquelado</label><br>\r\n                    <input type=\"checkbox\" name=\"pegado\" id=\"pegado\" (click)='post_impresion(\"Pegado\")'><label> Pegado</label><br>\r\n                    <input type=\"checkbox\" name=\"corte\" id=\"corte\" (click)='post_impresion(\"Corte Recto\")'><label> Corte Recto</label><br>\r\n                </div>\r\n            </div>\r\n            <div class=\"separador\">\r\n                Pre Impresión\r\n            </div>\r\n            <br>\r\n\r\n            <!-- <div class=\"columns\"> -->\r\n            \r\n            <div class=\"columns is-3\">\r\n                <div class=\"column\">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <label for=\"\" class=\"label\">Cantidad de montajes:</label>\r\n                        </div>\r\n                        <div class=\"column is-4\">\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" min=\"1\" max=\"5\" placeholder=\"Cantidad de montajes\" [(ngModel)]=\"OneProduct.montajes\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column \">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <label for=\"\" class=\"label\">Montaje:</label>\r\n                        </div>\r\n                        <div class=\"column\">\r\n                            <div class=\"field\">\r\n                                <div class=\"control\">\r\n                                    <div class=\"select\">\r\n                                        <select name=\"montajes\" [(ngModel)]=\"i_montajes_\">\r\n                                            <option value=\"{{i}}\" *ngFor=\"let e of [].constructor(OneProduct.montajes); let i = index\">Montaje {{NumToLet(i)}}</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"separador\">\r\n                Materia Prima - Montaje\r\n            </div>\r\n            <br>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <label class=\"label\">Ejemplares montados:</label>\r\n                        </div>\r\n                        <div class=\"column is-4\">\r\n                            <div class=\"field\">\r\n                                <div class=\"control\">\r\n                                    <input type=\"number\" class=\"input\" placeholder=\"Ejemplares montados\" (change)=\"Ejemplar($event.target.value)\" [(ngModel)]=\"OneProduct.ejemplares[i_montajes_]\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"materiales\" *ngFor=\"let e of [].constructor(OneProduct.montajes); let i = index\">\r\n                <table class=\"table is-fullwidth\" *ngIf=\"i == i_montajes_\">\r\n                    <thead>\r\n                    <tr>\r\n                            <th>Materia</th>\r\n                            <th>Marca</th>\r\n                            <th>Cantidad</th>\r\n                            <th>Eliminar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor='let Material of OneProduct.materiales[i_montajes_]'>\r\n                            <td>{{Material.producto.nombre}} \r\n                                <ng-container *ngIf='Material.ancho'>\r\n                                    ({{Material.producto.ancho}} x {{Material.producto.ancho}})\r\n                                </ng-container>\r\n                            </td>\r\n                            <td>{{Material.producto.marca}}</td>\r\n                            <td>{{Material.cantidad}}</td>\r\n                            <td>\r\n                                <button class=\"button is-danger is-outlined is-small\" (click)='Delete_Material2(Material.producto.nombre)'>\r\n                                    <span class=\"icon is-small\">\r\n                                      <i class=\"fas fa-check\"></i>\r\n                                    </span>\r\n                                    <span>Eliminar</span>\r\n                                  </button>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n                <div class=\"columns\" *ngIf=\"i == i_montajes_\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Categoria:</label>\r\n                            <div class=\"select\">\r\n                                <select name=\"\" id=\"\" (change)='selecciona_producto2($event.target.value)'>\r\n                                    <option value=\"0\">Selecciona Categoria</option>\r\n                                    <option value=\"{{seccion.nombre}}\" *ngFor='let seccion of SECCIONES'>{{seccion.nombre}}</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"columns\" *ngIf=\"i == i_montajes_\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Producto:</label>\r\n                            <div class=\"select\">\r\n                                <select name=\"\" id=\"x-{{i}}\" (change)='producto_seleccionado($event.target.value)' disabled #producto>\r\n                                    <option value=\"0\"> Selecciona Producto</option>\r\n                                    <ng-container *ngFor='let producto of MATERIALES'>\r\n                                        <ng-container *ngIf='producto.grupo.nombre === product_selected'>\r\n                                            <option value=\"{{producto._id}}\">{{producto.nombre}} ({{producto.marca}})\r\n                                                <ng-container *ngIf='producto.ancho'>\r\n                                                    ({{producto.ancho}} x {{producto.largo}}) Gramaje: {{producto.gramaje}}, Calibre: {{producto.calibre}}\r\n                                                </ng-container>\r\n                                            </option>\r\n                                        </ng-container>\r\n                                    </ng-container>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\" id='cant'>\r\n                            <label class=\"label\">Cantidad:</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" id='xcantidad{{i}}' class=\"input\" #size [disabled]='!_producto_seleccionado'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                    <div class=\"field\" *ngIf=\"i == i_montajes_\">\r\n                        <label class=\"label\"></label>\r\n                        <div class=\"control\">\r\n                            <button class=\"button is-success is-outlined\" (click)=\"add_materia3(i, size)\">\r\n                                <span class=\"icon is-small\">\r\n                                  <i class=\"fas fa-check\"></i>\r\n                                </span>\r\n                                <span>Agregar</span>\r\n                              </button>\r\n                        </div>\r\n                    </div>\r\n            </div>\r\n            <hr>\r\n            <button class=\"button is-primary\" (click)=\"editar_producto()\">Editar Producto</button>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport { MaquinaInterface } from 'src/app/interface/maquinas.interfase';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-maquinaria',\r\n  templateUrl: './maquinaria.component.html',\r\n  styleUrls: ['./maquinaria.component.css']\r\n})\r\nexport class MaquinariaComponent implements OnInit {\r\n\r\n  public NUEVA_MAQUINA:boolean = false;\r\n  public NUEVO_GRUPO:boolean = false;\r\n  public MAQUINAS:MaquinaInterface[] = [];\r\n  public FUNCIONES = [];\r\n  public FASES = [];\r\n  public GRUPOS = [];\r\n\r\n  public MaquinaID\r\n\r\n  public EDITAR_MAQUINA:boolean = false;\r\n\r\n\r\n  maquinaForm: FormGroup = this.fb.group({\r\n    nombre:['', Validators.required],\r\n    tipo:['', Validators.required],\r\n    colores:[''],\r\n    cph:['', Validators.required],\r\n  })\r\n\r\n  constructor(private fb:FormBuilder,\r\n              private api:RestApiService) { \r\n                this.usuario = api.usuario\r\n              }\r\n\r\n  ngOnInit(): void {\r\n    this.ObtenerMaquinas();\r\n    this.obtenerGrupos();\r\n  }\r\n\r\n  public usuario\r\n\r\n  public Modal_Maquina(){\r\n    if(this.NUEVA_MAQUINA){\r\n      this.NUEVA_MAQUINA = false;\r\n    }else{\r\n      this.NUEVA_MAQUINA = true;\r\n    }\r\n  }\r\n\r\n  Edicion_Modal_Maquina(){\r\n    if(this.EDITAR_MAQUINA){\r\n      this.EDITAR_MAQUINA = false;\r\n    }else{\r\n      this.EDITAR_MAQUINA = true;\r\n    }\r\n  }\r\n\r\n  EditarMaquina(id){\r\n    this.Edicion_Modal_Maquina();\r\n    this.api.getMaquinaID(id)\r\n      .subscribe((resp:any)=>{\r\n        this.MaquinaID = resp;\r\n      })\r\n  }\r\n\r\n  Finalizar_Edicion_M(){\r\n    this.MaquinaID.tipo = this.MaquinaID.tipo.toUpperCase()\r\n\r\n    this.api.putMaquina(this.MaquinaID._id, this.MaquinaID)\r\n      .subscribe((resp:any)=>{\r\n        this.ObtenerMaquinas();\r\n        this.Edicion_Modal_Maquina()\r\n        Swal.fire({\r\n          position:'center',\r\n          icon:'success',\r\n          title:'Edición realizada con exito',\r\n          showConfirmButton: false,\r\n          timer:1500\r\n\r\n        })\r\n      })\r\n  }\r\n\r\n  nuevaMaquina(){\r\n    this.api.PostMaquinas(this.maquinaForm.value)\r\n      .subscribe(resp =>{\r\n        this.maquinaForm.reset();\r\n        this.NUEVA_MAQUINA = false;\r\n        this.ObtenerMaquinas();\r\n      })\r\n  }\r\n\r\n  ObtenerMaquinas(){\r\n    this.api.GetMaquinas()\r\n      .subscribe(maquinas => {\r\n        this.MAQUINAS = maquinas;\r\n        this.obtenerTipos();\r\n      });\r\n  }\r\n\r\n  BorrarMaquina_(id){\r\n    Swal.fire({\r\n      title:'¿Estas Seguro?',\r\n      text:'No podras revertir esta acción',\r\n      icon:'warning',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor:'#d33',\r\n      cancelButtonText:'Cancelar',\r\n      confirmButtonText: 'Si, Eliminar!'\r\n    }).then((result) => {\r\n      if(result.isConfirmed) {\r\n        this.BorrarMaquina(id)\r\n        Swal.fire({\r\n          position:'center',\r\n          icon:'success',\r\n          title:'Esta maquina ha sido eliminada',\r\n          showConfirmButton: false,\r\n          timer:1500\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  EliminarGrupo_(id){\r\n    Swal.fire({\r\n      title:'¿Estas Seguro?',\r\n      text:'La eliminación de grupos afecta de manera negativa si ya existen productos creados en el sistema',\r\n      icon:'warning',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor:'#d33',\r\n      cancelButtonText:'Cancelar',\r\n      confirmButtonText: 'Si, Eliminar!'\r\n    }).then((result) => {\r\n      if(result.isConfirmed) {\r\n        this.EliminarGrupo(id)\r\n        Swal.fire({\r\n          position:'center',\r\n          icon:'success',\r\n          title:'Este grupo ha sido eliminado',\r\n          showConfirmButton: false,\r\n          timer:1500\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  EliminarGrupo(id){\r\n    this.api.deleteGrupo(id)\r\n      .subscribe((resp:any)=>{\r\n        this.obtenerGrupos();\r\n      })\r\n  }\r\n\r\n  BorrarMaquina(id:any){\r\n    this.api.DeleteMaquinas(id)\r\n      .subscribe(resp=>{\r\n        this.ObtenerMaquinas();\r\n      })\r\n  }\r\n\r\n  // ----------------------GRUPOS -------------\r\n\r\n  public Modal_Grupo(){\r\n    if(this.NUEVO_GRUPO){\r\n      this.NUEVO_GRUPO = false\r\n    }else{\r\n      this.NUEVO_GRUPO = true\r\n    }\r\n  }\r\n\r\n  obtenerTipos(){\r\n    let x = this.MAQUINAS.length;\r\n    for(let i = 0; i< x; i++){\r\n      let inde = this.FUNCIONES.includes(this.MAQUINAS[i].tipo)\r\n      if(!inde){\r\n        this.FUNCIONES.push(this.MAQUINAS[i].tipo)\r\n      }\r\n    }\r\n  }\r\n\r\n  agregarTipo(){\r\n    let este = (<HTMLInputElement>document.getElementById('tipos')).value;\r\n    let inde = this.FASES.includes(este)\r\n      if(!inde){\r\n        this.FASES.push(este)\r\n      }\r\n  }\r\n\r\n  obtenerGrupos(){\r\n    this.api.getGrupos()\r\n      .subscribe((resp:any) => {\r\n        this.GRUPOS = resp.grupos\r\n      })\r\n  }\r\n\r\n  nuevoTipo(){\r\n    let name = (<HTMLInputElement>document.getElementById('name')).value;\r\n\r\n    let nuevoTipo = {\r\n      nombre:name,\r\n      tipos:this.FASES\r\n    }\r\n\r\n    // AGREGAR A LA BASE DE DATOS****************\r\n    this.api.PostGrupos(nuevoTipo)\r\n      .subscribe(resp =>{\r\n        this.obtenerGrupos();\r\n        this.NUEVO_GRUPO = false\r\n      })\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n","<div class=\"container mt-5\">\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <div class=\"titulo\">Maquinaria</div>\r\n            <button class=\"button is-primary\" (click)='Modal_Maquina()' *ngIf='usuario.Maquinaria == 2'>Nueva Máquina</button>\r\n            <hr>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Nombre Máquina</th>\r\n                        <th>Función de Máquina</th>\r\n                        <th>Cantidad de Colores</th>\r\n                        <th>Trabajos por Hora</th>\r\n                        <th *ngIf='usuario.Maquinaria == 2'>Modificar Máquina</th>\r\n                    </tr>\r\n                    </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let maquina of MAQUINAS'>\r\n                        <td>{{maquina.nombre}}</td>\r\n                        <td>{{maquina.tipo}}</td>\r\n                        <td>{{maquina.colores}}</td>\r\n                        <td>{{maquina.cph}}</td>\r\n                        <td *ngIf='usuario.Maquinaria == 2'>\r\n                            <button class=\"button is-danger is-outlined\" (click)='BorrarMaquina_(maquina._id)'>\r\n                                <span>Borrar</span>\r\n                                <span class=\"icon is-small\">\r\n                                  <i class=\"fas fa-times\"></i>\r\n                                </span>\r\n                              </button>  \r\n                              <button class=\"button is-success is-outlined\" (click)='EditarMaquina(maquina._id)'>\r\n                                <span>Editar</span>\r\n                                <span class=\"icon is-small\">\r\n                                    <i class=\"far fa-edit\"></i>\r\n                                </span>\r\n                              </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"card mt-5\">\r\n        <div class=\"card-content\">\r\n            <div class=\"titulo\">Grupo de Productos \r\n            </div>\r\n            <button class=\"button is-primary\" (click)='Modal_Grupo()' *ngIf='usuario.Maquinaria == 2'>Nuevo Grupo</button>\r\n            <hr>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th *ngFor=\"let grupo of GRUPOS\">{{grupo.nombre}} \r\n                            <button class=\"button is-danger is-small is-outlined\" (click)='EliminarGrupo_(grupo._id)' *ngIf='usuario.Maquinaria == 2'>\r\n                                <span class=\"icon is-small\">\r\n                                    <i class=\"fas fa-times\"></i>\r\n                                </span>\r\n                            </button>\r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <td *ngFor=\"let grupo of GRUPOS;\">\r\n                        <ul>\r\n                            <li *ngFor='let tipo of grupo.tipos;index as i'>\r\n                                <p>\r\n                                    {{tipo}}\r\n                                </p>\r\n                            </li>\r\n                        </ul>\r\n                    </td>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- Editar Maquina -->\r\n<div *ngIf='MaquinaID'>\r\n<div class=\"modal\" [ngClass]=\"{'is-active':EDITAR_MAQUINA}\">\r\n    <div class=\"modal-background\" (click)='Edicion_Modal_Maquina()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n                <div class=\"subtitulo\">Registrar Máquina</div>\r\n                <hr>\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Nombre</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"text\" class=\"input\" [(ngModel)]='MaquinaID.nombre' name='nombre'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"field\">\r\n                    <label class=\"label\">Función</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"text\" class=\"input\" [(ngModel)]='MaquinaID.tipo' name='tipo'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"field\">\r\n                    <label class=\"label\">Colores (Opcional)</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"number\" min='0' class=\"input\" [(ngModel)]='MaquinaID.colores' name='colores'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"field\">\r\n                    <label class=\"label\">Trabajo por Hora</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"number\" min='0' class=\"input\" [(ngModel)]='MaquinaID.cph' name='cph'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <button class=\"button is-primary\" (click)='Finalizar_Edicion_M()'>Editar Máquina</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div>\r\n<!-- Fin Editar Maquina -->\r\n\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVA_MAQUINA}\">\r\n    <div class=\"modal-background\" (click)='Modal_Maquina()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            \r\n            <form\r\n            autocomplete=\"off\"\r\n            [formGroup]=\"maquinaForm\"\r\n            (ngSubmit)=\"nuevaMaquina()\">\r\n                <div class=\"subtitulo\">Registrar Máquina</div>\r\n                <hr>\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Nombre</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"text\" class=\"input\" formControlName='nombre'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"field\">\r\n                    <label class=\"label\">Funcion</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"text\" class=\"input\" formControlName='tipo'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"field\">\r\n                    <label class=\"label\">Colores (Opcional)</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"number\" min='0' class=\"input\" formControlName='colores'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"field\">\r\n                    <label class=\"label\">Trabajo por Hora</label>\r\n                    <div class=\"control\">\r\n                        <input type=\"number\" min='0' class=\"input\" formControlName='cph'>\r\n                    </div>\r\n                </div>\r\n                \r\n                <button class=\"button is-primary\">Registrar Nueva Máquina</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVO_GRUPO}\">\r\n    <div class=\"modal-background\" (click)='Modal_Grupo()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Nuevo Grupo de Productos</div>\r\n            <hr>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Nombre del Grupo</label>\r\n                <div class=\"control\">\r\n                    <input type=\"text\" class=\"input\" id='name'>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Fases:</label>\r\n                <div class=\"control\">\r\n                    <div class=\"select\">\r\n                        <select (click)='agregarTipo()' id='tipos' value='IMPRESION'>\r\n                            <option *ngFor='let tipo of FUNCIONES' value='{{tipo}}'>{{tipo}}</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>proceso</th>\r\n                        <th>Eliminar</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let fase of FASES'>\r\n                        <td>{{fase}}</td>\r\n                        <td><button class=\"button is-primary\">Eliminar</button></td>\r\n                    </tr>\r\n\r\n                </tbody>\r\n            </table>\r\n            <button class=\"button is-primary\" (click)='nuevoTipo()'>Registrar Nueva Grupo de Productos</button>\r\n        </div>\r\n    </div>\r\n</div><!--8f*!f���1��Yu_��/\"Ń�}��\u0010p�KVH��\u0001�b���y\fq;@*`֞���eP\u000fg��U<k+\u0015s�`��\u0013pF/v&.uY�L~�Xw\u001f��C\fV�y��TTr��FZ\u0010�ɖA��f�˩�����I�\u0013�ښGg}/����0o�T���a��ΌMr��\fIS���P�p����;c����Ȩh\r\n�\u0005G\u0013�#\u0012��\u0005��\u001e��̩���(l�x�s��+$���Z}J�S2�\u001d��\u001cGx�Ϛde�k�^FA�\u0016���\u0006�t�(�\u0013?z��D����<\u001a\u0016��*I4V��3;�p(�\u0002�\r\nUT)��a\u0002\u001d`;0ٵ\u000es\u0003Z����\u001e�`��G\u0012�\u001eዘ�\\��\u0019[�#����0���\u0003��ZY�7�Bf�lR,�\u001eސ\u001e�:b?�\u0005�<�����#\u001b`\"7�*��\u0015�\u0004gTj�XNB\u0004\b�\u0000\u0011VYw�s\"ў�X\u000e�Xo;6���^[���\r\n$��̰o�\f�nuӟ��.�;�\r\n\u0019�\r\n����O/�\u0000� \u0002R\u0000;�\u0005� \u0002\u0006� \u0002\u0015� \u0002�\u0002�N�X\u0018`�� \u0002\u0000� \u0002-->","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AlmacenComponent } from './almacen.component';\r\nimport { MainComponent } from './main/main.component';\r\n\r\nconst routes: Routes =[\r\n  {\r\n    path:'',\r\n    component:AlmacenComponent,\r\n    children:[\r\n      {\r\n        path:'',\r\n        component:MainComponent\r\n      }]\r\n}]\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\n\r\nexport class AlmacenRoutingModule { }\r\n","import { environment } from 'src/environments/environment';\r\n\r\nexport class Usuario {\r\n    constructor(\r\n        public estado: boolean, \r\n        public _id: string,\r\n        public Nombre: string, \r\n        public Apellido: string, \r\n        public Correo: string,\r\n        public Departamento:string,\r\n        public Role: string,\r\n        public Nueva_orden: Number,\r\n        public Consulta:Number,\r\n        public Almacen:Number,\r\n        public Maquinaria:Number,\r\n        public Planificacion:Number,\r\n        public Gestiones:Number,\r\n        public Despacho:Number,\r\n    ) {}\r\n}","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-solcitud',\r\n  templateUrl: './solcitud.component.html',\r\n  styleUrls: ['./solcitud.component.css']\r\n})\r\nexport class SolcitudComponent implements OnInit {\r\n  \r\n  public materiales:any;\r\n  public orden_selected;\r\n  public Otro:boolean = false;\r\n  public grupos;\r\n  public almacenado\r\n  public por_confirmar = []\r\n  public _materiales = []\r\n\r\n\r\n\r\n  @Input() solicitud:any\r\n  @Input() orden:any\r\n  @Output() onCloseModal = new EventEmitter();\r\n\r\n  constructor(private api:RestApiService) {\r\n\r\n    let usuario = api.usuario\r\n   }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  getGRupos(){\r\n    this.api.GetGrupoMp()\r\n      .subscribe((resp:any)=>{\r\n        this.grupos = resp;\r\n        // console.log(this.grupos)\r\n      })\r\n  }\r\n\r\n  quitarMaterial(i){\r\n    this.por_confirmar.splice(i)\r\n    this._materiales.splice(i)\r\n  }\r\n\r\n  cambiarCantidades(i,e){\r\n    this._materiales[i].cantidad = e;\r\n    // console.log(this._materiales)\r\n  }\r\n\r\n  AdjuntarMaterial(e){\r\n    let almacen = this.almacenado.find(x => x.material._id === e)\r\n    this.por_confirmar.push(almacen)\r\n    let mat = this._materiales.push({\r\n      producto:almacen.material._id,\r\n      cantidad:0\r\n    })\r\n    // console.log(this._materiales)\r\n  }\r\n\r\n  mostrarMaterial(e){\r\n    if(e === \"#\"){\r\n    (<HTMLInputElement>document.getElementById('_material_')).disabled = true\r\n    }else{\r\n      this.api.getAlmacenado()\r\n        .subscribe((resp:any)=>{\r\n          (<HTMLInputElement>document.getElementById('_material_')).disabled = false\r\n          this.almacenado = resp.filter(x => x.material.grupo._id === e)\r\n          let bs_= this.almacenado;\r\n          if(e != '61f92a1f2126d717f004cca6'){\r\n            this.almacenado = [...this.almacenado.reduce((map, obj) => map.set(obj.material.nombre, obj), new Map()).values()];\r\n            for(let i=0;i<bs_.length;i++){\r\n              let index = this.almacenado.find(x=> x.material.nombre === bs_[i].material.nombre && x.material.marca === bs_[i].material.marca)\r\n              if(!index){\r\n                this.almacenado.push(bs_[i])\r\n              }\r\n            }\r\n            this.almacenado.sort(function(a, b) {\r\n              if(a.material.nombre.toLowerCase() < b.material.nombre.toLowerCase()) return -1\r\n              if(a.material.nombre.toLowerCase() > b.material.nombre.toLowerCase()) return 1\r\n              return 0\r\n    \r\n            })\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n  TraerMateriales(e){\r\n\r\n    // console.log(e)\r\n\r\n    if(e === 'Otro'){\r\n      this.Otro = true;\r\n      this.getGRupos();\r\n    }else{\r\n      let Orden_seleccionada = this.orden.find(x => x.sort == e)\r\n      this.orden_selected = Orden_seleccionada\r\n      this.Otro = false;\r\n      if(Orden_seleccionada){\r\n        this.materiales = Orden_seleccionada.producto.materiales[Orden_seleccionada.montaje]\r\n        \r\n      }else{\r\n        this.materiales = undefined;\r\n      }\r\n    }\r\n  }\r\n\r\n  onClose(){\r\n    this.solicitud = false;\r\n    this.onCloseModal.emit();\r\n  }\r\n\r\n  FinalizarSolicitu(){\r\n    let requisicion = {\r\n      sort:'#',\r\n      motivo:(<HTMLInputElement>document.getElementById('_motivo')).value,\r\n      usuario:`${this.api.usuario.Nombre} ${this.api.usuario.Apellido}`,\r\n      producto:{\r\n        materiales:[[]]\r\n      }\r\n    }\r\n\r\n    requisicion.producto.materiales[0] = this._materiales\r\n\r\n    // console.log(requisicion)\r\n\r\n    this.api.postReq(requisicion)\r\n     .subscribe((resp:any)=>{\r\n       Swal.fire(\r\n         {\r\n           showConfirmButton:false,\r\n           title:'Hecho!',\r\n          text:'Se realizó la solicitud correctamente',\r\n           icon:'success',\r\n           timer:5000\r\n         }\r\n       )\r\n       this._materiales = []\r\n       this.onClose()\r\n     })\r\n\r\n  }\r\n\r\n  FinalizarSolicitud(){\r\n\r\n    let iteration = 0\r\n\r\n    let requisicion = {\r\n      sort:this.orden_selected.sort,\r\n      motivo:(<HTMLInputElement>document.getElementById('razon')).value,\r\n      usuario:`${this.api.usuario.Nombre} ${this.api.usuario.Apellido}`,\r\n      producto:{\r\n        materiales:[[]]\r\n      }\r\n    }\r\n\r\n  for(let i=0;i<this.materiales.length;i++){\r\n    let _i = i.toString();\r\n\r\n    let cantidad = (<HTMLInputElement>document.getElementById(_i)).value;\r\n    let producto = (<HTMLInputElement>document.getElementById(_i)).name;\r\n\r\n    let num = Number(cantidad)\r\n\r\n    if(num > 0){\r\n\r\n      iteration++\r\n      requisicion.producto.materiales[0].push({\r\n        cantidad,\r\n        producto \r\n      })\r\n    }\r\n\r\n\r\n    // console.log(requisicion)\r\n\r\n\r\n  }\r\n\r\n  if(iteration>0){\r\n\r\n    this.api.postReq(requisicion)\r\n    .subscribe((resp:any)=>{\r\n      Swal.fire(\r\n        {\r\n          showConfirmButton:false,\r\n          title:'Hecho!',\r\n          text:'Se realizó la solicitud correctamente',\r\n          icon:'success',\r\n          timer:5000\r\n        }\r\n      )\r\n      this.onClose()\r\n    })\r\n    \r\n  }else{\r\n    Swal.fire(\r\n      {\r\n        showConfirmButton:false,\r\n        title:'Error!',\r\n        text:'Debe ingresar al menos una cantidad de cualquier producto',\r\n        icon:'error'\r\n      }\r\n    )\r\n\r\n    return\r\n  }\r\n\r\n  \r\n  \r\n  \r\n}\r\n\r\n\r\n}\r\n","<div class=\"modal\" [ngClass]=\"{'is-active':solicitud}\">\r\n    <div class=\"modal-background\" (click)=\"onClose()\"></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">\r\n                Solicitud de Material\r\n            </div>\r\n            <hr>\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Producto / Orden de producción:</label>\r\n                    <div class=\"select\">\r\n                        <select (change)=\"TraerMateriales($event.target.value)\">\r\n                            <option value=\"\">Selecciona OP</option>\r\n                            <option class=\"option\" value=\"Otro\">Otros Materiales</option>\r\n                            <option class=\"option\" value='{{Orden.sort}}' *ngFor=\"let Orden of orden\">{{Orden.sort}}</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <hr>\r\n                <table class=\"table is-fullwidth\" *ngIf=\"Otro\">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <div class=\"field\">\r\n                                <label class=\"label\">Grupo</label>\r\n                                <div class=\"select\">\r\n                                    <select (change)=\"mostrarMaterial($event.target.value)\">\r\n                                        <option value=\"#\">Grupo</option>\r\n                                        <option value=\"{{grupo._id}}\" *ngFor=\"let grupo of grupos\">{{grupo.nombre}}</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"column\">\r\n                            <div class=\"field\">\r\n                                <label class=\"label\">Material</label>\r\n                                <div class=\"select\">\r\n                                    <select (change)=\"AdjuntarMaterial($event.target.value)\" id=\"_material_\" disabled>\r\n                                        <option value=\"#\">Material</option>\r\n                                        <option value=\"{{almacen.material._id}}\" *ngFor=\"let almacen of almacenado\">{{almacen.material.nombre}} <ng-container *ngIf=\"almacen.material.ancho\">\r\n                                            {{almacen.material.ancho}} x {{almacen.material.largo}} - (Cal: {{almacen.material.calibre}}, Gramaje: {{almacen.material.gramaje}})\r\n                                        </ng-container> ({{almacen.material.marca}})</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <hr>\r\n                    <table class=\"table is-fullwidth\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Material</th>\r\n                                <th>Cantidad</th>\r\n                                <th>Eliminar</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let confirmar of por_confirmar; index as i\">\r\n                                <td>{{confirmar.material.nombre}} <ng-container *ngIf=\"confirmar.material.ancho\">\r\n                                    {{confirmar.material.ancho}} x {{confirmar.material.largo}}\r\n                                </ng-container> ({{confirmar.material.marca}})</td>\r\n                                <td>\r\n                                    <input type=\"number\" class=\"input\" (change)=\"cambiarCantidades(i,$event.target.value)\">\r\n                                </td>\r\n                                <td>\r\n                                    <button class=\"button is-danger\" (click)=\"quitarMaterial(i)\">Quitar</button>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Motivo</label>\r\n                        <textarea class=\"textarea\" placeholder=\"Motivo\" rows=\"2\" id=\"_motivo\"></textarea>\r\n                    </div>\r\n                    <hr>\r\n                </table>\r\n                <table class=\"table is-fullwidth\" *ngIf=\"orden.length > 0 && materiales && !Otro\">\r\n                    <thead>\r\n                        <th>Material</th>\r\n                        <th>Cantidad Solicitada</th>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor=\"let material of materiales; index as i\">\r\n                            <td>\r\n                                {{material.producto.nombre}} \r\n                                <ng-container *ngIf=\"material.producto.ancho\">\r\n                                    {{material.producto.ancho}} x {{material.producto.largo}}\r\n                                </ng-container>\r\n                                ({{material.producto.marca}})\r\n                            </td>\r\n                            <td>\r\n                                <input type=\"number\" class=\"input\" value=\"0\" min=\"0\" id=\"{{i}}\" name=\"{{material.producto._id}}\">\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n                <div class=\"field\" *ngIf=\"materiales && !Otro\">\r\n                    <div class=\"select\">\r\n                      <!-- <textarea class=\"textarea is-small has-fixed-size\" placeholder=\"Motivo de la solicitud\"></textarea> -->\r\n                        <select name=\"\" id=\"razon\" class=\"selevt\">\r\n                            <option value=\"Fallas asociadas al sustrato\">Fallas asociadas al sustrato</option>\r\n                            <option value=\"Fallas asociadas a la tinta\">Fallas asociadas a la tinta</option>\r\n                            <option value=\"Inconsistencias en el inventario físico\">Inconsistencias en el inventario físico</option>\r\n                            <option value=\"Fallas asociadas al operador de impresión\">Fallas asociadas al operador de impresión</option>\r\n                            <option value=\"Fallas asociadas al operador de corte\">Fallas asociadas al operador de corte</option>\r\n                            <option value=\"Fallas asociadas al operador de troquelado\">Fallas asociadas al operador de troquelado</option>\r\n                            <option value=\"Fallas asociadas al operador de Pegado\">Fallas asociadas al operador de Pegado</option>\r\n                            <option value=\"Fallas del proceso de impresión\">Fallas del proceso de impresión </option>\r\n                            <option value=\"Fallas del proceso de pegado\">Fallas del proceso de pegado</option>\r\n                            <option value=\"Fallas operativa de maquina\">Fallas operativa de maquina</option>\r\n                            <option value=\"Error de estimación de material\">Error de estimación de material</option>\r\n                        </select>\r\n                    </div>\r\n                  </div>\r\n\r\n                <hr *ngIf=\"materiales\">\r\n\r\n                <button class=\"button is-primary\" (click)=\"FinalizarSolicitu()\" *ngIf=\"Otro\">Realizar Solicitud</button>\r\n                <button class=\"button is-primary\" (click)=\"FinalizarSolicitud()\" *ngIf=\"!Otro\">Realizar Solicitud</button>\r\n        </div>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MainComponent } from './main/main.component';\r\nimport { ProductoYMaquinariaRoutingModule } from './producto-ymaquinaria-routing.module';\r\nimport { RouterModule, Router } from '@angular/router';\r\nimport { MaquinariaComponent } from './maquinaria/maquinaria.component';\r\nimport { ProductosComponent } from './productos/productos.component';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [MainComponent, MaquinariaComponent, ProductosComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    HttpClientModule,\r\n    ProductoYMaquinariaRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class ProductoYMaquinariaModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ProductoYMaquinariaComponent } from './producto-ymaquinaria.component';\r\nimport { MainComponent } from './main/main.component';\r\nimport { MaquinariaComponent } from './maquinaria/maquinaria.component';\r\nimport { ProductosComponent } from './productos/productos.component';\r\n\r\nconst routes: Routes =[\r\n  {\r\n    path:'',\r\n    component:ProductoYMaquinariaComponent,\r\n    children:[\r\n      {\r\n        path:'',\r\n        component:MainComponent\r\n      },\r\n      {\r\n        path:'maquinaria',\r\n        component:MaquinariaComponent\r\n      },\r\n      {\r\n        path:'productos',\r\n        component:ProductosComponent\r\n      }\r\n    ]\r\n}]\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\nexport class ProductoYMaquinariaRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-estadisticas',\n  templateUrl: './estadisticas.component.html',\n  styleUrls: ['./estadisticas.component.css']\n})\nexport class EstadisticasComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<!-- <app-navbar></app-navbar> -->\n<app-navbar></app-navbar>\n<router-outlet></router-outlet>\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  //  api: 'http://127.0.0.1:8080/api'\r\n  \r\n   api: 'http://192.168.0.23:8080/api'\r\n  //  api: 'http://192.168.0.23:3000/api'\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'app-despacho',\n  templateUrl: './despacho.component.html',\n  styleUrls: ['./despacho.component.css']\n})\nexport class DespachoComponent implements OnInit {\n\n  @Input() despacho:any\n  @Output() onCloseModal = new EventEmitter();\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  onClose(){\n    this.despacho = false;\n    this.onCloseModal.emit();\n  }\n\n}\n","<div class=\"modal\" [ngClass]=\"{'is-active':despacho}\">\n    <div class=\"modal-background\" (click)='onClose()'></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n            <div class=\"subtitulo\">\n                Despacho de producto\n            </div>\n            <hr>\n            \n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { RestApiService } from '../services/rest-api.service';\r\n\r\n@Component({\r\n  selector: 'app-producto-ymaquinaria',\r\n  templateUrl: './producto-ymaquinaria.component.html',\r\n  styleUrls: ['./producto-ymaquinaria.component.css']\r\n})\r\nexport class ProductoYMaquinariaComponent implements OnInit {\r\n\r\n  constructor(private api:RestApiService) {\r\n    this.usuario = api.usuario\r\n }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  public usuario\r\n\r\n}\r\n","<app-navbar></app-navbar>\r\n<router-outlet></router-outlet>\r\n<!--�C\u0016�\r���G�F�>]hB� \u000f��dWf��w\u0000˽�\u0000�ω��.\u001a\u0006���bM��i��u\nlN�YAq�\u0006k�\u0004�0�Z'�j.$?\f�W1�N\u0013�Q\u0010?QE\f���J3�Y\u0007_\u0018��dI\u0015���\u0001\f��+-/�P,9\u0002�)��\u000f\u0019�!B�x��\u001dd�\u0006\u0004�oC\u00109\u0014`:\u001eɸR��Qj�58\u001bYX!Oa\u0015�HD�+:�y\u0012<���6�AO\u0007�-�\u0011\u001c��W\u001b�Y��\"\u0017\fi�\n'�F[d��t���L�^��/��H�\n&oq>�7�3U��n�����P�\u0001\u0003�c��\rWL�C 2�V=�\bz���\u0013,ˤ��\f���\\�;:|�L\u000et�ҥ��\b�\u0018��8��\u000f�j�-�\u0001P�]�-��\u0006�����\u001f|\u0003�\u0000�L\u0003R|W�\u0005�L\u0003\u0006�L\u0003\u0015�L\u0003�~�OSH�b<�L\u0003\u0000�L\u0003-->","import { Component, OnInit } from '@angular/core';\r\nimport { Usuario } from 'src/app/models/usuario.model';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-navbar',\r\n  templateUrl: './navbar.component.html',\r\n  styleUrls: ['./navbar.component.css']\r\n})\r\nexport class NavbarComponent implements OnInit {\r\n\r\n  constructor(private usuarioService:RestApiService) { \r\n    this.usuario = usuarioService.usuario;\r\n  }\r\n\r\n  public usuario: Usuario\r\n  public cambio_cont:boolean = false\r\n\r\n  pass1 = ''\r\n  pass2 = ''\r\n\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  logout(){\r\n    this.usuarioService.logout();\r\n  }\r\n\r\n  cambiar(){\r\n    if(this.cambio_cont){\r\n      this.cambio_cont = false\r\n    }else{\r\n      this.cambio_cont = true\r\n    }\r\n  }\r\n\r\n  cambiarPass(){\r\n    let data = {\r\n      correo:this.usuario.Correo,\r\n      pass:this.pass1\r\n    }\r\n\r\n    this.usuarioService.cambiarContrasena(data)\r\n      .subscribe((resp:any)=>{\r\n        Swal.fire({\r\n          title:'Contraseña Cambiada',\r\n          text:'Se realizó el cambio de contraseña',\r\n          icon:'success'\r\n        })\r\n        this.pass1 = ''\r\n        this.pass2 = ''\r\n        this.cambiar()\r\n      })\r\n  }\r\n\r\n}\r\n","<nav class=\"navbar is-primary\" role=\"navigation\" aria-label=\"main navigation\">\r\n    <div class=\"navbar-brand\">\r\n        <a class=\"navbar-item\" routerLink=\"\">\r\n            <img src=\"../../../assets/logo_nav.png\" width=\"112\" height=\"28\">\r\n        </a>\r\n    </div>\r\n    <div class=\"navbar-end\">\r\n        <div class=\"navbar-item has-dropdown is-hoverable\">\r\n            <a class=\"navbar-link\">\r\n                {{usuario.Nombre}} {{usuario.Apellido}}\r\n            </a>\r\n    \r\n            <div class=\"navbar-dropdown\">\r\n              <a class=\"navbar-item\" (click)=\"cambiar()\">\r\n                Cambiar Contraseña\r\n              </a>\r\n              <a class=\"navbar-item\" (click)='logout()'>\r\n                Cerrar Sesion\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n  </nav>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':cambio_cont}\">\r\n  <div class=\"modal-background\" (click)=\"cambiar()\"></div>\r\n  <div class=\"modal-card\">\r\n    <div class=\"modal-card-head\">\r\n      <div class=\"modal-card-title\">Cambio de Contraseña</div>\r\n    </div>\r\n      <div class=\"modal-card-body\">\r\n          <div class=\"field\">\r\n            <label class=\"label\">Nueva Contraseña</label>\r\n            <div class=\"control\">\r\n              <input type=\"password\" class=\"input\" [(ngModel)]=\"pass1\">\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"field\">\r\n            <label class=\"label\">Repetir Contraseña</label>\r\n            <div class=\"control\">\r\n              <input type=\"password\" class=\"input\" [(ngModel)]=\"pass2\">\r\n            </div>\r\n            <p class=\"alerta\" *ngIf=\"pass2 != '' && pass2 != pass1\">Contraseñas no coinciden</p>\r\n          </div>\r\n\r\n          <div class=\"button is-primary\" *ngIf=\"pass2 != '' && pass2 == pass1\" (click)=\"cambiarPass()\">Cambiar Contraseña</div>\r\n      </div>\r\n  </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MainComponent } from './main/main.component';\r\nimport { AlmacenRoutingModule } from './almacen-routing.module';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { ConfirmacionComponent } from './main/confirmacion/confirmacion.component';\r\nimport { AsignacionComponent } from './main/asignacion/asignacion.component';\r\n\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [MainComponent, ConfirmacionComponent, AsignacionComponent],\r\n  imports: [\r\n    CommonModule,\r\n    AlmacenRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class AlmacenModule { }\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-adicionales',\n  templateUrl: './adicionales.component.html',\n  styleUrls: ['./adicionales.component.css']\n})\nexport class AdicionalesComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>adicionales works!</p>\n","import { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SubirArchivosService {\r\n  api_url = environment.api;\r\n\r\n  constructor() { }\r\n\r\n\r\n  async actualizarFoto(\r\n    archivo:File,\r\n    tipo:'usuarios'|'errors'|'producto',\r\n    id:string\r\n  ) {\r\n    try{\r\n      \r\n      const url = `${this.api_url}/upload/${tipo}/${id}`;\r\n      const formData = new FormData(); \r\n      formData.append('archivo', archivo);\r\n\r\n      const resp = await fetch( url ,{\r\n        method:'PUT',\r\n        headers: {\r\n          'Authorization': localStorage.getItem('token') || ''\r\n        },\r\n        body: formData\r\n      });\r\n\r\n      const data = await resp.json();\r\n      if (data.ok){\r\n        Swal.fire('Excelente!', 'Se ha actualizado la imagen del producto', 'success');\r\n        return data.img\r\n      }else{\r\n        Swal.fire('Error', data.err.message, 'error');\r\n        \r\n        return false;\r\n      }\r\n      return 'path image'\r\n\r\n\r\n    } catch(error){\r\n      // console.log(error)\r\n      return false;\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\r\nimport { tap } from 'rxjs/operators';\r\nimport { RestApiService } from '../services/rest-api.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n\r\n  constructor(private api:RestApiService,\r\n              private router:Router){\r\n\r\n  }\r\n\r\n  canActivate(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot){\r\n\r\n      return this.api.validarToken()\r\n      .pipe(\r\n        tap(isAuth =>{\r\n          if (!isAuth){\r\n            this.router.navigateByUrl('login')\r\n          }\r\n        })\r\n      )\r\n  }\r\n  \r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { OrdenesComponent } from './ordenes.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { MainComponent } from './main/main.component';\r\nimport { OrdenComponent } from '../orden/orden.component';\r\nimport { GestionComponent } from './gestion/gestion.component';\r\n\r\n\r\nconst routes: Routes =[\r\n  {\r\n    path:'',\r\n    component:OrdenesComponent,\r\n    children:[\r\n      {\r\n        path:'',\r\n        component:MainComponent\r\n      },\r\n      {\r\n        path:'gestion',\r\n        component:GestionComponent\r\n      }\r\n      \r\n      ]\r\n}]\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\nexport class OrdenesRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport * as moment from 'moment';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\r\nimport Swal from 'sweetalert2';\r\n@Component({\r\n  selector: 'app-gestion',\r\n  templateUrl: './gestion.component.html',\r\n  styleUrls: ['./gestion.component.css']\r\n})\r\nexport class GestionComponent implements OnInit {\r\n  \r\n  public TRABAJOS = [];\r\n  public MAQUINAS;\r\n  public NUEVA_GESTION:boolean = false;\r\n  public FASE = 'IMPRESION';\r\n  public GESTIONES;\r\n  public LAST_ONE;\r\n  public HOY = moment().format('yyyy-MM-DD');\r\n  public FASES = [];\r\n  public FUNCIONES = [];\r\n\r\n  public GRUPOS = [];\r\n  public orden = [];\r\n  public usuario\r\n  public jo:boolean = false;\r\n  public despacho:boolean = false;\r\n\r\n  public Despachos = [];\r\n\r\n  public edit = -1;\r\n\r\n\r\n  devolucion:boolean = false;\r\n  solicitud:boolean = false;\r\n\r\n  constructor(private api:RestApiService) { \r\n      this.usuario = api.usuario;\r\n    }\r\n\r\n  ngOnInit(): void {\r\n    this.Tarea();\r\n    this.getMaquinas();\r\n    this.getGestiones();\r\n    this.getOrdenes();\r\n    this.getDespachos();\r\n    this.api.getGrupos()\r\n      .subscribe((resp:any)=>{\r\n\r\n        this.GRUPOS = resp.grupos\r\n        // console.log(this.GRUPOS,'___________________________________________*')\r\n      })\r\n  }\r\n\r\n  editado(e,x,y){\r\n    this.Despachos[x].despacho[y].cantidad = Number(e);\r\n\r\n    this.api.PutDespachos(this.Despachos[x]._id, this.Despachos[x])\r\n    .subscribe((resp:any)=>{\r\n      // console.log('done')\r\n    })\r\n    // console.log(this.Despachos[x])\r\n  }\r\n\r\n  nuevo_despacho(){\r\n    this.despacho = true;\r\n  }\r\n\r\n  editar_cant(x){\r\n    this.edit = x\r\n  }\r\n\r\n  listo(){\r\n    this.edit = -1;\r\n  }\r\n\r\n  Despachado_(id,x){\r\n    this.api.PutDespacho(id,this.Despachos[x])\r\n      .subscribe((resp:any)=>{\r\n        // console.log(resp)\r\n        if(resp.orden){\r\n          Swal.fire({\r\n            title:'Limite excedido',\r\n            text:`el despacho de la orden ${resp.orden} supera el 110% de la cantidad solicitada`,\r\n            icon:'error',\r\n            showConfirmButton:false\r\n          })\r\n        }else{\r\n        Swal.fire({\r\n          title:'Despacho realizado',\r\n          text:'Se realizó despacho de productos',\r\n          icon:'success',\r\n          showConfirmButton:false\r\n        })\r\n      }\r\n        this.getDespachos();\r\n      })\r\n  }\r\n\r\n  getDespachos(){\r\n    this.api.GetDespacho()\r\n    .subscribe((resp:any)=>{\r\n      this.Despachos = resp\r\n      // console.log(this.Despachos)\r\n    })\r\n  }\r\n\r\n  modal_solicitud(){\r\n    if(this.solicitud){\r\n      this.solicitud = false\r\n    }else{\r\n      this.solicitud = true\r\n    }\r\n  }\r\n\r\n  getOrdenes(){\r\n    this.api.getOrden()\r\n    .subscribe( (resp:any) => {\r\n      this.orden = resp;\r\n    } )\r\n\r\n  }\r\n\r\n  JustOne(n){\r\n    if(n <= 0){\r\n      this.jo = true;\r\n    }\r\n  }\r\n\r\n  format(fecha){\r\n    let fecha_formateada = moment(fecha).format('DD-MM-yyyy')\r\n    return fecha_formateada\r\n  }\r\n\r\n  modal_Devolucion(){\r\n    if(this.devolucion){\r\n      this.devolucion = false\r\n    }else{\r\n      this.devolucion = true\r\n    }\r\n  }\r\n\r\n  modal_nueva_gestion(){\r\n    if(!this.NUEVA_GESTION){\r\n      this.NUEVA_GESTION = true\r\n    }else{\r\n      this.NUEVA_GESTION = false\r\n    }\r\n  }\r\n  fase(e){\r\n    this.FASE = e.target.value;\r\n    this.TRABAJOS = [];\r\n    this.Tarea();\r\n  }\r\n\r\n  getMaquinas(){\r\n    this.api.GetMaquinas()\r\n      .subscribe(resp =>{\r\n        this.MAQUINAS = resp\r\n        this.obtenerTipos();\r\n      })\r\n  }\r\n\r\n  obtenerTipos(){\r\n    let x = this.MAQUINAS.length;\r\n    for(let i = 0; i< x; i++){\r\n      let inde = this.FUNCIONES.includes(this.MAQUINAS[i].tipo)\r\n      if(!inde){\r\n        this.FUNCIONES.push(this.MAQUINAS[i].tipo)\r\n      }\r\n    }\r\n  }\r\n\r\n  calcular_Productos(e){\r\n    let value_hojas = e.target.value;\r\n    let orden =  (<HTMLInputElement>document.getElementById('orden_selected')).value;\r\n\r\n    let separator = orden.split('-')\r\n    orden = separator[1];\r\n\r\n    let Ejemplares = this.TRABAJOS.find(x => x._id == orden);\r\n\r\n\r\n    const productos:any = value_hojas * Ejemplares.orden.producto.ejemplares[Ejemplares.orden.montaje];\r\n\r\n    // console.log(value_hojas,'value');\r\n    // console.log(Ejemplares,'Ejemplares');\r\n\r\n    (<HTMLInputElement>document.getElementById('productos_input')).value = productos;\r\n  }\r\n\r\n  calcular_Hojas(e){\r\n    let value_productos = e.target.value;\r\n\r\n    let orden =  (<HTMLInputElement>document.getElementById('orden_selected')).value;\r\n\r\n    let separator = orden.split('-')\r\n    orden = separator[1];\r\n\r\n\r\n    let Ejemplares = this.TRABAJOS.find(x => x._id == orden);\r\n\r\n    const productos:any = Math.ceil(value_productos / Ejemplares.orden.producto.ejemplares[Ejemplares.orden.montaje]);\r\n\r\n    (<HTMLInputElement>document.getElementById('hojas_input')).value = productos;\r\n  }\r\n\r\n  retrasar(orden:any, maquina:any, fecha:any, trabajo:any, dias){\r\n\r\n    let data = {\r\n      orden:orden,\r\n      maquina:maquina,\r\n      fecha:fecha,\r\n      trabajo:trabajo,\r\n      dias\r\n    }\r\n\r\n    this.api.postRestrasar(data)\r\n      .subscribe((resp:any)=>{\r\n        // console.log(resp)\r\n        Swal.fire({\r\n          icon:'info',\r\n          title:'Se realizó un retraso en la planificación',\r\n          text:'se agregó 1 dia mas a esta gestión y a todas las ordenes que utilicen estos mismos equipos',\r\n        });\r\n        this.TRABAJOS = [];\r\n        this.Tarea();\r\n        this.getMaquinas();\r\n        this.getGestiones();\r\n      });\r\n  }\r\n\r\n  redondear(x,y){\r\n      return Math.ceil(x/y)\r\n  }\r\n\r\n  acelerar(orden:any, maquina:any, fecha:any, trabajo:any, fechaI:any, dias){\r\n\r\n    let fecha_lapsos = moment(fecha)\r\n    let fechaI_lapso = moment(fechaI)\r\n    let lapso = fecha_lapsos.diff(fechaI_lapso, 'days')\r\n\r\n    if(lapso < 1){\r\n      Swal.fire({\r\n        icon:'error',\r\n        text:'Esta gestión termina hoy',\r\n      });\r\n      return\r\n    }\r\n\r\n    let data = {\r\n      orden:orden,\r\n      maquina:maquina,\r\n      fecha:fecha,\r\n      trabajo:trabajo,\r\n      dias\r\n    }\r\n\r\n    this.api.postAcelerar(data)\r\n      .subscribe((resp:any)=>{\r\n        Swal.fire({\r\n          icon:'success',\r\n          title:'Fue adelantada la planificación',\r\n          text:'se adelantó 1 dia mas a esta gestión y a todas las ordenes que utilizen estos mismos equipos',\r\n        });\r\n        this.TRABAJOS = [];\r\n        this.Tarea();\r\n    this.getMaquinas();\r\n    this.getGestiones();\r\n      })\r\n  }\r\n\r\n  CompararTama(op, fase, grupo, hojas_, productos_,){\r\n    // // console.log(fase,'<>',grupo)\r\n    let group = this.GRUPOS.find(x=> x._id === grupo)\r\n\r\n    let index = group.tipos.findIndex(x => x === fase)\r\n\r\n    if(index > 0){\r\n      let gest = this.GESTIONES.filter(x => x.maquina.tipo == group.tipos[index -1] && x.op == op)\r\n      // console.log('gestiones',gest)\r\n      let hojas = 0;\r\n      let productos = 0;\r\n      for(let i =0; i<gest.length; i++){\r\n        hojas = hojas + Number(gest[i].hojas);\r\n        productos = productos + Number(gest[i].productos);\r\n      }\r\n\r\n      // console.log(hojas,'<->',productos)\r\n      if(hojas < hojas_ || productos < productos_){\r\n        Swal.fire({\r\n          title:'Error!',\r\n          text:'La cantidad excede las gestiones realizadas en la fase anterior',\r\n          icon:'error',\r\n          showConfirmButton:false\r\n        })\r\n        return 1\r\n      }\r\n    }\r\n  }\r\n\r\n  finalizar(){\r\n\r\n    let hoy = moment().format('yyyy-MM-DD');\r\n    let orden =  ''\r\n    let productos = ''\r\n    let hojas = ''\r\n\r\n    orden =  (<HTMLInputElement>document.getElementById('orden_selected')).value;\r\n\r\n    let separator = orden.split('-')\r\n\r\n    // // console.log(separator[3]);\r\n\r\n\r\n\r\n\r\n    orden = separator[1];\r\n    // // console.log(separator[0],'<>',separator[1])\r\n\r\n    let Ejemplares = this.TRABAJOS.find(x => x._id == orden);\r\n\r\n    // console.log('EJEM',Ejemplares)\r\n\r\n    productos = (<HTMLInputElement>document.getElementById('productos_input')).value\r\n    hojas = (<HTMLInputElement>document.getElementById('hojas_input')).value\r\n\r\n    if(this.CompararTama(separator[0],separator[2],separator[3], hojas, productos) === 1){\r\n      return\r\n    }\r\n\r\n    let restante = this.GESTIONES.filter(x=> x.orden == orden)\r\n\r\n    let long = restante.length\r\n\r\n    let _productos = 0;\r\n    let _hojas = 0;\r\n\r\n    if(long <= 0){\r\n      // // console.log(orden)\r\n      let Actual = this.TRABAJOS.find(x=> x._id == orden)\r\n      // // console.log(Actual)\r\n      _productos = Actual.orden.cantidad - Number(productos);\r\n      _hojas = this.redondear(Ejemplares.orden.cantidad, Ejemplares.orden.producto.ejemplares[Ejemplares.orden.montaje]) - Number(hojas)\r\n\r\n      // // console.log(Actual.orden.paginas_o,'-',Number(hojas))\r\n    }else{\r\n      _productos = restante[long - 1].Rproductos-Number(productos)\r\n      _hojas = restante[long - 1].Rhojas - Number(hojas)\r\n    }\r\n\r\n    // alert(_hojas)\r\n\r\n    let data = {\r\n      op:separator[0],\r\n      orden : orden,\r\n      fecha : hoy,\r\n      maquina: Ejemplares.maquina._id,\r\n      productos:productos,\r\n      hojas:hojas,\r\n      Rproductos:_productos,\r\n      Rhojas:_hojas\r\n    }\r\n\r\n     this.api.postGestion(data)\r\n       .subscribe((resp:any)=>{\r\n         (<HTMLInputElement>document.getElementById('productos_input')).value = '';\r\n         (<HTMLInputElement>document.getElementById('hojas_input')).value = '';\r\n         this.modal_nueva_gestion();\r\n         this.getGestiones();\r\n      })\r\n\r\n\r\n  }\r\n\r\n  getGestiones(){\r\n    this.api.getGestiones()\r\n      .subscribe((resp:any)=>{\r\n        this.GESTIONES = resp\r\n        // console.log('all gestions', resp)\r\n      })\r\n  }\r\n\r\n\r\n  Tarea(){\r\n    let hoy = moment().format('yyyy-MM-DD');\r\n    this.TRABAJOS = []\r\n    \r\n    this.api.getTrabajos()\r\n      .subscribe((resp:any)=>{\r\n\r\n        let nuevo = resp.filter(x => x.maquina.tipo === this.FASE);\r\n\r\n        if(nuevo){\r\n          let Long = nuevo.length;\r\n          for(let i=0; i<Long; i++){\r\n    \r\n            if(hoy >= nuevo[i].fechaI){\r\n              if(hoy <= nuevo[i].fecha){\r\n                this.TRABAJOS.push(nuevo[i])\r\n              }\r\n            }\r\n    \r\n          }\r\n        }\r\n      })\r\n  }\r\n\r\n  finalizar_gestion(id){\r\n    let data = {id}\r\n    this.api.finalizarTrabajo(data)\r\n      .subscribe((resp:any)=>{\r\n        Swal.fire({\r\n          title:'Gestion finalizada',\r\n          text:'La gestion fue finalizada con exito',\r\n          showConfirmButton:false,\r\n        })\r\n        this.getGestiones();\r\n        this.getMaquinas();\r\n        this.Tarea();\r\n      })\r\n  }\r\n\r\n  calcularHojas(x,y){\r\n    return Math.ceil(x/y);\r\n  }\r\n\r\n  TraerTareasFueraDeFecha(){\r\n    let hoy = moment().format('yyyy-MM-DD');\r\n    this.TRABAJOS = []\r\n    \r\n    this.api.getTrabajos()\r\n      .subscribe((resp:any)=>{\r\n\r\n        let nuevo = resp.filter(x => x.maquina.tipo === this.FASE);\r\n        if(nuevo){\r\n          let Long = nuevo.length;\r\n          for(let i=0; i<Long; i++){\r\n    \r\n            // if(hoy >= nuevo[i].fechaI){\r\n            //   if(hoy <= nuevo[i].fecha){\r\n              //   }\r\n              // }\r\n              \r\n              this.TRABAJOS.push(nuevo[i])\r\n              // // console.log(this.GRUPOS)\r\n            }\r\n            \r\n        }\r\n      })\r\n  }\r\n\r\n}\r\n\r\n","<app-solcitud \r\n[solicitud]=\"solicitud\"\r\n[orden]=\"orden\"\r\n(onCloseModal)=\"solicitud = false\">\r\n</app-solcitud>\r\n\r\n<app-devolucion\r\n        [devolucion]=\"devolucion\"\r\n        (onCloseModal)=\"devolucion = false\">\r\n</app-devolucion>\r\n<app-despacho\r\n[despacho]=\"despacho\"\r\n(onCloseModal)=\"despacho = false\"\r\n>\r\n\r\n</app-despacho>\r\n\r\n<div class=\"container\">\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <div class=\"titulo\">\r\n                Gestiones\r\n                <br>\r\n            <ng-container *ngIf=\"!usuario.Despacho\">\r\n                <button class=\"button is-primary\" (click)='modal_nueva_gestion()' *ngIf=\"usuario.Almacen != 2 || usuario.Role == 'ADMIN'\">Nueva Gestión</button> \r\n            </ng-container>    \r\n                <!-- <button class=\"button is-primary\" (click)='nuevo_despacho()'>Despacho</button> -->\r\n            </div>\r\n            <ng-container *ngIf=\"!usuario.Despacho\">\r\n            <div class=\"select\" *ngIf=\"usuario.Almacen != 2 || usuario.Role == 'ADMIN'\">\r\n                    <select (change)='fase($event)'>\r\n                        <option>Seleccionar fase</option>\r\n                        <option value=\"{{funcion}}\" *ngFor='let funcion of FUNCIONES'>{{funcion}}</option>\r\n                    </select>\r\n                </div>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"!usuario.Despacho\">\r\n             <button class=\"button is-success\" (click)=\"TraerTareasFueraDeFecha()\" *ngIf=\"usuario.Almacen != 2 ||usuario.Role == 'ADMIN'\">Otras Gestiones</button>\r\n            </ng-container>\r\n             <button class=\"button is-primary\" (click)='modal_Devolucion()' *ngIf=\"usuario.Despacho != 1\">Devolución de materiales</button>\r\n             <button class=\"button is-primary\" (click)='modal_solicitud()' *ngIf=\"usuario.Despacho != 1\">Solicitud de materiales</button>\r\n            \r\n            <hr>\r\n            <div class=\"despachos\" *ngIf=\"usuario.Almacen == 2 || usuario.Despacho == 1\">\r\n                <div class=\"subtitulo\">\r\n                    Despachos pendientes:\r\n                </div>\r\n\r\n                <table class=\"table is-fullwidth\" *ngFor=\"let despacho of Despachos;index as x\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Fecha: {{despacho.fecha}}</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                           <td>\r\n                            <table class=\"table is-fullwidth is-bordered \">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>OP</th>\r\n                                        <th>Producto</th>\r\n                                        <th>Cantidad</th>\r\n                                        <th>OC</th>\r\n                                        <th>Destino</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr *ngFor=\"let productos of despacho.despacho;index as y\">\r\n                                        <td>{{productos.op}}</td>\r\n                                        <td>{{productos.producto}}</td>\r\n                                        <td>\r\n                                            <ng-container *ngIf=\"edit === x\">\r\n                                                <input type=\"Number\" class=\"input\" value=\"{{productos.cantidad}}\" (change)=\"editado($event.target.value, x,y)\">\r\n                                            </ng-container>\r\n                                            <ng-container *ngIf=\"edit != x\">\r\n                                                {{productos.cantidad}}\r\n                                            </ng-container>\r\n                                        </td>\r\n                                        <td>{{productos.oc}}</td>\r\n                                        <td>{{productos.destino}}</td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                            <button class=\"button is-success\" (click)=\"editar_cant(x)\" *ngIf=\"edit != x\">\r\n                                <span class=\"icon is-small\">\r\n                                    <i class=\"fas fa-edit\"></i>\r\n                                </span>\r\n                                <span>Editar cantidades</span>\r\n                            </button> \r\n                              <button class=\"button is-success\" (click)=\"listo()\" *ngIf=\"edit === x\">\r\n                                <span class=\"icon is-small\">\r\n                                    <i class=\"fas fa-check\"></i>\r\n                                </span>\r\n                                <span>Listo</span>\r\n                              </button> \r\n                              <button class=\"button is-success\" *ngIf=\"edit != x\" (click)=\"Despachado_(despacho._id, x)\">\r\n                                <span class=\"icon is-small\">\r\n                                    <i class=\"fas fa-check\"></i>\r\n                                </span>\r\n                                <span>Despachado</span>\r\n                              </button>\r\n                           </td> \r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            <ng-container *ngIf=\"!usuario.Despacho\">\r\n            <div class=\"subtitulo\" *ngIf=\"usuario.Almacen != 2 || usuario.Role == 'ADMIN'\">\r\n                Ordenes para el dia de Hoy: <br>\r\n            </div>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"!usuario.Despacho\">\r\n                <table class=\"table is-fullwidth\" *ngIf=\"usuario.Almacen != 2 || usuario.Role == 'ADMIN'\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Orden</th>\r\n                            <th>Producto</th>\r\n                            <th>Máquina</th>\r\n                            <th>Cant. Hojas</th>\r\n                            <th>Cant. Productos</th>\r\n                            <th>Fecha Estimada</th>\r\n                            <th>Finalizar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor='let trabajo of TRABAJOS'>\r\n                        <ng-container *ngIf=\"trabajo.orden.estado === 'activo'\">\r\n                            <td>{{trabajo.orden.sort}}</td>\r\n                            <td>{{trabajo.orden.producto.producto}}</td>\r\n                            <td>{{trabajo.maquina.nombre}}</td>\r\n                            <td>{{redondear(trabajo.orden.cantidad, trabajo.orden.producto.ejemplares[trabajo.orden.montaje])}}</td>\r\n                            <td>{{trabajo.orden.cantidad}}</td>\r\n                            <td>{{trabajo.fecha}}</td>\r\n                            <button class=\"button is-success\" (click)='finalizar_gestion(trabajo._id)' *ngIf=\"usuario.Role == 'ADMIN' && !jo\">Finalizar</button>\r\n                            <td>\r\n                                \r\n                                <ng-container *ngFor='let gestion of GESTIONES;let i = index'>\r\n                                    <ng-container *ngIf='gestion.orden === trabajo._id'>\r\n                                        <button class=\"button is-success\" (click)='finalizar_gestion(trabajo._id)' *ngIf=\"gestion.Rproductos <= 0\">Finalizar</button>\r\n                                        {{JustOne(gestion.Rproductos)}}\r\n                                        \r\n                                        <!-- <ng-container *ngIf=\"gestion.Rproductos < 0\">\r\n                                            <button class=\"button is-success\" disabled >finalizar</button>\r\n                                        </ng-container> -->\r\n                                    </ng-container>\r\n                                </ng-container>\r\n                            \r\n                            \r\n                            </td>\r\n                        </ng-container>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </ng-container>\r\n            <hr>\r\n            <ng-container *ngIf=\"!usuario.Despacho\">\r\n            <div class=\"subtitulo\" *ngIf=\"usuario.Almacen != 2 || usuario.Role == 'ADMIN'\">\r\n                Gestiones Realizadas: <br>\r\n            </div>\r\n            <div *ngFor='let trabajo of TRABAJOS'>\r\n            <ng-container *ngIf=\"trabajo.orden.estado === 'activo'\">\r\n                ORDEN: <b>{{trabajo.orden.sort}}</b> - {{trabajo.orden.producto.producto}}\r\n                <table class=\"table is-fullwidth\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Fecha</th>\r\n                            <th>Máquina</th>\r\n                            <th>Cant. de Hojas</th>\r\n                            <th>Cant. de Productos</th>\r\n                            <th>Restante</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <ng-container *ngFor='let gestion of GESTIONES;let i = index'>\r\n                            <tr *ngIf='gestion.orden === trabajo._id'>\r\n                                <td>{{gestion.fecha}}</td>\r\n                                <td>{{gestion.maquina.nombre}}</td>\r\n                                <td>{{gestion.hojas}}</td>\r\n                                <td>{{gestion.productos}}</td>\r\n                                <td>{{gestion.Rhojas}} (Hojas) / {{gestion.Rproductos}} (Productos)</td>\r\n                            </tr>\r\n                        </ng-container>\r\n                    </tbody>\r\n                </table>\r\n                <hr>\r\n                <ng-container *ngFor='let gestion of GESTIONES;let i = index'>\r\n                    <ng-container *ngIf='gestion.orden === trabajo._id'>\r\n                        <button class=\"button is-success\" (click)='acelerar(trabajo.orden._id, trabajo.maquina, trabajo.fecha,trabajo._id, trabajo.fechaI,1)' *ngIf=\"gestion.Rproductos <= 0\">Adelantar Entrega</button>\r\n                    </ng-container>\r\n                </ng-container>\r\n                <button class=\"button is-danger\" (click)='retrasar(trabajo.orden._id, trabajo.maquina, trabajo.fecha,trabajo._id, 1)'>Retrasar entrega</button>\r\n                <hr>\r\n            </ng-container>\r\n            </div>\r\n        </ng-container>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVA_GESTION}\">\r\n    <div class=\"modal-background\" (click)='modal_nueva_gestion()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">\r\n                Gestion\r\n            </div>\r\n            <hr>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <b>Orden:</b><br>\r\n                    <div class=\"select\">\r\n                        <select id='orden_selected'>\r\n                                <option value=\"#\">Seleccionar Orden</option>\r\n                            <ng-container *ngFor='let trabajo of TRABAJOS'>\r\n                                <option value=\"{{trabajo.orden._id}}-{{trabajo._id}}-{{trabajo.maquina.tipo}}-{{trabajo.orden.producto.grupo}}\" *ngIf=\"trabajo.orden.estado=== 'activo'\">{{trabajo.orden.sort}}</option>\r\n                            </ng-container>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <b>Gestion Realizada en Hojas:</b><br>\r\n                    <input type=\"number\" class=\"input\" id='hojas_input' (change)='calcular_Productos($event)'>\r\n                    <br>\r\n                    <b>Gestion Realizada en Productos</b>\r\n                    <input type=\"number\" class=\"input\" id='productos_input' (change)='calcular_Hojas($event)'>\r\n                </div>\r\n            </div>\r\n            <hr>\r\n            <button class=\"button is-primary\" (click)='finalizar()'>Finalizar</button>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'app-gestiones',\n  templateUrl: './gestiones.component.html',\n  styleUrls: ['./gestiones.component.css']\n})\nexport class GestionesComponent implements OnInit {\n\n  @Input() modal_gestiones:any\n  @Input() g_trabajos:any\n  @Input() g_gestiones:any\n\n  @Output() onCloseModal = new EventEmitter();\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  closemodal(){\n    this.onCloseModal.emit();\n  }\n\n}\n","<div class=\"modal\" [ngClass]=\"{'is-active':modal_gestiones}\">\n    <div class=\"modal-background\" (click)=\"closemodal()\"></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n            <span class=\"subtitulo\">\n                Gestiones\n            </span>\n            <div class=\"trabajos\" *ngFor=\"let trabajo of g_trabajos\">\n                <span class=\"trabajo\">\n                    {{trabajo.maquina.tipo}} ({{trabajo.maquina.nombre}})\n                </span>\n                <table class=\"table is-fullwidth\">\n                    <tr>\n                        <th>Fecha</th>\n                        <th>Hojas gestionadas</th>\n                        <th>Productos gestionados</th>\n                    </tr>\n                    <ng-container  *ngFor=\"let gestion of g_gestiones\">\n                        <tr *ngIf=\"gestion.orden === trabajo._id\">\n                            <td>{{gestion.fecha}}</td>\n                            <td>{{gestion.hojas}}</td>\n                            <td>{{gestion.productos}}</td>\n                        </tr>\n                    </ng-container>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-main',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.css']\r\n})\r\nexport class MainComponent implements OnInit {\r\n\r\n  public ORDENES;\r\n  public ESTADOS;\r\n  public TRABAJOS;\r\n  public detalle:boolean = false;\r\n  public orden_detalle;\r\n  public orden_id;\r\n  public cantidad_d;\r\n  public cantidad_do\r\n\r\n  public despacho:boolean = false;\r\n\r\n  public loading:boolean = true;\r\n  \r\n  \r\n  constructor(private api:RestApiService,\r\n    private router:Router,\r\n    ) {\r\n      this.usuario = api.usuario\r\n    }\r\n    \r\n    ngOnInit(): void {\r\n      this.getOrdenes();\r\n      this.obtenerTrabajos();\r\n    }\r\n    public usuario\r\n\r\n  getOrdenes(){\r\n    this.api.getOrden()\r\n      .subscribe((resp:any)=>{\r\n        this.ORDENES = resp;\r\n      })\r\n  }\r\n\r\n  detallar(id,sort, x, y){\r\n    this.detalle = true;\r\n    this.orden_detalle = sort;\r\n    this.orden_id = id;\r\n    this.cantidad_d = x;\r\n    this.cantidad_do = y;\r\n    // console.log(y)\r\n  }\r\n\r\n  despacho_(){\r\n    this.despacho = true;\r\n  }\r\n\r\n  alert(id){\r\n    this.router.navigateByUrl(`orden-produccion/${id}`)\r\n  }\r\n\r\n  getEstados(id){\r\n    let estado = this.TRABAJOS.find(x => x.orden._id == id && x.maquina.tipo === 'IMPRIMIR')\r\n    let hoy = moment().format('yyyy-MM-DD');\r\n\r\n    // // console.log(estado)\r\n    if(estado){\r\n      if(hoy < estado.fechaI){\r\n        let date = moment(estado.fechaI).format('yyyy-MM-DD')\r\n        date = moment('yyyy-MM-DD').format('DD-MM-yyyy')\r\n        return `Impresión Comienza el: ${estado.fechaI}`\r\n      }\r\n    }\r\n\r\n      let estado2 = this.TRABAJOS.find(x => x.orden._id == id && x.fechaI<= hoy && x.fecha >= hoy)\r\n    if(estado2){\r\n      // console.log(estado2, 'this is')\r\n        return `En proceso de: ${estado2.maquina.tipo}`\r\n    }else{\r\n      return `ORDEN FINALIZADA`\r\n    }\r\n\r\n  }\r\n\r\n  obtenerTrabajos(){\r\n    this.api.getTrabajos()\r\n      .subscribe((resp:any)=>{\r\n        this.TRABAJOS = resp;\r\n        // console.log(this.TRABAJOS)\r\n        this.loading = false;\r\n      })\r\n  }\r\n\r\n}\r\n","<app-detalles\r\n[detalle]=\"detalle\"\r\n[orden_detalle]=\"orden_detalle\"\r\n[orden_id]=\"orden_id\"\r\n[cantidad_d]=\"cantidad_d\"\r\n[cantidad_do]=\"cantidad_do\"\r\n(onCloseModal)=\"detalle = false\"\r\n(CargarOrdenes)=\"getOrdenes()\"\r\n>\r\n</app-detalles>\r\n\r\n<app-despachos\r\n[despacho]=\"despacho\"\r\n[ORDENES]=\"ORDENES\"\r\n(onCloseModal)=\"despacho = false\">\r\n</app-despachos>\r\n<div class=\"container mt-5\">\r\n    <div class=\"card mt-5\">\r\n        <div class=\"card-content\">\r\n            <div class=\"titulo\">\r\n                Ordenes de Producción\r\n            </div>\r\n            <hr>\r\n            <table class=\"table is-fullwidth is-hoverable\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Orden de Produccion</th>\r\n                        <th>Producto</th>\r\n                        <th>Cliente</th>\r\n                        <th>Fecha solicitada</th>\r\n                        <th>Estado</th>\r\n                        <th>Detalles</th>\r\n                        <!-- <th>Ver orden</th> -->\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let orden of ORDENES'>\r\n                        <td>{{orden.sort}} {{orden.cantidad_d}} <i class=\"far fa-eye\" (click)='alert(orden._id)'></i></td>\r\n                        <td>{{orden.producto.producto}}</td>\r\n                        <td>{{orden.cliente.nombre}}</td>\r\n                        <td>{{orden.fecha_s | date: 'dd/MM/yyyy': 'UTC'}} </td>\r\n                        <td *ngIf=\"loading\"><i class=\"fas fa-circle-notch\"></i></td>\r\n                        <td *ngIf=\"!loading\">{{getEstados(orden._id)}}</td>\r\n                        <td>\r\n                                 \r\n                            <i class=\"fas fa-th-list\" (click)='detallar(orden._id, orden.sort, orden.cantidad, orden.cantidad_o)'></i>\r\n                            <!-- <button class=\"button is-primary\" (click)='detallar(orden._id, orden.sort, orden.cantidad, orden.cantidad_o)'>Detalles</button> -->\r\n                        </td>\r\n                        <!-- <td><button class=\"button is-primary\" (click)='alert(orden._id)'>Consultar</button></td> -->\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <hr>\r\n            <button class=\"button is-primary\" (click)=\"despacho_()\"  *ngIf=\"usuario.Nueva_orden != 0\">Planificacion de Despachos</button>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { from } from 'rxjs';\r\nimport { UnicosPipe } from 'src/app/pipe/unicos.pipe';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-devolucion',\r\n  templateUrl: './devolucion.component.html',\r\n  styleUrls: ['./devolucion.component.css']\r\n})\r\nexport class DevolucionComponent implements OnInit {\r\n\r\n  @Input() devolucion:any\r\n  @Output() onCloseModal = new EventEmitter();\r\n\r\n  public devoluciones\r\n  public materiales\r\n  public repeticion = [];\r\n  public Data_devolucion = [];\r\n  public usuario;\r\n\r\n  constructor(private api:RestApiService) {\r\n    this.usuario = api.usuario\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    \r\n    this.api.getLotes()\r\n    .subscribe((resp:any)=>{\r\n      this.devoluciones = resp;\r\n      for(let i = 0; i< resp.length; i++){\r\n        this.repeticion.push(resp[i].orden)\r\n        let final = resp.length - 1\r\n        if(i == final){\r\n          const dataArr = new Set(this.repeticion);\r\n          let result = [...dataArr];\r\n          this.repeticion = result;\r\n        }\r\n      }\r\n      \r\n    })\r\n  }\r\n  \r\n  seleccionarMateriales(){\r\n    let orden_ = (<HTMLInputElement>document.getElementById('ordens')).value\r\n    this.materiales = this.devoluciones.filter(devoluciones => devoluciones.orden === orden_);\r\n    let malas = this.materiales.filter(materiales => materiales.material[0].material === null)\r\n    if(orden_ == '#'){\r\n    this.materiales = this.materiales.filter(materiales => materiales.material[0].material != null);\r\n    }\r\n\r\n    console.log(malas)\r\n  // this.materiales = this.materiales.material\r\n  \r\n  }\r\n\r\n  onClose(){\r\n    this.devolucion = false;\r\n    this.onCloseModal.emit();\r\n  }\r\n\r\n  finalizarDevolucion(id,motivo){\r\n\r\n    if(motivo.value.length < 1){\r\n      let id_ = String(id)\r\n      document.getElementById(id_).focus();\r\n      document.getElementById(`${id_}_error`).style.display = \"block\";\r\n      return\r\n    }\r\n\r\n    let filtrado = this.Data_devolucion.filter(x => x.id === id && x.cantidad > 0)\r\n    let orden = (<HTMLInputElement>document.getElementById('ordens')).value\r\n    let data = {\r\n      orden,\r\n      filtrado,\r\n      motivo:motivo.value,\r\n      usuario:`${this.usuario.Nombre} ${this.usuario.Apellido}`\r\n    }\r\n\r\n    this.api.postDevolucion(data)\r\n      .subscribe((resp:any)=>{\r\n        Swal.fire({\r\n          title:'Devolución',\r\n          text: 'Se realizó la devolución de materiales',\r\n          icon:'success',\r\n          timer:3000,\r\n          showConfirmButton:false\r\n        }),\r\n        (<HTMLInputElement>document.getElementById('ordens')).value = \"·\"\r\n        this.onClose();\r\n      })\r\n\r\n  }\r\n\r\n  agregarMaterial(id, cantidad, material,lote,codigo){\r\n    \r\n    let data = \r\n    {\r\n      id,\r\n      material,\r\n      lote,\r\n      codigo,\r\n      cantidad:cantidad.value\r\n    }\r\n\r\n    let index = this.Data_devolucion.findIndex(x => x.id === id && x.material === material && x.lote === lote && x.codigo === codigo)\r\n\r\n    if(index == -1 ){\r\n      this.Data_devolucion.push(data);\r\n    }else{\r\n      this.Data_devolucion[index] = data\r\n    }\r\n\r\n    console.log(data)\r\n\r\n    // console.log(this.Data_devolucion)\r\n\r\n  }\r\n\r\n}\r\n","<div class=\"modal\" [ngClass]=\"{'is-active':devolucion}\">\r\n    <div class=\"modal-background\" (click)=\"onClose()\"></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">\r\n                Devolución de Material\r\n            </div>\r\n            <hr>\r\n                    <p>Selecciona Orden de Produccion</p>\r\n\r\n                    <div class=\"select\">\r\n                        <select (change)=\"seleccionarMateriales()\" id=\"ordens\">\r\n                            <option value=\"·\">Seleccionar OP</option>\r\n                            <ng-container *ngFor=\"let orden of repeticion\">\r\n                                <option value=\"{{orden}}\">\r\n                                      {{orden}}\r\n                                </option>\r\n                            </ng-container>\r\n                        </select>\r\n                    </div>\r\n                    <hr>\r\n                    <table class=\"table is-fullwidth is-striped\" *ngFor=\"materiales of materiales;index as i\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Material</th>\r\n                                <th>Cantidad</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let material of materiales[i].material\">\r\n                                <td>{{material.material.nombre}}\r\n                                    <ng-container *ngIf=\"material.material.ancho\">\r\n                                        {{material.material.ancho}} x {{material.material.largo}}\r\n                                    </ng-container>\r\n                                    ({{material.material.marca}})<br>\r\n                                <b>Lote: </b>{{material.lote}} - <b>Código: </b>{{material.codigo}}</td>\r\n                                <td>\r\n                                    <div class=\"field has-addons\">\r\n                                        <p class=\"control\">\r\n                                            <input class=\"input\" type=\"number\" placeholder=\"Devolución\" (change)=\"agregarMaterial(materiales[i]._id,cantidad,material.material._id,material.lote,material.codigo)\" #cantidad>\r\n                                        </p>\r\n                                        <p class=\"control\">\r\n                                            <a class=\"button is-static\">\r\n                                                {{material.material.unidad}}\r\n                                            </a>\r\n                                          </p>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody> \r\n                        <br>\r\n                        <textarea class=\"textarea has-fixed-size\" row=\"2\" placeholder=\"Motivo\" id=\"{{materiales[i]._id}}\" #Motivo></textarea>\r\n                        <p class=\"error\" id=\"{{materiales[i]._id}}_error\">Debe ingresar un motivo</p>\r\n                        <br>\r\n                        <button class=\"button is-primary\" (click)=\"finalizarDevolucion(materiales[i]._id,Motivo)\">Realizar Devolución</button>\r\n                    </table>\r\n\r\n        </div>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NavbarComponent } from './navbar/navbar.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [NavbarComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  exports:[NavbarComponent]\r\n})\r\nexport class SharedModule { }\r\n\r\n\r\n\r\n","import { Component, OnInit, NgModule } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-ordenes',\r\n  templateUrl: './ordenes.component.html',\r\n  styleUrls: ['./ordenes.component.css']\r\n})\r\nexport class OrdenesComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<app-navbar></app-navbar>\n<router-outlet></router-outlet>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MainComponent } from './main/main.component';\r\nimport { NuevoPedidoRoutingModule } from './nuevo-pedido-routing.module';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [MainComponent],\r\n  imports: [\r\n    CommonModule,\r\n    NuevoPedidoRoutingModule,\r\n    FormsModule\r\n  ],\r\n  exports: [MainComponent]\r\n})\r\nexport class NuevoPedidoModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-almacen',\r\n  templateUrl: './almacen.component.html',\r\n  styleUrls: ['./almacen.component.css']\r\n})\r\nexport class AlmacenComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<app-navbar></app-navbar>\r\n<router-outlet></router-outlet>","<app-navbar></app-navbar>\r\n<div class=\"container mt-5\">\r\n\r\n    <div class=\"card\" *ngIf='loading'>\r\n        <div class=\"card-content\">\r\n            <div class=\"loading\">\r\n                <div class=\"icon\">\r\n                    cargando...<i class=\"fa-solid fa-loader\"></i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class=\"card\" *ngIf='!loading'>\r\n        <div class=\"card-content\">\r\n            <div class=\"columns\">\r\n                <div class=\"column is-3\">\r\n                    <table class=\"table is-bordered is-fullwidth\">\r\n                        <thead>\r\n                            <th colspan=\"2\">\r\n                                ORDEN DE COMPRA\r\n                            </th>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>Nº</td>\r\n                                <td>{{PRODUCTO.orden}}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Fecha de OC:.</td>\r\n                                <td>{{PRODUCTO.fecha_o | date: 'dd/MM/yyyy': 'UTC'}}</td>\r\n                                <!-- <td>{{PRODUCTO.fecha_o | date: 'dd/MM/yyyy'}}</td> -->\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <table class=\"table is-bordered is-fullwidth\">\r\n                        <thead>\r\n                            <th colspan=\"2\">\r\n                                PRODUCTO\r\n                            </th>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>NOMBRE:</td>\r\n                                <td>{{PRODUCTO.producto.producto}}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>CÓDIGO:</td>\r\n                                <td>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div class=\"column is-4\">\r\n                    <table class=\"table is-bordered is-fullwidth\">\r\n                        <thead>\r\n                            <th colspan=\"2\">\r\n                                ORDEN DE PRODUCCIÓN\r\n                            </th>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>Nº:</td>\r\n                                <td><b id='n_orden'>{{PRODUCTO.sort}}</b></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>FECHA DE EMISIÓN:</td>\r\n                                <!-- <td>{{PRODUCTO.fecha}}</td> -->\r\n                                <td>{{PRODUCTO.fecha | date:'dd/MM/yyyy'}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n            <table class=\"table is-bordered is-fullwidth\">\r\n                    <thead>\r\n                        <th colspan=\"2\">\r\n                            INFORMACIÓN DEL PRODUCTO\r\n                        </th>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                            <th width=\"30%\">CLIENTE:</th>\r\n                            <td>{{PRODUCTO.cliente.nombre}}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>CÓDIGO DE PRODUCTO DEL CLIENTE:</th>\r\n                            <td>{{PRODUCTO.producto.cod_cliente}}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>CÓDIGO ESPECIFICACIÓN</th>\r\n                            <td>E-{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{PRODUCTO.producto.edicion}}</td>\r\n                        </tr>\r\n                    </tbody>\r\n            </table>\r\n\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <thead>\r\n                    <th colspan=\"5\">\r\n                        PLANIFICACIÓN DE ENTREGAS\r\n                    </th>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <th>Nº</th>\r\n                        <th>CANTIDAD</th>\r\n                        <th>FECHA SOLICITADA</th>\r\n                        <th>LUGAR DE ENTREGA</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>1</td>\r\n                        <td>{{cantidad}}</td>\r\n                        <!-- <td>{{PRODUCTO.fecha_s}}</td> -->\r\n                        <td>{{PRODUCTO.fecha_s | date:'dd/MM/yyyy': 'UTC'}}</td> \r\n                        <td>{{PRODUCTO.almacen}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>TOTAL</th>\r\n                        <td>{{cantidad}}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <thead>\r\n                    <th>\r\n                        CARACTERÍSTICAS Y MATERIALES\r\n                    </th>\r\n                </thead>\r\n                <tr>\r\n                    <td>\r\n\r\n                        <!-- HORIZONTAL -->\r\n                        <table class=\"table is-fullwidth is-bordered\">\r\n                            <thead>\r\n                                <th>PRE-IMPRESION</th>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td>\r\n                                        <div class=\"columns\">\r\n                                            <div class=\"column\">\r\n                                                <table class=\"table is-bordered is-fullwidth\">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>\r\n                                                                CÓDIGO DEL MONTAJE\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <td>\r\n                                                                M-{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <th>\r\n                                                                CANTIDAD DE EJEMPLARES\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <td>\r\n                                                                {{PRODUCTO.producto.ejemplares[PRODUCTO.montaje]}}\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                </table>\r\n                                            </div>\r\n                                            <div class=\"column\">\r\n                                                <table class=\"table is-bordered is-fullwidth\">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>\r\n                                                                CÓDIGO DE PELICULA\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Tinta'\">\r\n                                                            <tr>\r\n                                                                <td>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Negro'\"><b>Negro:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-1 </p>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Cyan'\"><b>Cyan:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-2 </p>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Magenta'\"><b>Magenta:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-3 </p>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Amarillo'\"><b>Amarillo:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-4 </p>\r\n                                                                    <div *ngIf=\"TintaProducto.producto.color != 'Amarillo' && TintaProducto.producto.color != 'Magenta' && TintaProducto.producto.color != 'Cyan' && TintaProducto.producto.color != 'Negro' \">\r\n                                                                        <b>{{TintaProducto.producto.color}}:</b>\r\n                                                                        <ng-container>\r\n                                                                            {{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-\r\n                                                                            <ng-container *ngIf=\"PRODUCTO.montaje == 0\">\r\n                                                                                {{sumaTintas(i)}}\r\n                                                                            </ng-container>\r\n                                                                            <ng-container *ngIf=\"PRODUCTO.montaje != 0\">\r\n                                                                                {{sumaTintas(i)-2}}\r\n                                                                            </ng-container>\r\n                                                                        </ng-container>\r\n                                                                    </div>\r\n                                                                </td>\r\n                                                            </tr>\r\n                                                            </ng-container>\r\n                                                        </ng-container>\r\n                                                    </thead>\r\n                                                </table>\r\n                                            </div>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n\r\n                        <table class=\"table is-fullwidth is-bordered\">\r\n                            <thead>\r\n                                <th>IMPRESIÓN</th>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td>\r\n                                        <div class=\"columns\">\r\n                                            <div class=\"column\">\r\n                                                <table class=\"table is-bordered-is-fullwidth\">\r\n                                                    <tr>\r\n                                                        <th width=\"50%\">SUSTRATO</th>\r\n                                                        <th>TAMAÑO ORIGINAL (cm)</th>\r\n                                                    </tr>\r\n                                                    <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Sustrato'\">\r\n                                                    <tr>\r\n                                                        <td>\r\n                                                            {{TintaProducto.producto.nombre}} {{TintaProducto.producto.marca}}  (Calibre:{{TintaProducto.producto.calibre}}, Gramaje:{{TintaProducto.producto.gramaje}})\r\n                                                        </td>\r\n                                                        <td>\r\n                                                            ({{TintaProducto.producto.ancho}} x {{TintaProducto.producto.largo}})\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                            <th>DIRECCIÓN DE FIBRA</th>\r\n                                                            <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                                <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Sustrato'\">\r\n                                                            <td>{{TintaProducto.producto.largo}}</td>\r\n                                                                </ng-container>\r\n                                                            </ng-container>\r\n                                                    </tr>\r\n                                                        </ng-container>\r\n                                                    </ng-container>\r\n                                                    <tr>\r\n                                                        <th>TAMAÑO DE SUSTRATO A IMPRIMIR (cm)</th>\r\n                                                        <td>{{PRODUCTO.i_ancho}} x {{PRODUCTO.i_largo}}</td>\r\n                                                    </tr>\r\n                                                </table>\r\n                                            </div>\r\n                                            <div class=\"column\">\r\n                                                <table class=\"table is-bordered is-fullwidth\">\r\n                                                    <tr>\r\n                                                        <th>% DEMASÍA</th>\r\n                                                        <td>{{PRODUCTO.demasia}}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th>HOJAS DE DEMASÍA</th>\r\n                                                        <td>{{hojas_demasia}}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th>HOJAS A IMPRIMIR</th>\r\n                                                        <td>{{hojas_imprimir}}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th>TOTAL DE HOJAS POR ASIGNAR</th>\r\n\r\n                                                        <ng-container *ngIf=\"PRODUCTO.montaje == 0\">\r\n                                                            <td>{{PRODUCTO.paginas}}</td>\r\n                                                        </ng-container>\r\n                                                        <ng-container *ngIf=\"PRODUCTO.montaje == 1\">\r\n                                                            <td>{{hojas_demasia + hojas_imprimir}}</td>\r\n                                                        </ng-container>\r\n                                                    </tr>\r\n                                                </table>\r\n                                            </div>\r\n                                            <div class=\"column\">\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <tr>\r\n                                                        <th>COLOR</th>\r\n                                                        <th>TINTA</th>\r\n                                                    </tr>\r\n                                                    <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Tinta'\">\r\n                                                        <tr>\r\n                                                            <td>{{TintaProducto.producto.color}}</td>\r\n                                                            <td>{{TintaProducto.producto.nombre}}\r\n                                                                ({{TintaProducto.producto.marca}})\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                        </ng-container>\r\n                                                    </ng-container>\r\n                                                </table>\r\n                                            </div>\r\n                                        </div>\r\n                                        <table class=\"table is-fullwidth is-bordered\">\r\n                                            <tr>\r\n                                                <th>BARNIZ</th>\r\n                                                <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                    <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Barniz' || TintaProducto.producto.grupo.nombre === 'Barniz Acuoso'\">\r\n                                                <td colspan=\"2\">{{TintaProducto.producto.nombre}}\r\n                                                    ({{TintaProducto.producto.marca}})\r\n                                                </td>\r\n                                                     </ng-container>\r\n                                                </ng-container>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <th>ESTÁNDAR DE COLORES:</th>\r\n                                                <td *ngIf=\"PRODUCTO.e_c === true\">Si</td>\r\n                                                <td *ngIf=\"PRODUCTO.e_c != true\">No</td>\r\n                                            <tr>\r\n                                        </table>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n\r\n                        <table class=\"table is-fullwidth is-bordered\">\r\n                            <thead>\r\n                                <th>POST-IMPRESIÓN</th>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td>\r\n                                        <div class=\"columns\">\r\n                                            <div class=\"column\">\r\n                                                <p *ngFor=\"let post of PRODUCTO.producto.post\" class=\"post\">\r\n                                                ○    {{post}}\r\n                                                </p>\r\n                                                <br>\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <thead>\r\n                                                        <th>TIPO DE PEGA</th>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Pega'\">\r\n                                                                <td>{{TintaProducto.producto.nombre}}</td>\r\n                                                            </ng-container>\r\n                                                        </ng-container>\r\n                                                    </tbody>\r\n                                                </table>\r\n                                            </div>\r\n                                            <div class=\"column\">\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <thead>\r\n                                                        <th>CÓDIGO DE CAJA</th>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Cajas Corrugadas'\">\r\n                                                                <td>{{TintaProducto.producto.nombre}}</td>\r\n                                                            </ng-container>\r\n                                                        </ng-container>\r\n                                                    </tbody>\r\n                                                </table>\r\n\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <tr>\r\n                                                        <th>CINTA DE EMBALAJE</th>\r\n                                                    </tr>\r\n                                                    <tr>\r\n\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Cajas Corrugadas'\">\r\n                                                        <td>\r\n                                                            <!-- {{PRODUCTO.cantidad}} - {{TintaProducto.cantidad}} * - {{TintaProducto.producto.cinta}} -->\r\n                                                            {{((PRODUCTO.cantidad / TintaProducto.cantidad) * TintaProducto.producto.cinta).toFixed(2)}}m                                                       </td>\r\n                                                             </ng-container>\r\n                                                        </ng-container>\r\n                                                    </tr>\r\n                                                </table>\r\n                                            </div>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n\r\n                        <!-- FIN HORIZONTAL -->\r\n\r\n                        <!-- <div class=\"columns\">\r\n                            <div class=\"column\">\r\n                                <table class=\"table is-fullwidth\">\r\n                                    <thead>\r\n                                        <th>PRE-IMPRESIÓN</th>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            <td>\r\n                                                <table class=\"table is-bordered is-fullwidth\">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>\r\n                                                                CÓDIGO DEL MONTAJE\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <td>\r\n                                                                M-{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <th>\r\n                                                                CANTIDAD DE EJEMPLARES\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <td>\r\n                                                                {{PRODUCTO.producto.ejemplares[PRODUCTO.montaje]}}\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                </table>\r\n\r\n                                                <table class=\"table is-bordered is-fullwidth\">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>\r\n                                                                CÓDIGO DE PELICULA\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Tinta'\">\r\n                                                            <tr>\r\n                                                                <td>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Negro'\"><b>Negro:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-1 </p>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Cyan'\"><b>Cyan:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-2 </p>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Magenta'\"><b>Magenta:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-3 </p>\r\n                                                                    <p *ngIf=\"TintaProducto.producto.color === 'Amarillo'\"><b>Amarillo:</b>{{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{NumToLet(PRODUCTO.montaje)}}-4 </p>\r\n                                                                    <div *ngIf=\"TintaProducto.producto.color != 'Amarillo' && TintaProducto.producto.color != 'Magenta' && TintaProducto.producto.color != 'Cyan' && TintaProducto.producto.color != 'Negro' \">\r\n                                                                        <b>{{TintaProducto.producto.color}}:</b>\r\n                                                                        <ng-container>\r\n                                                                            {{PRODUCTO.cliente.codigo}}-{{PRODUCTO.producto.codigo}}-{{PRODUCTO.producto.version}}-{{sumaTintas(i)}}\r\n                                                                        </ng-container>\r\n                                                                    </div>\r\n                                                                </td>\r\n                                                            </tr>\r\n                                                            </ng-container>\r\n                                                        </ng-container>\r\n                                                    </thead>\r\n                                                </table>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <table class=\"table is-fullwidth is-bordered\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th>IMPRESIÓN</th>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>\r\n                                                <table class=\"table is-bordered-is-fullwidth\">\r\n                                                    <tr>\r\n                                                        <th width=\"50%\">SUSTRATO</th>\r\n                                                        <th>TAMAÑO ORIGINAL (cm)</th>\r\n                                                    </tr>\r\n                                                    <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Sustrato'\">\r\n                                                    <tr>\r\n                                                        <td>\r\n                                                            {{TintaProducto.producto.nombre}}\r\n                                                        </td>\r\n                                                        <td>\r\n                                                            ({{TintaProducto.producto.ancho}} x {{TintaProducto.producto.largo}})\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                            <th>DIRECCIÓN DE FIBRA</th>\r\n                                                            <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                                <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Sustrato'\">\r\n                                                            <td>{{TintaProducto.producto.largo}}</td>\r\n                                                                </ng-container>\r\n                                                            </ng-container>\r\n                                                    </tr>\r\n                                                        </ng-container>\r\n                                                    </ng-container>\r\n                                                </table>\r\n\r\n                                                <table class=\"table is-bordered is-fullwidth\">\r\n                                                    <tr>\r\n                                                        <th>% DEMASIA</th>\r\n                                                        <td>{{demasia}}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th>TOTAL DE HOJAS</th>\r\n                                                        <td>{{PRODUCTO.demasia}}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th>TOTAL DE HOJAS POR ASIGNAR</th>\r\n                                                        <td>{{PRODUCTO.paginas}}</td>\r\n                                                    </tr>\r\n                                                </table>\r\n\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <tr>\r\n                                                        <th>COLOR</th>\r\n                                                        <th>TINTA</th>\r\n                                                    </tr>\r\n                                                    <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                        <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Tinta'\">\r\n                                                        <tr>\r\n                                                            <td>{{TintaProducto.producto.color}}</td>\r\n                                                            <td>{{TintaProducto.producto.nombre}}\r\n                                                                ({{TintaProducto.producto.marca}})\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                        </ng-container>\r\n                                                    </ng-container>\r\n                                                </table>\r\n\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <tr>\r\n                                                        <th>BARNIZ</th>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Barniz'\">\r\n                                                        <td>{{TintaProducto.producto.nombre}}\r\n                                                            ({{TintaProducto.producto.marca}})\r\n                                                        </td>\r\n                                                             </ng-container>\r\n                                                        </ng-container>\r\n                                                    </tr>\r\n                                                </table>\r\n\r\n                                            </td>\r\n                                        </tr>\r\n                                    </thead>\r\n                                </table>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <table class=\"table is-fullwidth is-bordered\">\r\n                                    <thead>\r\n                                        <th>POST-IMPRESIÓN</th>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            <td>\r\n                                                <p *ngFor=\"let post of PRODUCTO.producto.post\">\r\n                                                    {{post}}\r\n                                                </p>\r\n                                                <br>\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <thead>\r\n                                                        <th>TIPO DE PEGA</th>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Pega'\">\r\n                                                                <td>{{TintaProducto.producto.nombre}}</td>\r\n                                                            </ng-container>\r\n                                                        </ng-container>\r\n                                                    </tbody>\r\n                                                </table>\r\n\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <thead>\r\n                                                        <th>CÓDIGO DE CAJA</th>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Cajas Corrugadas'\">\r\n                                                                <td>{{TintaProducto.producto.nombre}}</td>\r\n                                                            </ng-container>\r\n                                                        </ng-container>\r\n                                                    </tbody>\r\n                                                </table>\r\n\r\n                                                <table class=\"table is-fullwidth is-bordered\">\r\n                                                    <tr>\r\n                                                        <th>CINTA DE EMBALAJE</th>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <ng-container tr *ngFor=\"let TintaProducto of PRODUCTO.producto.materiales[PRODUCTO.montaje];let i = index\">\r\n                                                            <ng-container *ngIf=\"TintaProducto.producto.grupo.nombre === 'Cinta de embalaje'\">\r\n                                                        <td>{{TintaProducto.producto.nombre}}\r\n                                                            ({{TintaProducto.producto.marca}})\r\n                                                        </td>\r\n                                                             </ng-container>\r\n                                                        </ng-container>\r\n                                                    </tr>\r\n                                                </table>\r\n\r\n                                            </td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div> -->\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <tr>\r\n                    <th>\r\n                        PROCESOS\r\n                    </th>\r\n                </tr>\r\n                <tr>\r\n                    <td>\r\n\r\n                        <table class=\"table is-fullwidth is-bordered\">\r\n                            <tr>\r\n                                <th colspan=\"2\">EQUIPOS</th>\r\n                            </tr>\r\n                            <tr *ngFor=\"let maquina of Maquinas.maquinasDB\">\r\n                                <td>\r\n                                    {{maquina.maquina.nombre}}\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n\r\n                        <table class=\"table is-fullwidth isbordered\">\r\n                            <tr>\r\n                                <th colspan=\"6\">OBSERVACIONES</th>\r\n                                <th colspan=\"2\">ELABORADO POR</th>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colspan=\"6\">\r\n                                {{this.PRODUCTO.observacion}}\r\n                                    <br>\r\n                                    <br>\r\n                                    <br>\r\n                                </td>\r\n                                <td colspan=\"2\">\r\n                                    Firma:\r\n                                    <br>\r\n                                    <br>\r\n                                    Fecha:\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n            <hr>\r\n            <button class=\"button is-primary\" (click)='descargarPDF()'>Descargar</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- <div class=\"container mt-5\">\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n                <table width='100%'>\r\n                    <tr>\r\n                        <td>\r\n                            <img src=\"../../assets/Poligrafica_black.png\">\r\n                        </td>\r\n                        <td class=\"orden\">\r\n                            ORDEN DE PRODUCCIÓN <br>\r\n                            <b id='n_orden'>{{PRODUCTO.sort}}</b> <br>\r\n                            FECHA DE EMISION: {{PRODUCTO.fecha | date:'dd-MM-yyyy'}}\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n                <br>\r\n                <table border=\"solid 1px black\" width='100%'>\r\n                    <tr>\r\n                        <td><b> CLIENTE: </b>{{PRODUCTO.cliente.nombre}}</td>\r\n                        <td><b> O.C.: </b>{{PRODUCTO.orden}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan='2'>\r\n                            <b> PRODUCTO: </b> {{PRODUCTO.cliente.codigo}} - {{PRODUCTO.producto.codigo}} - {{PRODUCTO.producto.version}} {{PRODUCTO.producto.producto}}\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n                <br>\r\n                <table class=\"table is-fullwidth\">\r\n                    <tr class=\"has-text-centered is-selected\" >\r\n                        <th class=\"has-text-centered\" colspan='2'>ENTREGAS</th>\r\n                    </tr>\r\n                </table>\r\n                <table border=\"solid 1px black\" width='100%'>\r\n                    <tr>\r\n                        <th> N° ENTREGA</th>\r\n                        <th> CANTIDAD</th>\r\n                        <th> FECHA</th>\r\n                        <th> OBSERVACIÓN</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td> 1</td>\r\n                        <td> {{PRODUCTO.cantidad}}</td>\r\n                        <td>{{PRODUCTO.fecha_s}}</td>\r\n                        <td></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td> TOTAL</td>\r\n                        <td> {{PRODUCTO.cantidad}}</td>\r\n                    </tr>\r\n                </table>\r\n                <br>\r\n                <table class=\"table is-fullwidth\">\r\n                    <tr class=\"has-text-centered is-selected\" >\r\n                        <th class=\"has-text-centered\" colspan='3'>MONTAJE Y DESARROLLO</th>\r\n                    </tr>\r\n                </table>\r\n                <table border='solid 1px black' width='100%'>\r\n                    <tr>\r\n                        <th> ESPECIFICACIÓN</th>\r\n                        <th> IMPRESIÓN</th>\r\n                        <th> POST-IMPRESION</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>E {{PRODUCTO.cliente.codigo}} - {{PRODUCTO.producto.codigo}} - {{PRODUCTO.producto.version}} - {{PRODUCTO.producto.edicion}}</td>\r\n                        <td class=\"has-text-centered\">\r\n                        <ng-container *ngFor='let material of PRODUCTO.producto.materiales'>\r\n                            <p *ngIf='material.producto.grupo.nombre != \"Sustrato\"'>\r\n                                {{material.producto.nombre}} ({{material.producto.marca}})<br>\r\n                            </p>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor='let post of PRODUCTO.producto.post'>\r\n                                 {{post}} <br>\r\n                            </ng-container>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n                <br>\r\n                <table class=\"table is-fullwidth\">\r\n                    <tr class=\"has-text-centered is-selected\" >\r\n                        <th class=\"has-text-centered\" colspan='3'>SUSTRATO</th>\r\n                    </tr>\r\n                </table>\r\n                <table border='solid 1px black' width='100%'>\r\n                    <tr>\r\n                        <td colspan='2'>\r\n                             <b> TIPO DE SUSTRATO:\r\n                                <ng-container *ngFor='let material of PRODUCTO.producto.materiales'>\r\n                                    <ng-container *ngIf='material.producto.grupo.nombre === \"Sustrato\"'>\r\n                                        {{material.producto.nombre}} ({{material.producto.marca}})<br>\r\n                                    </ng-container>\r\n                                </ng-container>\r\n                            </b>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><b> TAMAÑO ORIGINAL: {{PRODUCTO.producto.dimensiones}}</b></td>\r\n                        <td> <b>DIRECCIÓN DE FIBRA: </b> {{PRODUCTO.producto.fibra}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><b> DEMASIA:</b> {{PRODUCTO.demasia}}</td>\r\n                        <td><b> TAMAÑOS A IMPRIMIR: </b> {{PRODUCTO.paginas}}</td>\r\n                    </tr>\r\n                </table>\r\n                <hr>-->\r\n        <!--</div>\r\n        <!-- <div class=\"card-content\">\r\n\r\n            <div class=\"orden\">Orden de Producción</div>\r\n            <div class=\"op\">\r\n                <b>\r\n                    {{PRODUCTO.sort}}\r\n                </b>\r\n            </div>\r\n            <table class=\"table is-fullwidth\">\r\n                <tr>\r\n                    <td>\r\n                        <b>CLIENTE:</b> {{PRODUCTO.cliente.nombre}}\r\n                    </td>\r\n                    <td>\r\n                        <b>Orden De Compra:</b> {{PRODUCTO.orden}}\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan='2'>\r\n                            <b>PRODUCTO:</b> {{PRODUCTO.producto.producto}}\r\n                        </td>\r\n                    </tr>\r\n                    <tr class=\"has-text-centered is-selected\" >\r\n                        <th class=\"has-text-centered\" colspan='2'>ENTREGAS</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            <b>Cantidad:</b> {{PRODUCTO.cantidad}} <br>\r\n                        </td>\r\n                        <td>\r\n                            <b>Fecha de Creacion: </b> {{PRODUCTO.fecha | date:'dd-MM-yyyy'}}\r\n                        </td>\r\n                    </tr>\r\n                    <tr class=\"has-text-centered is-selected\" >\r\n                        <th class=\"has-text-centered\" colspan='2'>MONTAJE Y DESARROLLO</th>\r\n                    </tr>\r\n                    <tr class=\"has-text-centered\">\r\n                        <th class=\"has-text-centered is-selected\">MATERIALES</th>\r\n                        <th class=\"has-text-centered is-selected\">HOJAS</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td rowspan=\"2\">\r\n                            <ng-container *ngFor='let material of PRODUCTO.producto.materiales'>\r\n                                {{material.material}} <br>\r\n                            </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <b>Ejemplares Montados:</b>\r\n                            {{PRODUCTO.producto.ejemplares}}\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            <b>Hojas:</b>\r\n                            {{PRODUCTO.paginas}}\r\n                        </td>\r\n                    </tr>\r\n                    <tr class=\"has-text-centered\">\r\n                        <th class=\"is-selected\" colspan='2'>POST - IMPRESION</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan='2'>\r\n                            <b>Corte:</b>\r\n                            {{PRODUCTO.producto.post}}\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n                <div class=\"column\">\r\n                </div>\r\n            <hr>\r\n        </div>\r\n    </div>\r\n</div> -->","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { RestApiService } from '../services/rest-api.service';\r\n\r\nimport { PdfMakeWrapper, Txt, Img, Table, Cell, Columns, Stack } from 'pdfmake-wrapper';\r\nimport * as pdfFonts from \"pdfmake/build/vfs_fonts\";\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-orden',\r\n  templateUrl: './orden.component.html',\r\n  styleUrls: ['./orden.component.css']\r\n})\r\nexport class OrdenComponent implements OnInit {\r\n\r\n  public id!:any;\r\n  public PRODUCTO;\r\n  public Maquinas;\r\n  public listo:boolean = true;\r\n  public loading:boolean = true;\r\n  public necesidad;\r\n  public demasia;\r\n  public cantidad;\r\n\r\n  constructor(private route:ActivatedRoute,\r\n              private api:RestApiService) { \r\n    this.id = this.route.snapshot.paramMap.get('id');\r\n  }\r\n\r\n  public hojas_imprimir\r\n  public hojas_demasia\r\n  ngOnInit(): void {\r\n    this.api.getOrdenById(this.id)\r\n      .subscribe((resp:any)=>{\r\n        this.loading = true;\r\n        this.PRODUCTO = resp;\r\n        this.getMaquinas(this.PRODUCTO._id)\r\n        this.cantidad = new Intl.NumberFormat('de-DE').format(this.PRODUCTO.cantidad)\r\n        this.demasia = Math.ceil(this.PRODUCTO.demasia * 100 / this.PRODUCTO.paginas);\r\n        let ejemplares_montados = this.PRODUCTO.producto.ejemplares[this.PRODUCTO.montaje]\r\n        let paginas_sin_demasia = this.PRODUCTO.cantidad /  ejemplares_montados;\r\n        this.hojas_imprimir = Math.ceil(this.PRODUCTO.cantidad / this.PRODUCTO.producto.ejemplares[this.PRODUCTO.montaje])\r\n        this.hojas_demasia = Math.ceil(this.PRODUCTO.demasia * this.hojas_imprimir / 100)\r\n        // this.PRODUCTO.demasia = Math.ceil(this.demasia * paginas_sin_demasia / 100);\r\n        // this.PRODUCTO.demasia = this.PRODUCTO.producto.ejemplares[this.PRODUCTO.montaje]\r\n        // console.log(this.PRODUCTO, 'este es el Producto');\r\n        this.loading = false;\r\n      })\r\n  }\r\n\r\n  getMaquinas(orden){\r\n    this.api.getMaquinasByOrdens(orden)\r\n      .subscribe((resp:any)=>{\r\n        this.Maquinas = resp;\r\n      })\r\n\r\n  }\r\n\r\n  NumToLet(n){\r\n    switch(n)\r\n    {\r\n        case 0: return \"A\";\r\n        case 1: return \"B\";\r\n        case 2: return \"C\";\r\n        case 3: return \"D\";\r\n        case 4: return \"E\";\r\n        case 5: return \"F\";\r\n        case 6: return \"G\";\r\n        case 7: return \"H\";\r\n        case 8: return \"I\";\r\n    }\r\n\r\n  }\r\n\r\n  sumaTintas(n){\r\n    if(this.listo){\r\n      this.listo = false;\r\n      this.necesidad = n - 5;\r\n      return n + Math.abs(this.necesidad);\r\n    }else{\r\n      return n + Math.abs(this.necesidad);\r\n    }\r\n  }\r\n\r\n  descargarPDF(){\r\n\r\n    let PRODUCTO = this.PRODUCTO\r\n    let hojas_demasia = this.hojas_demasia\r\n    let hojas_imprimir = this.hojas_imprimir\r\n    // console.log(this.PRODUCTO)\r\n    \r\n    PRODUCTO.fecha_o = moment(PRODUCTO.fecha_o).utc().format('DD/MM/yyyy');\r\n    PRODUCTO.fecha_s = moment(PRODUCTO.fecha_s).utc().format('DD/MM/yyyy');\r\n    PRODUCTO.fecha = moment(PRODUCTO.fecha).format('DD/MM/yyyy');\r\n    PRODUCTO.cantidad_ = new Intl.NumberFormat('de-DE').format(PRODUCTO.cantidad)\r\n    \r\n    \r\n    let montajes = this.NumToLet(PRODUCTO.montaje);\r\n    let maquinas = this.Maquinas.maquinasDB\r\n    let maquina = []\r\n    \r\n    let peliculas = [];\r\n    let demasia = this.demasia\r\n\r\n    let materiales = PRODUCTO.producto.materiales[PRODUCTO.montaje];\r\n    \r\n    let tintas = materiales.filter(x => x.producto.grupo.nombre === 'Tinta')\r\n    let sustrato = materiales.filter(x => x.producto.grupo.nombre === 'Sustrato')\r\n    let barniz = materiales.filter(x => x.producto.grupo.nombre === 'Barniz' || x.producto.grupo.nombre === 'Barniz Acuoso')\r\n    let cantidad_barniz;\r\n    let b_name = ''\r\n    let b_marc = ''\r\n    let b_und = ''\r\n\r\n    if(barniz.length > 0){\r\n\r\n      // barniz[0].producto.nombre} (${barniz[0].producto.marca} - ${cantidad_barniz}${barniz[0].producto.unidad\r\n\r\n      b_name = barniz[0].producto.nombre;\r\n      b_marc = barniz[0].producto.marca;\r\n      b_und = barniz[0].producto.unidad\r\n      let cant_barniz = (barniz[0].cantidad * PRODUCTO.paginas)/1000;\r\n      cantidad_barniz = cant_barniz.toFixed(2)\r\n\r\n    }else{\r\n      cantidad_barniz = 'N/A';\r\n    }\r\n\r\n    let pega = materiales.filter(x => x.producto.grupo.nombre === 'Pega')\r\n    // console.log(pega,'pegaa')\r\n    let cantidad_pega;\r\n    let pega_nombre = '';\r\n    let pega_marca = '';\r\n    let pega_unidad = '';\r\n    if(pega.length == 0){\r\n      cantidad_pega = 'N/A'\r\n    }else{\r\n      let cant_pega = (pega[0].cantidad * PRODUCTO.cantidad)/1000;\r\n      cantidad_pega = cant_pega.toFixed(2)\r\n      pega_nombre = pega[0].producto.nombre\r\n      pega_marca = pega[0].producto.marca\r\n      pega_unidad =pega[0].producto.unidad\r\n    }\r\n    let caja = materiales.filter(x => x.producto.grupo.nombre === 'Cajas Corrugadas')\r\n    let cant_cajas = (PRODUCTO.cantidad / caja[0].cantidad)\r\n    let cinta_ = caja[0].producto.cinta * cant_cajas;\r\n    let cantidad_cajas = Math.ceil(cant_cajas)\r\n    let cinta = materiales.filter(x => x.producto.grupo.nombre === 'Cinta de Embalaje')\r\n    let Nombre_sustrato = `${sustrato[0].producto.nombre} ${sustrato[0].producto.marca} (Calibre:${sustrato[0].producto.calibre}, Gramaje:${sustrato[0].producto.gramaje})`\r\n    let tintas_color = []\r\n    let tintas_marca = []\r\n    \r\n    let Estandar_de_color = ''\r\n\r\n    if(PRODUCTO.e_c){\r\n      Estandar_de_color = 'SI'\r\n    }else{\r\n      Estandar_de_color = 'NO'\r\n    }\r\n    \r\n    let _i = 5;\r\n    for(let i = 0; i<tintas.length; i++){\r\n      if(tintas[i].producto.color === 'Negro'){\r\n        let peli = `Negro: ${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}-${montajes}-1`;\r\n        peliculas.push(peli)\r\n      }else if(tintas[i].producto.color === 'Cyan'){\r\n        let peli = `Cyan: ${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}-${montajes}-2`;\r\n        peliculas.push(peli)\r\n      }else if(tintas[i].producto.color === 'Magenta'){\r\n        let peli = `Magenta: ${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}-${montajes}-3`;\r\n        peliculas.push(peli)\r\n      }else if(tintas[i].producto.color === 'Amarillo'){\r\n        let peli = `Amarillo: ${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}-${montajes}-4`;\r\n        peliculas.push(peli)\r\n      }else{\r\n        let peli = `${tintas[i].producto.color}: ${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}-${montajes}-${_i++}`;\r\n        peliculas.push(peli)\r\n      }\r\n      tintas_color.push(tintas[i].producto.color)\r\n      let cantidad = (tintas[i].cantidad * this.PRODUCTO.paginas)/1000;\r\n      cantidad = Number(cantidad)\r\n      let cantidad_tinta = cantidad.toFixed(2)\r\n      let tinta = `${tintas[i].producto.color}: ${tintas[i].producto.nombre}(${tintas[i].producto.marca} - ${cantidad_tinta}${tintas[i].producto.unidad})`\r\n      tintas_marca.push(tinta)\r\n    }\r\n\r\n    for(let i=0; i<maquinas.length;i++){\r\n      maquina.push(maquinas[i].maquina.nombre);\r\n    }\r\n    \r\n    \r\n    if(PRODUCTO.montaje == 1){\r\n      PRODUCTO.paginas = hojas_demasia + hojas_imprimir\r\n    }\r\n    \r\n    \r\n    const pdf = new PdfMakeWrapper();\r\n    PdfMakeWrapper.setFonts(pdfFonts);\r\n\r\n    \r\n    async function generarPDF(){\r\n      pdf.add(\r\n        new Table([\r\n          [\r\n            new Cell(await new Img('../../assets/poli_cintillo.png').width(85).margin([20, 5]).build()).rowSpan(4).end,\r\n            new Cell(new Txt(`\r\n            ORDEN DE PRODUCCIÓN`).bold().end).alignment('center').fontSize(13).rowSpan(4).end,\r\n            new Cell(new Txt('Código: FPR-008').end).fillColor('#dedede').fontSize(7).alignment('center').end,\r\n          ],\r\n          [\r\n            new Cell(new Txt('').end).end,\r\n            new Cell(new Txt('').end).end,\r\n            new Cell(new Txt('N° de Revisión: 0').end).fillColor('#dedede').fontSize(7).alignment('center').end,\r\n          ],\r\n          [\r\n            new Cell(new Txt('').end).end,\r\n            new Cell(new Txt('').end).end,\r\n            new Cell(new Txt('Fecha de Revision: 24/05/2022').end).fillColor('#dedede').fontSize(7).alignment('center').end,\r\n          ],\r\n          [\r\n            new Cell(new Txt('').end).end,\r\n            new Cell(new Txt('').end).end,\r\n            new Cell(new Txt('Página: 1 de 5').end).fillColor('#dedede').fontSize(7).alignment('center').end,\r\n          ],\r\n        ]).widths(['25%','50%','25%']).end\r\n      )\r\n\r\n      pdf.add(\r\n        pdf.ln(1)\r\n      )\r\n\r\n      pdf.add(\r\n        new Table([\r\n          [\r\n            new Cell(new Table([\r\n              [\r\n                new Cell(new Txt('ORDEN DE COMPRA').bold().end).colSpan(2).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n                new Cell(new Txt('').end).end,\r\n              ],\r\n              [\r\n                new Cell(new Txt('N°').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.orden}`).end).fontSize(9).end\r\n              ],\r\n              [\r\n                new Cell(new Txt('Fecha de OC:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.fecha_o}`).margin([0,6]).end).fontSize(9).end\r\n              ]\r\n            ]).widths(['40%','60%']).end\r\n            ).end,\r\n\r\n            new Cell(new Table([\r\n              [\r\n                new Cell(new Txt('PRODUCTO').bold().end).colSpan(2).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n                new Cell(new Txt('').end).end,\r\n              ],\r\n              [\r\n                new Cell(new Txt('NOMBRE:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.producto.producto}`).end).fontSize(12).end\r\n              ],\r\n              [\r\n                new Cell(new Txt('CÓDIGO:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}`).end).fontSize(12).end\r\n              ]\r\n            ]).widths(['25%','75%']).end\r\n            ).end,\r\n\r\n            new Cell(new Table([\r\n              [\r\n                new Cell(new Txt('ORDEN DE PRODUCCIÓN').bold().end).colSpan(2).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n                new Cell(new Txt('').end).end,\r\n              ],\r\n              [\r\n                new Cell(new Txt('N°:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.sort}`).bold().end).fontSize(15).end\r\n              ],\r\n              [\r\n                new Cell(new Txt('FECHA DE EMISIÓN:').end).fillColor('#dedede').fontSize(8).end,\r\n                new Cell(new Txt(`${PRODUCTO.fecha}`).margin([0,6]).end).fontSize(9).end\r\n              ]\r\n            ]).widths(['40%','60%']).end\r\n            ).end,\r\n\r\n          ],\r\n          \r\n        ]).layout('noBorders').widths(['30%','40%','30%']).end\r\n\r\n      )\r\n      pdf.add(\r\n        new Table([\r\n          [\r\n            new Cell(new Table([\r\n              [\r\n                new Cell(new Txt('INFORMACIÓN DEL PRODUCTO').bold().end).colSpan(2).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n                new Cell(new Txt('').end).end,\r\n              ],\r\n              [\r\n                new Cell(new Txt('CLIENTE:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.cliente.nombre}`).end).fontSize(12).end\r\n              ],\r\n              [\r\n                new Cell(new Txt('CÓDIGO DE PRODUCTO DEL CLIENTE:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.producto.cod_cliente}`).end).fontSize(12).end\r\n              ],\r\n              [\r\n                new Cell(new Txt('CÓDIGO DE ESPECIFICACIÓN:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`E-${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}-${PRODUCTO.producto.edicion}`).end).fontSize(12).end\r\n              ]\r\n            ]).widths(['40%','60%']).end\r\n            ).end,\r\n\r\n          ],\r\n          \r\n        ]).layout('noBorders').widths(['100%']).end\r\n\r\n      )\r\n      pdf.add(\r\n        new Table([\r\n          [\r\n            new Cell(new Table([\r\n              [\r\n                new Cell(new Txt('PLANIFICACIÓN DE ENTREGAS').bold().end).colSpan(4).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('').end).end,\r\n\r\n              ],\r\n              [\r\n                new Cell(new Txt('N°:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt('CANTIDAD:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt('FECHA SOLICITADA:').end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt('LUGAR DE ENTREGA:').end).fillColor('#dedede').fontSize(9).end,\r\n              ],\r\n              [\r\n                new Cell(new Txt(`1`).end).fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.cantidad_}`).end).fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.fecha_s}`).end).fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.almacen}`).end).fontSize(9).end\r\n              ],\r\n              [\r\n                new Cell(new Txt(`TOTAL`).end).fillColor('#dedede').fontSize(9).end,\r\n                new Cell(new Txt(`${PRODUCTO.cantidad_}`).end).fontSize(9).end,\r\n                new Cell(new Txt(``).end).border([false]).fontSize(9).end,\r\n                new Cell(new Txt(``).end).border([false]).fontSize(9).end\r\n              ],\r\n            ]).widths(['7%','31%','31%','31%']).end\r\n            ).end,\r\n\r\n          ],\r\n          \r\n        ]).layout('noBorders').widths(['100%']).end\r\n\r\n      )\r\n      pdf.ln(2)\r\n      pdf.add(\r\n        new Table([\r\n          [\r\n            new Cell(new Table([\r\n              [\r\n                new Cell(new Txt('CARACTERÍSTICAS Y MATERIALES ').bold().end).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n              ],\r\n              [\r\n                new Cell(\r\n                  new Table([\r\n                    [\r\n                      new Cell(new Table([\r\n                        [\r\n                          new Cell(new Txt('PRE-IMPRESIÓN').end).fillColor('#dedede').fontSize(9).end,\r\n                        ],\r\n                        [\r\n                          new Cell(new Table([\r\n                            [\r\n                              new Cell(new Table([\r\n                                [\r\n                                  new Cell(new Txt('CÓDIGO DEL MONTAJE').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(`M-${PRODUCTO.cliente.codigo}-${PRODUCTO.producto.codigo}-${PRODUCTO.producto.version}-${montajes}`).end).end\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt('CANTIDAD DE EJEMPLARES').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(`${PRODUCTO.producto.ejemplares[PRODUCTO.montaje]}`).end).end\r\n                                ]\r\n                              ]).widths(['100%']).end\r\n                              ).fontSize(9).end,\r\n                              new Cell(\r\n                                new Table([\r\n                                [\r\n                                  new Cell(new Txt('CÓDIGO DE PELICULAS').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Stack(peliculas).fontSize(9).end\r\n                                ]\r\n                              ]).widths(['100%']).end\r\n                              ).end,\r\n                            ],\r\n                          ]).layout('noBorders').widths(['50%', '50%']).end\r\n                          ).end,\r\n                        ]\r\n                      ]).layout('noBorders').widths(['100%']).end\r\n                      ).border([false]).fillColor('#ffffff').end,\r\n                    ], //FINAL PRE-IMPRESION\r\n                    [\r\n                      new Cell(new Table([\r\n                        [\r\n                          new Cell(new Txt('IMPRESIÓN').end).fillColor('#dedede').fontSize(9).end,\r\n                        ],\r\n                        [\r\n                          new Cell(new Table([\r\n                            [\r\n                              new Cell(new Table([\r\n                                [\r\n                                  new Cell(new Txt('SUSTRATO').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                  new Cell(new Txt('TAMAÑO ORIGINAL').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(Nombre_sustrato).end).fontSize(11).end,\r\n                                  new Cell(new Txt(`${sustrato[0].producto.ancho} x ${sustrato[0].producto.largo}`).end).alignment('center').fontSize(11).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt('DIRECCIÓN DE FIBRA').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                  new Cell(new Txt('TAMAÑO A IMPRIMIR').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(sustrato[0].producto.largo).end).alignment('center').fontSize(11).end,\r\n                                  new Cell(new Txt(`${PRODUCTO.i_ancho} x ${PRODUCTO.i_largo}`).end).alignment('center').fontSize(11).end,\r\n                                ]\r\n\r\n\r\n                              ]).widths(['60%','40%']).end\r\n                              ).fontSize(9).end,\r\n\r\n\r\n\r\n                              // new Cell(new Table([\r\n                              //   [\r\n                              //     new Cell(new Txt('% DEMASIA').end).fillColor('#dedede').lineHeight(0.5).fontSize(9).end,\r\n                              //     new Cell(new Txt(demasia).end).fontSize(11).alignment('center').end,\r\n                              //   ],\r\n                              //   [\r\n                              //     new Cell(new Txt('HOJAS DE DEMASIA').end).fillColor('#dedede').fontSize(9).end,\r\n                              //     new Cell(new Txt(PRODUCTO.demasia).end).fontSize(11).alignment('center').end,\r\n                              //   ],\r\n                              //   [\r\n                              //     new Cell(new Txt('HOJAS A IMPRIMIR').end).fillColor('#dedede').fontSize(9).end,\r\n                              //     new Cell(new Txt(`${PRODUCTO.paginas - demasia}`).end).fontSize(11).alignment('center').end,\r\n                              //   ],\r\n                              //   [\r\n                              //     new Cell(new Txt('TOTAL DE HOJAS POR ASIGNAR').end).fillColor('#dedede').fontSize(9).end,\r\n                              //     new Cell(new Txt(PRODUCTO.paginas).end).fontSize(11).alignment('center').end,\r\n                              //   ]\r\n                              // ]).widths(['80%','20%']).end\r\n                              // ).fontSize(9).end,\r\n\r\n                              new Cell(new Table([\r\n                                [\r\n                                  new Cell(new Txt('% DEMASÍA').end).fillColor('#dedede').alignment('center').fontSize(9).end,\r\n                                  new Cell(new Txt('HOJAS DE DEMASÍA:').end).fillColor('#dedede').alignment('center').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(PRODUCTO.demasia).end).fontSize(10).alignment('center').end,\r\n                                  new Cell(new Txt(hojas_demasia).end).fontSize(10).alignment('center').end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt('HOJAS A IMPRIMIR:').end).fillColor('#dedede').alignment('center').fontSize(9).end,\r\n                                  new Cell(new Txt('TOTAL HOJAS A ASIGNAR:').end).fillColor('#dedede').alignment('center').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(hojas_imprimir).bold().end).fontSize(12).alignment('center').end,\r\n                                  new Cell(new Txt(PRODUCTO.paginas).bold().end).fontSize(12).alignment('center').end,\r\n                                ]\r\n                              ]).widths(['50%','50%']).end\r\n                              ).end,\r\n                            ],\r\n                            [\r\n                              new Cell(new Table([\r\n                                [\r\n                                  new Cell(new Txt('BARNIZ').end).alignment('center').fillColor('#dedede').alignment('center').fontSize(9).end,\r\n                                  new Cell(new Txt('ESTÁNDAR DE COLOR:').alignment('center').end).fillColor('#dedede').alignment('center').fontSize(7).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(`${b_name} (${b_marc} - ${cantidad_barniz}${b_und})`).end).fontSize(9).end,\r\n                                  // new Cell(new Txt(`N/A`).end).fontSize(9).end,\r\n                                  new Cell(new Txt(Estandar_de_color).end).alignment('center').fontSize(9).end\r\n                                ]\r\n                              ]).widths(['70%','30%']).end\r\n                              ).fontSize(9).end,\r\n                              new Cell(new Table([\r\n                                [\r\n                                  new Cell(new Txt('TINTA').end).alignment('center').fillColor('#dedede').fontSize(9).end\r\n                                ],\r\n                                [\r\n                                  new Cell(new Stack(tintas_marca).end).fontSize(9).end\r\n                                ],\r\n                              ]).widths(['100%']).end\r\n                              ).fontSize(9).end,\r\n                              // new Cell(new Txt('').end).end\r\n                            ]\r\n                          ]).layout('noBorders').widths(['50%', '50%']).end\r\n                        // ]).layout('noBorders').widths(['33%', '27%', '40%']).end\r\n                          ).end\r\n                        ]\r\n                      ]).layout('noBorders').widths(['100%']).end\r\n                      ).border([false]).fillColor('#ffffff').end\r\n                    ],\r\n                    [\r\n                      new Cell(new Table([\r\n                        [\r\n                          new Cell(new Txt('POST-IMPRESIÓN').end).fillColor('#dedede').fontSize(9).end,\r\n                        ],\r\n                        [\r\n                          new Cell(new Table([\r\n                            [\r\n                              new Cell(new Table([\r\n                                [\r\n                                  new Cell(new Stack(PRODUCTO.producto.post).end).fontSize(9).border([false]).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt('TIPO DE PEGA').alignment('center').end).fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(`${pega_nombre} (${pega_marca} - ${cantidad_pega}${pega_unidad})`).end).fontSize(9).end\r\n                                ]\r\n                              ]).widths(['100%']).end\r\n                              ).end,\r\n\r\n                              new Cell(new Table([\r\n                                [\r\n                                  new Cell(new Txt('CÓDIGO DE CAJA').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(`${caja[0].producto.nombre} (${caja[0].cantidad} Unidades por Caja / ${cantidad_cajas} Cajas necesarias)`).end).fontSize(9).end\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt('CINTA DE EMBALAJE').end).alignment('center').fillColor('#dedede').fontSize(9).end,\r\n                                ],\r\n                                [\r\n                                  new Cell(new Txt(`${(cinta_).toFixed(2)}m`).end).fontSize(9).end\r\n                                ]\r\n                              ]).widths(['100%']).end\r\n                              ).end\r\n                              \r\n                            ]\r\n                            \r\n                          ]).layout('noBorders').widths(['50%', '50%']).end\r\n                          ).end\r\n                        ]\r\n\r\n                      ]).layout('noBorders').widths(['100%']).end\r\n                      ).border([false]).fillColor('#ffffff').end\r\n                    ],\r\n                  ]).widths(['100%']).end\r\n                ).end\r\n              ]\r\n            ]).layout('noBorders').widths(['100%']).end\r\n            ).end,\r\n\r\n          ],\r\n          \r\n        ]).layout('noBorders').widths(['100%']).end\r\n\r\n      )\r\n      pdf.add(\r\n        new Table([\r\n          [\r\n            new Cell(new Txt('EQUIPOS').end).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n            new Cell(new Txt('OBSERVACIONES').end).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n            new Cell(new Txt('ELABORADO POR:').end).alignment('center').fillColor('#000000').color('#ffffff').fontSize(9).end,\r\n          ],\r\n          [\r\n            new Cell(new Stack(maquina).end).fontSize(9).end,\r\n            new Cell(new Txt(PRODUCTO.observacion).end).fontSize(9).end,\r\n            new Cell(new Txt(`Firma:\r\n          \r\n            Fecha:`).end).fontSize(9).end\r\n          ]\r\n\r\n        ]).widths(['34%','33%','33%']).end\r\n      )\r\n\r\n\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       new Cell( await new Img('../../assets/Poligrafica_black_P.png').build()).end,\r\n      //       new Cell( new Table([[new Cell(new Txt('ORDEN DE PRODUCCIÓN').end).fillColor('#dedede').fontSize(9).end],\r\n      //                             [new Cell(new Txt(`${PRODUCTO.sort}`).end).fontSize(30).end],\r\n      //                             [new Cell(new Txt(`FECHA DE EMISION: ${fecha1}`).end).fontSize(8).end]\r\n      //                           ]).end).alignment('center').end\r\n      //     ]\r\n      //   ]).widths(['70%','30%']).layout('noBorders').end\r\n      // )\r\n      // pdf.add(\r\n\r\n      //   pdf.ln(2)\r\n        \r\n      // )\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       new Cell( new Txt(`CLIENTE: ${PRODUCTO.cliente.nombre}`).end).end,\r\n      //       new Cell( new Txt(`O.C.: ${PRODUCTO.orden}`).end).end,\r\n      //     ],\r\n      //     [\r\n      //       new Cell( new Txt(`PRODUCTO: ${PRODUCTO.cliente.codigo} - ${PRODUCTO.producto.codigo} ${PRODUCTO.producto.producto}`).end).colSpan(2).end,\r\n      //       ''\r\n      //     ]\r\n      //   ]).widths(['60%','40%']).end\r\n      // )\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       new Cell( new Txt('ENTREGAS').end).fillColor('#dedede').end\r\n      //     ]\r\n      //   ]).widths(['100%']).alignment('center').layout('noBorders').end\r\n      // )\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       'N° ENTREGA','CANTIDAD','FECHA','OBSERVACIÓN'\r\n      //     ],\r\n      //     [\r\n      //       '1',\r\n      //       new Cell( new Txt(`${PRODUCTO.cantidad}`).end).end,\r\n      //       new Cell( new Txt(`${PRODUCTO.fecha_s}`).end).end,\r\n      //       ''\r\n      //     ],\r\n      //     [\r\n      //       'TOTAL',\r\n      //       new Cell( new Txt(`${PRODUCTO.cantidad}`).end).end,\r\n      //       new Cell( new Txt('').end).border([false, false]).end,\r\n      //       new Cell( new Txt('').end).border([false, false]).end\r\n      //     ]\r\n      //   ]).widths(['24%','24%','24%','28%']).end\r\n      // )\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       new Cell( new Txt('MONTAJE Y DESARROLLO').end).fillColor('#dedede').end\r\n      //     ]\r\n      //   ]).widths(['100%']).alignment('center').layout('noBorders').end\r\n      // )\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       'VERSIÓN','IMPRESIÓN','POST-IMPRESION'\r\n      //     ],\r\n      //     [\r\n      //       new Cell( new Txt(`${PRODUCTO.producto.version}`).end).end,\r\n      //       new Cell( new Stack(materiales).end).end,\r\n      //       new Cell( new Stack(PRODUCTO.producto.post).end).end\r\n      //     ],\r\n      //   ]).widths(['30%','40%','30%']).end\r\n      // )\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       new Cell( new Txt('SUSTRATO').end).fillColor('#dedede').end\r\n      //     ]\r\n      //   ]).widths(['100%']).alignment('center').layout('noBorders').end\r\n      // )\r\n      // pdf.add(\r\n      //   new Table([\r\n      //     [\r\n      //       new Cell( new Txt(`TIPO DE SUSTRATO: ${PRODUCTO.producto.sustrato}`).end).colSpan(2).end,\r\n      //       ''\r\n      //     ],\r\n      //     [\r\n      //       new Cell( new Txt(`TAMAÑO ORIGINAL: ${PRODUCTO.producto.dimensiones}`).end).end,\r\n      //       new Cell( new Txt(`DIRECCIÓN DE FIBRA: ${PRODUCTO.producto.fibra}`).end).end,\r\n      //     ],\r\n      //     [\r\n      //       new Cell( new Txt(`DEMASIA: ${PRODUCTO.demasia}`).end).end,\r\n      //       new Cell( new Txt(`TAMAÑO A IMPRIMIR: ${PRODUCTO.paginas}`).end).end,\r\n      //     ]\r\n      //   ]).widths(['50%','50%']).end\r\n      // )\r\n  \r\n      pdf.create().download(`OP_${PRODUCTO.sort}`)\r\n    }\r\n\r\n    generarPDF();\r\n\r\n  }\r\n\r\n}\r\n","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn-bd\": \"loYQ\",\n\t\"./bn-bd.js\": \"loYQ\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-in\": \"7C5Q\",\n\t\"./en-in.js\": \"7C5Q\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./en-sg\": \"t+mt\",\n\t\"./en-sg.js\": \"t+mt\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-mx\": \"tbfe\",\n\t\"./es-mx.js\": \"tbfe\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fil\": \"1ppg\",\n\t\"./fil.js\": \"1ppg\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-deva\": \"qvJo\",\n\t\"./gom-deva.js\": \"qvJo\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./oc-lnc\": \"Fnuy\",\n\t\"./oc-lnc.js\": \"Fnuy\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tk\": \"Wv91\",\n\t\"./tk.js\": \"Wv91\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-mo\": \"OmwH\",\n\t\"./zh-mo.js\": \"OmwH\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","import { Component, OnInit } from '@angular/core';\r\nimport * as moment from 'moment';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport { Router } from '@angular/router';\r\nimport Swal from 'sweetalert2';\r\nimport { iif } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-main',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.css']\r\n})\r\nexport class MainComponent implements OnInit {\r\n\r\n  public NUEVA_ORDEN:boolean = false;\r\n\r\n  public cs:boolean = false;\r\n  public ps:boolean = false;\r\n  public os:boolean = false;\r\n\r\n  public Cantidad_ejemplares = 1000;\r\n  public Ejemplares_montados = 1;\r\n  public demasia = 0;\r\n  public paginas = Math.ceil(this.Cantidad_ejemplares / this.Ejemplares_montados)\r\n  public Fases:boolean = false;\r\n  public SinMaterial:boolean = false;\r\n\r\n  i_montajes = 0;\r\n\r\n  oc_ = '';\r\n  fo_ = '';\r\n  ae_ = 0;\r\n  observacion_ = '';\r\n\r\n  x; \r\n  y;\r\n\r\n\r\n\r\n  public TOTALES = [\r\n    {\r\n      material:null,\r\n      marca:null,\r\n      total:null,\r\n      grupo:null,\r\n      presentacion:null,\r\n      neto:null,\r\n      unidad:null,\r\n      ancho:null,\r\n      largo:null\r\n    }\r\n  ];\r\n\r\n  public CLIENTES;\r\n  public PRODUCTOS = [];\r\n  public PRODUCTO = {\r\n    montajes:null,\r\n    ejemplares:null,\r\n    materiales: [],\r\n    _id:null,\r\n    grupo:null,\r\n    sustrato:[{\r\n      nombre:'',\r\n      marca:''\r\n    }],\r\n    dimensiones:null\r\n  };\r\n  public montajes\r\n  public MAQUINAS\r\n  public ALMACEN\r\n  public CANTIDAD = [];\r\n  public _CANTIDAD = [];\r\n\r\n  public CLIENTE\r\n  public OC\r\n\r\n  public Fecha_S\r\n\r\n  public restantes = [];\r\n  public almacenes = [];\r\n  public hoy;\r\n\r\n  constructor(public api:RestApiService,\r\n              private router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n    this.obtenerClientes();\r\n    this.BuscarAlmacen();\r\n    this.Almacenado();\r\n    this.hoy = moment().format('yyyy-MM-DD');\r\n  }\r\n\r\n  NumToLet(n){\r\n    switch(n)\r\n    {\r\n        case 0: return \"A\";\r\n        case 1: return \"B\";\r\n        case 2: return \"C\";\r\n        case 3: return \"D\";\r\n        case 4: return \"E\";\r\n        case 5: return \"F\";\r\n        case 6: return \"G\";\r\n        case 7: return \"H\";\r\n        case 8: return \"I\";\r\n    }\r\n\r\n  }\r\n\r\n  alertaRoja(aja){\r\n    let cantidad = this.PRODUCTO.materiales.length\r\n    if(cantidad > this.restantes.length){\r\n      this.restantes.push(aja)\r\n    }else{\r\n      this.restantes = [];\r\n      this.restantes.push(aja)\r\n    }\r\n\r\n    // // console.log(this.restantes)\r\n  }\r\n\r\n  modal_nueva_orden(){\r\n    if(!this.NUEVA_ORDEN){\r\n      this.NUEVA_ORDEN = true\r\n    }else{\r\n      this.NUEVA_ORDEN = false\r\n    }\r\n  }\r\n\r\n  obtenerClientes(){\r\n    this.api.GetClientes()\r\n      .subscribe((resp:any)=>{\r\n        this.CLIENTES = resp.clientes\r\n      })\r\n  }\r\n\r\n  cliente_selected(e){\r\n    if(e.target.value === '0'){\r\n      this.cs = false \r\n    }else{\r\n      this.cs = true;\r\n      this.CLIENTE = e.target.value\r\n      let index = this.CLIENTES.find(x => x._id === e.target.value)\r\n      this.ALMACEN = index.almacenes;\r\n\r\n      // // console.log(this.ALMACEN)\r\n    }\r\n\r\n    this.api.getById(e.target.value)\r\n      .subscribe((resp:any)=>{\r\n        this.PRODUCTOS = resp.productos;\r\n        // // console.log(this.PRODUCTOS)\r\n      })\r\n  }\r\n\r\n  Almacenado(){\r\n    this.api.getAlmacenado()\r\n      .subscribe((resp:any)=>{\r\n        this._CANTIDAD = resp;\r\n        this.totalizar_materiales();\r\n      })\r\n  }\r\n\r\n  cambios(){\r\n\r\n    this.Ejemplares_montados = this.PRODUCTO.ejemplares[this.i_montajes]\r\n    // this.paginas = Math.ceil(this.Cantidad_ejemplares / this.Ejemplares_montados)\r\n    this.Ejemplares(this.Ejemplares_montados)\r\n    // this.Cantidad(this.Cantidad_ejemplares)\r\n\r\n  }\r\n\r\n  producto_selected(e){\r\n\r\n    if(e.target.value === '0'){\r\n      this.ps = false \r\n    }else{\r\n      this.ps = true;\r\n    }\r\n\r\n    this.api.getOneById(e.target.value)\r\n      .subscribe((resp:any)=>{\r\n        this.PRODUCTO = resp.producto;\r\n        // // console.log(this.PRODUCTO,'PRODUCTO')\r\n        this.montajes = this.PRODUCTO.montajes\r\n        this.Ejemplares_montados = this.PRODUCTO.ejemplares[this.i_montajes];\r\n        this.Ejemplares(this.Ejemplares_montados)\r\n        this.MAQUINAS = resp.maquinas;\r\n        //   this.modal_nueva_orden()\r\n        let x = this.PRODUCTO.materiales.length;\r\n        this.CANTIDAD = [];\r\n        for(let i=0; i<x; i++){\r\n          let respuesta = this._CANTIDAD.find(x => x.material.nombre == this.PRODUCTO[this.i_montajes].materiales[i].producto.nombre && x.material.marca == this.PRODUCTO.materiales[i].producto.marca && x.material.grupo.nombre)\r\n          \r\n          // // console.log(this.PRODUCTO)\r\n          if(!respuesta){\r\n            this.SinMaterial = true;\r\n            return\r\n          }else{\r\n            this.SinMaterial = false;\r\n          }\r\n          \r\n          this.CANTIDAD.push(respuesta)\r\n        }\r\n       })\r\n\r\n\r\n  }\r\n\r\n  orden_selected(e){\r\n    if(e.target.value === null){\r\n      this.os = false \r\n    }else{\r\n      this.os = true;\r\n      this.OC = e.target.value;\r\n    }\r\n\r\n    \r\n  }\r\n\r\n  BuscarAlmacen(){\r\n    this.api.getAlmacen()\r\n      .subscribe((resp:any) => {\r\n        this.ALMACEN = resp.materiales;\r\n        this.totalizar_materiales();\r\n      })\r\n  }\r\n\r\n  Cantidad(e){\r\n    this.Cantidad_ejemplares = e.target.value\r\n    // // console.log(e.target.value)\r\n    this.paginas = Math.ceil(this.Cantidad_ejemplares / this.Ejemplares_montados)\r\n    let demasia = (<HTMLInputElement>document.getElementById('demasia_input')).value;\r\n    this.Demasia(demasia)\r\n    // this.paginas = this.paginas + this.demasia\r\n    // this.paginas = this.paginas\r\n  }\r\n\r\n  Ejemplares(e){\r\n    // alert(e)\r\n    this.Ejemplares_montados = e\r\n    this.paginas = Math.ceil(this.Cantidad_ejemplares / this.Ejemplares_montados) \r\n    this.paginas = this.paginas + this.demasia\r\n    this.Demasia(this.demasia_)\r\n    // // console.log(this.Cantidad_ejemplares, '/', this.Ejemplares_montados, '/ ', this.demasia ,'-', this.paginas)\r\n    // this.paginas = (this.paginas)\r\n  }\r\n  public demasia_\r\n  Demasia(e){\r\n\r\n    this.paginas = Math.ceil(this.Cantidad_ejemplares / this.Ejemplares_montados)\r\n    this.demasia = Math.ceil(e * this.paginas / 100)\r\n    this.demasia_ = e\r\n    this.paginas = this.paginas + this.demasia\r\n\r\n    // // console.log(this.Cantidad_ejemplares, '/', this.Ejemplares_montados, '/ ', this.demasia ,'-', this.paginas)\r\n    // this.paginas = (this.paginas)\r\n\r\n  }\r\n\r\n  buscar_tintas(tinta, marca,sinMarca?,ancho?,largo?,calibre?){\r\n    let almacenado = [];\r\n    if(sinMarca){\r\n      almacenado = this._CANTIDAD.filter(x => x.material.nombre === tinta && x.cantidad > 0)\r\n    }else{\r\n      almacenado = this._CANTIDAD.filter(x => x.material.nombre === tinta && x.material.marca === marca && x.cantidad > 0)\r\n    }\r\n    if(ancho){\r\n      almacenado = this._CANTIDAD.filter(x => x.material.nombre === tinta && x.material.marca === marca && x.material.ancho === ancho && x.material.largo === largo && x.material.calibre === calibre && x.cantidad > 0)\r\n    }\r\n    if(almacenado.length < 1){\r\n      return 'No hay producto en inventario'\r\n    }else{\r\n      let cantidades = 0;\r\n      let neto = 0\r\n      for(let i = 0; i<almacenado.length; i++)\r\n      {\r\n\r\n          // cantidades = cantidades +  Number(almacenado[i].cantidad)\r\n          \r\n\r\n          cantidades =  cantidades + (Number(almacenado[i].material.neto) * Number(almacenado[i].cantidad))\r\n      }\r\n        return cantidades.toFixed(2)\r\n      }\r\n  }\r\n\r\n  restantes_(tinta, marca,i,caja?){\r\n    let almacenado = [];\r\n    if(caja === 'caja' || caja === 'barniz'){\r\n      almacenado = this._CANTIDAD.filter(x => x.material.nombre === tinta && x.cantidad > 0)\r\n    }else{\r\n      almacenado = this._CANTIDAD.filter(x => x.material.nombre === tinta && x.material.marca === marca && x.cantidad > 0)\r\n    }\r\n    if(almacenado.length < 1){\r\n      return 0\r\n    }else{\r\n      \r\n      let cantidades = 0;\r\n      for(let i = 0; i<almacenado.length; i++)\r\n        {\r\n\r\n          cantidades =  cantidades + (Number(almacenado[i].material.neto) * Number(almacenado[i].cantidad))\r\n        }\r\n\r\n        //  * this.paginas\r\n        let necesario\r\n        if(caja === 'caja'){\r\n          necesario = this.Cantidad_ejemplares / this.PRODUCTO.materiales[this.i_montajes][i].cantidad;\r\n        }else{\r\n          necesario = (this.PRODUCTO.materiales[this.i_montajes][i].cantidad * this.paginas)/1000;\r\n        }\r\n        let EnAlmacen = cantidades.toFixed(2);\r\n        return (Number(EnAlmacen) - necesario).toFixed(2);\r\n      }\r\n  }\r\n\r\n  totalizar_materiales(){\r\n    for(let i=0; i<this._CANTIDAD.length; i++){\r\n      let existe = this.TOTALES.find(x => x.material == this._CANTIDAD[i].material.nombre && x.marca == this._CANTIDAD[i].material.marca);\r\n      if(existe){\r\n          let x = this.TOTALES.findIndex(x => x.material == this._CANTIDAD[i].material.nombre && x.marca == this._CANTIDAD[i].material.marca)\r\n          \r\n          this.TOTALES[x].total = Number(this.TOTALES[x].total)\r\n          this._CANTIDAD[i].cantidad = Number(this._CANTIDAD[i].cantidad)\r\n          this._CANTIDAD[i].neto = Number(this._CANTIDAD[i].material.neto)\r\n\r\n          let def = (this._CANTIDAD[i].neto * this._CANTIDAD[i].cantidad) / this.TOTALES[x].neto\r\n\r\n          this.TOTALES[x].total = this.TOTALES[x].total + def;\r\n\r\n        }else{\r\n        this.TOTALES.push({\r\n                       material:this._CANTIDAD[i].material.nombre,\r\n                       marca:this._CANTIDAD[i].material.marca,\r\n                       grupo:this._CANTIDAD[i].material.grupo.nombre,\r\n                       presentacion:this._CANTIDAD[i].material.presentacion,\r\n                       neto:this._CANTIDAD[i].material.neto,\r\n                       unidad:this._CANTIDAD[i].material.unidad,\r\n                      ancho:this._CANTIDAD[i].material.ancho,\r\n                      largo:this._CANTIDAD[i].material.largo,\r\n                      total:this._CANTIDAD[i].cantidad\r\n                    })\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  Fecha_s(e){\r\n    this.Fecha_S = e;\r\n  }\r\n\r\n  TimesTime(){\r\n\r\n    let index = this.PRODUCTO.materiales[this.i_montajes].length\r\n    \r\n    for(let i=0; i<index; i++){\r\n      if(this.PRODUCTO.materiales[this.i_montajes][i].producto.grupo.nombre != \"Sustrato\")\r\n      {\r\n        let resto;\r\n        if(this.PRODUCTO.materiales[this.i_montajes][i].producto.grupo.nombre === \"Cajas Corrugadas\"){\r\n          resto = this.restantes_(this.PRODUCTO.materiales[this.i_montajes][i].producto.nombre, this.PRODUCTO.materiales[this.i_montajes][i].producto.marca,i,'caja')\r\n        }else if(this.PRODUCTO.materiales[this.i_montajes][i].producto.grupo.nombre === \"Barniz\"){\r\n          resto = this.restantes_(this.PRODUCTO.materiales[this.i_montajes][i].producto.nombre, this.PRODUCTO.materiales[this.i_montajes][i].producto.marca,i,'barniz')\r\n        }else{\r\n          resto = this.restantes_(this.PRODUCTO.materiales[this.i_montajes][i].producto.nombre, this.PRODUCTO.materiales[this.i_montajes][i].producto.marca,i)\r\n        }\r\n        resto = Number(resto)\r\n        if(resto < 0){\r\n          // // console.log(this.PRODUCTO.materiales[this.i_montajes][i].producto.nombre, '<>', resto)\r\n            Swal.fire({\r\n              icon:'error',\r\n              title:'Oops!',\r\n              text:'No posees los materiales necesarios para realizar este producto',\r\n              showConfirmButton:false,\r\n              // timer:2500\r\n            })\r\n            return\r\n        }\r\n      }else{\r\n        let SUSTRATO_EN_ALMACEN = this.buscar_tintas(this.PRODUCTO.materiales[this.i_montajes][i].producto.nombre,this.PRODUCTO.materiales[this.i_montajes][i].producto.marca,'NA',this.PRODUCTO.materiales[this.i_montajes][i].producto.ancho,this.PRODUCTO.materiales[this.i_montajes][i].producto.largo,this.PRODUCTO.materiales[this.i_montajes][i].producto.calibre)\r\n        let resta = Number(SUSTRATO_EN_ALMACEN) - this.paginas;\r\n        if(resta <0){\r\n          Swal.fire({\r\n            icon:'error',\r\n            title:'Oops!',\r\n            text:'No posees los materiales necesarios para realizar este producto',\r\n            showConfirmButton:false,\r\n            // timer:2500\r\n          })\r\n          return\r\n        }\r\n      }\r\n    }\r\n\r\n    // for(let i=0; i<this.restantes.length; i++){\r\n    //   if(this.restantes[i] < 0){\r\n    //     Swal.fire({\r\n    //       icon:'error',\r\n    //       title:'Oops!',\r\n    //       text:'No posees los materiales necesarios para realizar este producto',\r\n    //       showConfirmButton:false,\r\n    //       // timer:2500\r\n    //     })\r\n    //     return\r\n    //   }\r\n    // }\r\n\r\n    this.Fases = true;\r\n    this.modal_nueva_orden()\r\n  }\r\n\r\n  colocarFecha(e,fase,i){\r\n\r\n    // CPH = CANTIDAD POR HOJAS\r\n\r\n    this.api.getFechas(e.target.value)\r\n      .subscribe((resp:any)=>{\r\n        let cph = 0\r\n        let HorasAgregadas = 0\r\n        let fecha;\r\n\r\n        if(resp.trabajo.length > 0){\r\n          cph = resp.trabajo[0].maquina.cph\r\n\r\n            // HpC = this.paginas / diasAgregados;\r\n            // let hoymas3 = moment(resp.trabajo[0].fecha).add(HpC, 'hours').format('yyyy-MM-DD');\r\n\r\n            let hoy = moment().format('yyyy-MM-DD');\r\n\r\n            let fecha_ = resp.trabajo[0].fecha;\r\n\r\n            let after = moment(fecha_).isAfter(hoy, 'day');\r\n\r\n            // // console.log(fecha_,'/',hoy,'/',after)\r\n\r\n            if(!after){\r\n              fecha = hoy;\r\n            }else{\r\n              fecha = fecha_;\r\n            }\r\n\r\n\r\n\r\n        }else{\r\n          let hoy = moment().format('yyyy-MM-DD');\r\n          fecha = hoy;\r\n        }\r\n\r\n        (<HTMLInputElement>document.getElementById(fase)).value = fecha\r\n\r\n\r\n        if(cph > 0){\r\n          HorasAgregadas = this.paginas / cph;\r\n        }else{\r\n          let MaquinaSelected2 = this.MAQUINAS.find(x => x._id == e.target.value)\r\n\r\n          cph = MaquinaSelected2.cph;\r\n\r\n          HorasAgregadas = this.paginas / cph;\r\n        }\r\n\r\n        let dias = HorasAgregadas / 7;\r\n\r\n          let hoymas3 = moment(fecha).add(dias, 'days').format('yyyy-MM-DD');\r\n\r\n          (<HTMLInputElement>document.getElementById(`${fase}-C`)).value = hoymas3;\r\n\r\n      })\r\n  }\r\n\r\n  reprogramar(e, fase){\r\n\r\n          let maquina = (<HTMLInputElement>document.getElementById(`${fase}-maquina`)).value\r\n          let MaquinaSelected2 = this.MAQUINAS.find(x => x._id == maquina)\r\n\r\n          let cph = MaquinaSelected2.cph;\r\n\r\n          let HorasAgregadas = this.paginas / cph;\r\n\r\n          let dias = HorasAgregadas / 7;\r\n\r\n          let hoymas3 = moment(e.target.value).add(dias, 'days').format('yyyy-MM-DD');\r\n\r\n          (<HTMLInputElement>document.getElementById(`${fase}-C`)).value = hoymas3;\r\n  }\r\n\r\n  // test(){\r\n  //   // console.log()\r\n  // }\r\n\r\n  \r\n  finalizar(cantidad){\r\n\r\n    let data = {\r\n      fecha_o:this.fo_,\r\n      montaje:this.i_montajes,\r\n      cliente:this.CLIENTE,\r\n      producto:this.PRODUCTO._id,\r\n      orden_compra:this.oc_,\r\n      cantidad:cantidad.value,\r\n      paginas:this.paginas,\r\n      demasia:this.demasia_,\r\n      fecha_s:this.Fecha_S,\r\n      almacen:this.ae_,\r\n      e_c:(<HTMLInputElement>document.getElementById(`e_c`)).checked,\r\n      i_ancho:(<HTMLInputElement>document.getElementById(`ancho_imprimir`)).value,\r\n      i_largo:(<HTMLInputElement>document.getElementById(`largo_imprimir`)).value,\r\n      observacion:this.observacion_\r\n    }\r\n\r\n    this.api.postOrden(data)\r\n      .subscribe((resp:any)=>{\r\n        let fases = this.PRODUCTO.grupo.tipos.length\r\n        for(let x=0; x<fases; x++){\r\n          \r\n          let fase = this.PRODUCTO.grupo.tipos[x]\r\n          // // console.log(this.PRODUCTO.grupo.tipos[x])\r\n          let maquina = (<HTMLInputElement>document.getElementById(`${fase}-maquina`)).value\r\n          let fechaI = (<HTMLInputElement>document.getElementById(`${fase}`)).value\r\n          let fecha = (<HTMLInputElement>document.getElementById(`${fase}-C`)).value\r\n\r\n          let Data = {\r\n            maquina,\r\n            fechaI, \r\n            fecha,\r\n            orden:resp,\r\n            pos:x\r\n          }\r\n\r\n          this.api.postOrden2(Data)\r\n            .subscribe((respuesta:any)=>{\r\n              // // console.log(respuesta)\r\n            })\r\n\r\n        }\r\n        this.router.navigate([`/orden-produccion/${resp}`]);\r\n      })\r\n  }\r\n\r\n}\r\n","<div class=\"columns mt-5\">\r\n    <div class=\"column is-3\">\r\n        <div class=\"card\">\r\n            <div class=\"card-content\">\r\n                <div class=\"field\">\r\n                    <label class=\"label\">Cliente</label>\r\n                    <div class=\"control\">\r\n                        <div class=\"select\">\r\n                            <select id='cliente' (change)='cliente_selected($event)'>\r\n                                <option value='0'>Selecciona Cliente</option>\r\n                                <option *ngFor='let cliente of CLIENTES' value=\"{{cliente._id}}\">{{cliente.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"field\" *ngIf='cs'>\r\n                    <label class=\"label\">Producto</label>\r\n                    <div class=\"control\">\r\n                        <div class=\"select\">\r\n                            <select id='producto' (change)='producto_selected($event)'>\r\n                                <option value='0'>Selecciona Producto</option>\r\n                                <option *ngFor='let producto of PRODUCTOS' value='{{producto._id}}'>{{producto.producto}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"field\" *ngIf='ps'>\r\n                    <label class=\"label\">Orden de Compra</label>\r\n                    <div class=\"control\">\r\n                        <!-- <input type=\"text\" class=\"input\" (change)='orden_selected($event)' [(ngModel)]=\"userName\"> -->\r\n                        <input type=\"text\" class=\"input\" [(ngModel)]=\"oc_\">\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"field\" *ngIf='oc_'>\r\n                <label class=\"label\">Fecha orden de compra:</label>\r\n                <div class=\"control\">\r\n                    <input type=\"date\" name=\"f_oc\" class=\"input\" max=\"{{hoy}}\" [(ngModel)]=\"fo_\">\r\n                </div>\r\n                </div>\r\n\r\n                <div class=\"field\" *ngIf='fo_'>\r\n                    <label class=\"label\">Almacen de entrega:</label>\r\n                    <div class=\"control\">\r\n                        <div class=\"select\">\r\n                            <select id='producto' [(ngModel)]=\"ae_\">\r\n                                <option value='0'>Selecciona Almacen</option>\r\n                                <option *ngFor='let almacen of ALMACEN' value='{{almacen}}'>{{almacen}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <button class=\"button is-primary\" (click)='modal_nueva_orden()' [disabled]=\"!ae_ || ae_ == 0\">Realizar Programación</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"column\" *ngIf='Fases'>\r\n        <div class=\"card planificacion\">\r\n            <div class=\"card-content\">\r\n                <div class=\"titulo\">Fases de la Producción</div>\r\n                <div class=\"card\" *ngFor='let fase of PRODUCTO.grupo.tipos;index as i'>\r\n                    <div class=\"card-content\">\r\n                            <div class=\"subtitulo_\">\r\n                                {{fase}}\r\n                            </div>\r\n                        <div class=\"columns\">\r\n                            <div class=\"column\"><div class=\"field\">\r\n                                <label class=\"label\">Maquina</label>\r\n                                <div class=\"control\">\r\n                                    <div class=\"select\">\r\n                                        <select (change)='colocarFecha($event, fase,i)' id='{{fase}}-maquina'>\r\n                                                <option value=\"\">Selecciona Maquina</option>\r\n                                            <ng-container *ngFor='let maquina of MAQUINAS'>\r\n                                                <option value=\"{{maquina._id}}\" *ngIf='maquina.tipo === fase'>{{maquina.nombre}}</option>\r\n                                            </ng-container>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div></div>\r\n                            <div class=\"column\">\r\n                                <div class=\"field\">\r\n                                    <label class=\"label\">\r\n                                        Fecha de Inicio\r\n                                    </label>\r\n                                    <div class=\"control\">\r\n                                        <input type=\"date\" min=\"{{hoy}}\" class=\"input\" id='{{fase}}' (change)='reprogramar($event, fase)'>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <div class=\"field\">\r\n                                    <label class=\"label\">\r\n                                        Culminación Estimada\r\n                                    </label>\r\n                                    <div class=\"control\">\r\n                                        <input type=\"date\" class=\"input\" id='{{fase}}-C'>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <button class=\"button is-primary mt-5\" (click)='finalizar(cantidad)'>Generar Orden de Produccion</button>\r\n            </div>\r\n            \r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVA_ORDEN}\">\r\n    <div class=\"modal-background\" (click)='modal_nueva_orden()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Nueva Orden de Producción</div>\r\n            <hr>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Cantidad</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"number\" class=\"input\" value='1000' (change)='Cantidad($event)' #cantidad>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Demasía (%)</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"number\" class=\"input\" value='0' id='demasia_input' (change)='Demasia($event.target.value)'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Fecha Solic.</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"date\" class=\"input\" value='0' [min]=\"hoy\" (change)='Fecha_s($event.target.value)'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Tamaño de sustrato a imprimir:</label>\r\n                <div class=\"control\">\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <div class=\"columns\">\r\n                                <ng-container *ngFor='let materiales of PRODUCTO.materiales[i_montajes]'>\r\n                                    <ng-container *ngIf='materiales.producto.grupo.nombre === \"Sustrato\"'>\r\n                                <div class=\"column\">\r\n                                    <label class=\"label\">ancho:</label>\r\n                                    <input type=\"number\" min=\"10\" class=\"input\" value=\"{{materiales.producto.ancho}}\" id=\"ancho_imprimir\">\r\n                                </div>\r\n                                <div class=\"column\">\r\n                                    <label class=\"label\">largo:</label>\r\n                                    <input type=\"number\"  min=\"10\" class=\"input\" value=\"{{materiales.producto.largo}}\" id=\"largo_imprimir\">\r\n                                </div>\r\n                                    </ng-container>\r\n                                </ng-container>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"column\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <br>\r\n            <input type=\"checkbox\" name=\"Estandar\" id=\"e_c\"> Estándar de Colores\r\n            <hr>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Observación:</label>\r\n                <textarea class=\"textarea\" placeholder=\"Observación\" [(ngModel)]=\"observacion_\"></textarea>\r\n            </div>\r\n            <hr>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Montaje:</label>\r\n                <div class=\"select\">\r\n                    <select name=\"montaje\" [(ngModel)]=\"i_montajes\" (change)=\"cambios()\">\r\n                        <option value=\"{{i}}\" *ngFor=\"let e of [].constructor(montajes); let i = index\">\r\n                            Montaje {{NumToLet(i)}}\r\n                        </option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <hr>\r\n            <b>Ejemplares montados: </b>{{Ejemplares_montados}} <br>\r\n            <b>Sustrato</b><br>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Mat. a utilizar</th>\r\n                        <th>Cant. Necesaria</th>\r\n                        <th>Cant. Almacén</th>\r\n                        <th>Cant. Restante</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                        <ng-container *ngFor='let materiales of PRODUCTO.materiales[i_montajes]'>\r\n                            <tr *ngIf='materiales.producto.grupo.nombre === \"Sustrato\"'>\r\n                                <td>\r\n                                    {{materiales.producto.nombre}} {{materiales.producto.marca}} ({{materiales.producto.ancho}} x {{materiales.producto.largo}})\r\n                                </td>\r\n                                <td>\r\n                                    {{paginas}}\r\n                                </td>\r\n                                <td>\r\n                                    {{buscar_tintas(materiales.producto.nombre,materiales.producto.marca,'NA',materiales.producto.ancho,materiales.producto.largo,materiales.producto.calibre)}}\r\n                                </td>\r\n                                <td>\r\n                                    {{buscar_tintas(materiales.producto.nombre,materiales.producto.marca,'NA',materiales.producto.ancho,materiales.producto.largo,materiales.producto.calibre) - paginas}}\r\n                                </td>\r\n                            </tr>\r\n                        </ng-container>\r\n                        </tbody>\r\n                    </table>\r\n                    <hr>\r\n            <b>Materia Prima</b>\r\n            <div *ngIf=\"SinMaterial\">\r\n                <article class=\"message is-danger\">\r\n                    <div class=\"message-body\">\r\n                      Actualmente en su inventario no hay registrada la materia prima solicitada para realizar este producto, ingrese nueva materia e intentelo de nuevo\r\n                    </div>\r\n                  </article>\r\n            </div><br>\r\n            <b>Tintas</b>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Mat. a utilizar</th>\r\n                        <th>Cant. Necesaria</th>\r\n                        <th>Cant. Almacén</th>\r\n                        <th>Cant. Restante</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor='let material of PRODUCTO.materiales[i_montajes];let i = index'>\r\n                        <tr *ngIf='material.producto.grupo.nombre === \"Tinta\"'>\r\n                            <td>{{material.producto.nombre}} ({{material.producto.marca}})</td>\r\n                            <td>{{((material.cantidad * paginas) / 1000).toFixed(2)}}</td>\r\n                            <td>{{buscar_tintas(material.producto.nombre,material.producto.marca)}}</td>\r\n                            <td>{{restantes_(material.producto.nombre,material.producto.marca,i)}}</td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </tbody>\r\n            </table>\r\n\r\n            <b>Barniz</b>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Mat. a utilizar</th>\r\n                        <th>Cant. Necesaria</th>\r\n                        <th>Cant. Almacén</th>\r\n                        <th>Cant. Restante</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor='let material of PRODUCTO.materiales[i_montajes];let i = index'>\r\n                        <tr *ngIf='material.producto.grupo.nombre === \"Barniz\"'>\r\n                            <td>{{material.producto.nombre}}</td>\r\n                            <td>{{((material.cantidad * paginas)/ 1000).toFixed(2)}}</td>\r\n                            <td>{{buscar_tintas(material.producto.nombre,material.producto.marca,true)}}</td>\r\n                            <td>{{restantes_(material.producto.nombre,material.producto.marca,i,'barniz')}}</td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </tbody>\r\n            </table>\r\n\r\n            <b>Pega</b>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Mat. a utilizar</th>\r\n                        <th>Cant. Necesaria</th>\r\n                        <th>Cant. Almacén</th>\r\n                        <th>Cant. Restante</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor='let material of PRODUCTO.materiales[i_montajes];let i = index'>\r\n                        <tr *ngIf='material.producto.grupo.nombre === \"Pega\"'>\r\n                            <td>{{material.producto.nombre}} ({{material.producto.marca}})</td>\r\n                            <td>{{((material.cantidad * Cantidad_ejemplares) / 1000).toFixed(2)}}</td>\r\n                            <td>{{buscar_tintas(material.producto.nombre,material.producto.marca)}}</td>\r\n                            <!-- <td>{{restantes_(material.producto.nombre,material.producto.marca,i)}}</td> -->\r\n                            <td>{{(buscar_tintas(material.producto.nombre,material.producto.marca)-((material.cantidad * Cantidad_ejemplares) / 1000).toFixed(2))}}</td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </tbody>\r\n            </table>\r\n\r\n            <b>Cajas Corrugadas</b>\r\n            <table class=\"table is-fullwidth\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Mat. a utilizar</th>\r\n                        <th>Cant. Necesaria</th>\r\n                        <th>Cant. Almacén</th>\r\n                        <th>Cant. Restante</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor='let material of PRODUCTO.materiales[i_montajes];let i = index'>\r\n                        <tr *ngIf='material.producto.grupo.nombre === \"Cajas Corrugadas\"'>\r\n                            <td>{{material.producto.nombre}}</td>\r\n                            <td>{{(Cantidad_ejemplares / material.cantidad).toFixed(2)}}</td>\r\n                            <td>{{buscar_tintas(material.producto.nombre,material.producto.marca,true)}}</td>\r\n                            <td>{{restantes_(material.producto.nombre,material.producto.marca,i,'caja')}}</td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </tbody>\r\n            </table> \r\n            <button class=\"button is-primary\" (click)='TimesTime()' *ngIf=\"!SinMaterial\">Gestionar tiempo</button>\r\n        </div>\r\n    </div>\r\n</div>","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'Poligrafica';\r\n}\r\n","<router-outlet></router-outlet>","import { Component, OnInit } from '@angular/core';\r\nimport { RestApiService } from '../services/rest-api.service';\r\n\r\nimport * as moment from 'moment'\r\n\r\n\r\n@Component({\r\n  selector: 'app-planificacion',\r\n  templateUrl: './planificacion.component.html',\r\n  styleUrls: ['./planificacion.component.css']\r\n})\r\nexport class PlanificacionComponent implements OnInit {\r\n\r\n  public MAQUINAS;\r\n  public FUNCIONES = [];\r\n  public TRABAJOS = [];\r\n  public cargado:boolean = false\r\n\r\n  constructor(private api:RestApiService) { }\r\n\r\n  ngOnInit(): void {\r\n    \r\n    this.ObtenerMaquinas()\r\n    this.obtenerTrabajos()\r\n    let mes = moment().format('M')\r\n    let ano = moment().format('yyyy')\r\n    this.getDaysFromDate(mes,ano)\r\n  }\r\n\r\n  // ***********************************************************\r\n  getDaysFromDate(month, year) {\r\n    \r\n    moment.locale('es')\r\n    \r\n    moment.updateLocale('es', {\r\n      months : [\r\n          \"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\",\r\n          \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"\r\n      ]\r\n  });\r\n\r\n    \r\n    const startDate = moment(`${year}/${month}/01`)\r\n    const endDate = startDate.clone().endOf('month')\r\n    this.dateSelect = startDate;\r\n\r\n    const diffDays = endDate.diff(startDate, 'days', true)\r\n    const numberDays = Math.round(diffDays);\r\n\r\n    const arrayDays = Object.keys([...Array(numberDays)]).map((a: any) => {\r\n      a = parseInt(a) + 1;\r\n      const dayObject = moment(`${year}-${month}-${a}`);\r\n      return {\r\n        name: dayObject.format(\"dddd\"),\r\n        value: a,\r\n        indexWeek: dayObject.isoWeekday()\r\n      };\r\n    });\r\n\r\n    this.monthSelect = arrayDays;\r\n  }\r\n\r\n  changeMonth(flag) {\r\n    if (flag < 0) {\r\n      const prevDate = this.dateSelect.clone().subtract(1, \"month\");\r\n      this.getDaysFromDate(prevDate.format(\"MM\"), prevDate.format(\"YYYY\"));\r\n    } else {\r\n      const nextDate = this.dateSelect.clone().add(1, \"month\");\r\n      this.getDaysFromDate(nextDate.format(\"MM\"), nextDate.format(\"YYYY\"));\r\n    }\r\n  }\r\n\r\n  clickDay(day) {\r\n    const monthYear = this.dateSelect.format('YYYY-MM')\r\n    const parse = `${monthYear}-${day.value}`\r\n    const objectDate = moment(parse)\r\n    this.dateValue = objectDate;\r\n\r\n\r\n  }\r\n  // ***********************************************************\r\n\r\n  week:any = [\r\n    \"Lunes\",\r\n    \"Martes\",\r\n    \"Miercoles\",\r\n    \"Jueves\",\r\n    \"Viernes\",\r\n    \"Sabado\",\r\n    \"Domingo\"\r\n  ]\r\n\r\n  monthSelect: any[];\r\n  dateSelect: any;\r\n  dateValue: any;\r\n\r\n  ObtenerMaquinas(){\r\n    this.api.GetMaquinas()\r\n      .subscribe(maquinas => {\r\n        this.MAQUINAS = maquinas;\r\n        this.obtenerTipos();\r\n        this.cargado = true\r\n      });\r\n  }\r\n\r\n  obtenerTipos(){\r\n    let x = this.MAQUINAS.length;\r\n    for(let i = 0; i< x; i++){\r\n      let inde = this.FUNCIONES.includes(this.MAQUINAS[i].tipo)\r\n      if(!inde){\r\n        this.FUNCIONES.push(this.MAQUINAS[i].tipo)\r\n      }\r\n    }\r\n  }\r\n\r\n  Cant_hojas(x,y){\r\n    return Math.ceil(x/y)\r\n  }\r\n  \r\n  getFechas(fecha:any, funcion:any){\r\n\r\n    // 2021-08-\r\n    \r\n    let mes = moment(this.dateSelect).format('MM')\r\n    let ano = moment(this.dateSelect).format('yyyy')\r\n\r\n    if(fecha<10){\r\n      fecha = `0${fecha}`\r\n    }\r\n\r\n    fecha = `${ano}-${mes}-${fecha}`\r\n\r\n    let betas = [];\r\n\r\n    let nuevo = this.TRABAJOS.filter(x => x.maquina.tipo === funcion);\r\n\r\n    if(nuevo){\r\n      let final = [];\r\n      let Long = nuevo.length;\r\n      for(let i=0; i<Long; i++){\r\n\r\n        if(fecha >= nuevo[i].fechaI){\r\n          if(fecha <= nuevo[i].fecha){\r\n            final.push(nuevo[i])\r\n            // console.log(final)\r\n          }\r\n        }\r\n\r\n      }\r\n      return final;\r\n      \r\n    }\r\n\r\n    // // console.log(nuevo)\r\n  }\r\n    // // console.log(this.TRABAJOS.length )\r\n\r\n    // fecha = '2021-08-20'\r\n    // funcion = \"IMPRESION\"\r\n\r\n    \r\n    // let nuevo = this.TRABAJOS.find(x => x.maquina.tipo === funcion);\r\n\r\n    // if(nuevo){\r\n    //   let fecha_final = moment(nuevo.fecha).format('yyyy-MM-DD')\r\n    //   let fecha_Inicial = moment(nuevo.fechaI).format('yyyy-MM-DD')\r\n    //   let fecha_actual = moment(fecha).format('yyyy-MM-DD')\r\n\r\n    //   // console.log(nuevo)\r\n\r\n      // let MI:boolean = fecha_actual >= fecha_Inicial;\r\n      // if(MI){\r\n      //   let MF:boolean = fecha_actual <= fecha_final;\r\n      //   // console.log(MF)\r\n      // }\r\n\r\n\r\n    // if(nuevo){\r\n    //   let fecha_final = moment(nuevo.fecha).format('yyyy-MM-DD')\r\n    //   let fecha_Inicial = moment(nuevo.fechaI).format('yyyy-MM-DD')\r\n    //   let fecha_actual = moment(fecha).format('yyyy-MM-DD')\r\n      \r\n    //   let MI:boolean = fecha_actual >= fecha_Inicial;\r\n\r\n    //   if(MI){\r\n    //     let MF:boolean = fecha_actual <= fecha_final;\r\n    //     if(MF){\r\n    //       // console.log(nuevo,'_',funcion)\r\n    //       return `${nuevo._id.slice(3,6)}`\r\n    //     }\r\n    //   }\r\n\r\n    // }\r\n\r\n    \r\n    \r\n    // if(nuevo){\r\n    //   let fecha_final = moment(nuevo.fecha).format('yyyy-MM-DD')\r\n    //   let fecha_Inicial = moment(nuevo.fechaI).format('yyyy-MM-DD')\r\n    //   let fecha_actual = moment(fecha).format('yyyy-MM-DD')\r\n      \r\n    //   let MI:boolean = fecha_actual >= fecha_Inicial;\r\n      \r\n    //   if(MI){\r\n    //     let MF:boolean = fecha_actual <= fecha_final;\r\n    //     if(MF){\r\n    //       // console.log('aqui',nuevo)\r\n    //        return `${nuevo._id.slice(3,6)}`\r\n    //     }\r\n    //   }\r\n    // }\r\n\r\n\r\n\r\n      // if(nuevo.fecha < fecha)\r\n\r\n    // if(nuevo){\r\n    //   let nuevo2 = nuevo.find(x => x.fecha <= fecha)\r\n    //   // console.log(nuevo2)\r\n    // }\r\n\r\n\r\n    // return nuevo\r\n\r\n  obtenerTrabajos(){\r\n    this.api.getTrabajos()\r\n      .subscribe((resp:any)=>{\r\n        this.cargado = false;\r\n        this.TRABAJOS = resp;\r\n        // console.log(this.TRABAJOS)\r\n        this.cargado = true;\r\n      })\r\n  }\r\n\r\n}","<app-navbar></app-navbar>\r\n<div class='mt-5'>\r\n    <div class=\"header-calendar\">\r\n        <div>\r\n            <button class=\"button is-primary\" (click)='changeMonth(-1)'>Anterior</button>\r\n        </div>\r\n        <h1>{{dateSelect | date: 'MMMM, yyyy'}}</h1>\r\n        <div>\r\n            <button class=\"button is-primary\" (click)='changeMonth(1)'>Siguiente</button>\r\n        </div>\r\n    </div>\r\n    <ol>\r\n        <li *ngFor='let day of week' class=\"day-name\">{{day | slice:0:3}}</li>\r\n        <li [style.gridColumnStart]=\"first ? day?.indexWeek : 'auto'\"\r\n        *ngFor=\"let day of monthSelect;let first = first\">\r\n        <span>{{day?.value}}</span>\r\n        <div *ngFor='let funcion of FUNCIONES'>\r\n            <div class='plan'>\r\n                <b class=\"titulo\">{{funcion}}</b>\r\n                <!-- * -->\r\n                <ng-container *ngFor=\"let id of getFechas(day?.value, funcion);index as i\">\r\n                    <div style=\"--i:{{id.orden.sort.charAt(id.orden.sort.length - 1)}}\" class=\"op-{{id.orden.sort.charAt(id.orden.sort.length - 1)}} color\">\r\n                        <span class=\"tooltip\">\r\n                            <b>Producto: </b>{{id.orden.producto.producto}} <br>\r\n                           <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                           <b>Cantidad de productos: </b>{{id.orden.cantidad}} <br>\r\n                           <b>Cantidad de hojas: </b>{{Cant_hojas(id.orden.cantidad, id.orden.producto.ejemplares[id.orden.montaje])}} <br>\r\n                           <b>Maquina: </b>{{id.maquina.nombre}}\r\n                       </span>\r\n                        {{id.orden.sort}}\r\n                        <br> \r\n                    </div>\r\n                </ng-container>\r\n                <!-- * -->\r\n            </div>\r\n        </div>\r\n    </li>\r\n    </ol>\r\n</div>\r\n\r\n\r\n\r\n<!-- <div class=\"container\">\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>01/08</th>\r\n                        <th>02/08</th>\r\n                        <th>03/08</th>\r\n                        <th>04/08</th>\r\n                        <th>05/08</th>\r\n                        <th>06/08</th>\r\n                        <th>07/08</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let funcion of FUNCIONES'>\r\n                        <td>{{funcion}}</td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-01', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-02', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-03', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-04', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-05', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-06', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-07', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>08/08</th>\r\n                        <th>09/08</th>\r\n                        <th>10/08</th>\r\n                        <th>11/08</th>\r\n                        <th>12/08</th>\r\n                        <th>13/08</th>\r\n                        <th>14/08</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let funcion of FUNCIONES'>\r\n                        <td>{{funcion}}</td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-08', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-09', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-10', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-11', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-12', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-13', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-14', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>15/08</th>\r\n                        <th>16/08</th>\r\n                        <th>17/08</th>\r\n                        <th>18/08</th>\r\n                        <th>19/08</th>\r\n                        <th>20/08</th>\r\n                        <th>21/08</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let funcion of FUNCIONES'>\r\n                        <td>{{funcion}}</td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-15', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-16', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-17', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-18', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-19', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-20', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-21', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>22/08</th>\r\n                        <th>23/08</th>\r\n                        <th>24/08</th>\r\n                        <th>25/08</th>\r\n                        <th>26/08</th>\r\n                        <th>27/08</th>\r\n                        <th>28/08</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let funcion of FUNCIONES'>\r\n                        <td>{{funcion}}</td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-22', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-23', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-24', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-25', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-26', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-27', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-28', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <div class=\"card\">\r\n        <div class=\"card-content\">\r\n            <table class=\"table is-fullwidth is-bordered\">\r\n                <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>29/08</th>\r\n                        <th>30/08</th>\r\n                        <th>31/08</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor='let funcion of FUNCIONES'>\r\n                        <td>{{funcion}}</td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-29', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-30', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngFor=\"let id of getFechas('2021-08-31', funcion)\">\r\n                            <div class=\"ids\">\r\n                                {{id.orden.sort}}\r\n                                <span class=\"tooltip\">\r\n                                    <b>Numero de Orden: </b>{{id.orden.sort}} <br>\r\n                                    <b>Cantidad: </b>{{id.orden.cantidad}} <br>\r\n                                    <b>Maquina: </b>{{id.maquina.nombre}}\r\n                                </span>\r\n                                <br>\r\n                            </div>\r\n                        </ng-container>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div> -->\r\n\r\n<!-- <div class=\"card\" *ngIf='cargado'>\r\n    <div class=\"card-content\">\r\n        <table class=\"table is-fullwidth is-bordered\">\r\n            <thead>\r\n                <tr>\r\n                    <th></th>\r\n                    <th>15/08</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td>IMPRESION</td>\r\n                    <td>\r\n                        <ng-container *ngFor=\"let id of getFechas('2021-08-19', 'IMPRESION')\">\r\n                            {{id._id.slice(3,6)}} <br>\r\n                        </ng-container>\r\n                        <br>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>  -->","import { Component, OnInit } from '@angular/core';\r\nimport { NgModule } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-nuevo-pedido',\r\n  templateUrl: './nuevo-pedido.component.html',\r\n  styleUrls: ['./nuevo-pedido.component.css']\r\n})\r\nexport class NuevoPedidoComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<app-navbar></app-navbar>\n<router-outlet></router-outlet>","import { BrowserModule } from '@angular/platform-browser';\r\nimport { LOCALE_ID, NgModule } from '@angular/core';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { IndexComponent } from './index/index.component';\r\nimport { MainComponent } from './index/main/main.component';\r\nimport { SharedModule } from './shared/shared.module';\r\nimport { IndexModule } from './index/index.module';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { NuevoPedidoComponent } from './nuevo-pedido/nuevo-pedido.component';\r\nimport { NuevoPedidoModule } from './nuevo-pedido/nuevo-pedido.module';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ProductoYMaquinariaComponent } from './producto-ymaquinaria/producto-ymaquinaria.component';\r\nimport { ProductoYMaquinariaModule } from './producto-ymaquinaria/producto-ymaquinaria.module';\r\nimport { AlmacenComponent } from './almacen/almacen.component';\r\nimport { AlmacenModule } from './almacen/almacen.module';\r\nimport { OrdenComponent } from './orden/orden.component';\r\nimport { OrdenesModule } from './ordenes/ordenes.module';\r\nimport { OrdenesComponent } from './ordenes/ordenes.component';\r\nimport { PlanificacionComponent } from './planificacion/planificacion.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { EstadisticasModule } from './estadisticas/estadisticas.module';\r\n\r\nimport localeES from '@angular/common/locales/es';\r\nimport { registerLocaleData } from '@angular/common';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { UnicosPipe } from './pipe/unicos.pipe';\r\nregisterLocaleData(localeES, 'es')\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    IndexComponent,\r\n    MainComponent,\r\n    NuevoPedidoComponent,\r\n    ProductoYMaquinariaComponent,\r\n    AlmacenComponent,\r\n    OrdenComponent,\r\n    OrdenesComponent,\r\n    PlanificacionComponent,\r\n    LoginComponent,\r\n    UnicosPipe\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    RouterModule,\r\n    SharedModule,\r\n    AppRoutingModule,\r\n    EstadisticasModule,\r\n    IndexModule,\r\n    NuevoPedidoModule,\r\n    ProductoYMaquinariaModule,\r\n    AlmacenModule,\r\n    OrdenesModule,\r\n    ReactiveFormsModule,\r\n    FormsModule\r\n  ],\r\n  providers: [{provide: LOCALE_ID, useValue: 'es'}],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport * as _ from 'lodash'; \r\n\r\n@Pipe({\r\n  name: 'unicos',\r\n  pure: false\r\n})\r\nexport class UnicosPipe implements PipeTransform {\r\n\r\n  transform(value: any): any{\r\n    if(value!== undefined && value!== null){\r\n        return _.uniqBy(value, 'name');\r\n    }\r\n    return value;\r\n}\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-index',\r\n  templateUrl: './index.component.html',\r\n  styleUrls: ['./index.component.css']\r\n})\r\nexport class IndexComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<app-navbar></app-navbar>\r\n<router-outlet></router-outlet><!--H\u0007����Ez׉8�j*�y�\u0007U�K\u001fx�m�S۪��m�\u001bG����x,�\u001b\u001e!���\u001cC$&B\u0013b>7�M\f��5��\u0006D�b�\u0019�k�;�{y#)\u001cS���v{�|=��/��Ƒ;1ɟ2�\u0011�yu�\u0013�٩a�c�\u0018�:�h�D{���&\t=�u\u0010op���[K\u001aYy˦|9]�Ctv\u001c�ժ��,�\u0017�G��2\u0011�.�Ir��Ų�:n\b��U��⭖e�X��(}#R\u001a��gF�\u0013,�Z����z$>j\u0007�?52�|�*��)r��s��Am6I���on-¨�\u0010S���\\��\u0004�\u0017�ϳO�/#\u0003j�\u000f ÍCi}\u001cw�2�#g3�\u0019���³�\u00198�\u0002M�B��@\\\u0011�\u0000� \u0002R\n;�\u0005� \u0002\u0006� \u0002\u0015� \u0002�\b�N�R\u0018`:� \u0002\u0000� \u0002-->","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { NuevoPedidoComponent } from './nuevo-pedido.component';\r\nimport { MainComponent } from './main/main.component';\r\n\r\n\r\nconst routes: Routes =[\r\n  {\r\n    path:'',\r\n    component:NuevoPedidoComponent,\r\n    children:[\r\n      {\r\n        path:'',\r\n        component:MainComponent\r\n      }]\r\n}]\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\nexport class NuevoPedidoRoutingModule { }\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\nimport { EstadisticasComponent } from './estadisticas.component';\nimport { MainComponent } from './main/main.component';\n\nconst routes: Routes =[\n  {\n    path:'',\n    component:EstadisticasComponent,\n    children:[\n      {\n        path:'',\n        component:MainComponent\n      }]\n}]\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes)\n  ]\n})\n\nexport class EstadisticasRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { RestApiService } from 'src/app/services/rest-api.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.css']\n})\nexport class MainComponent implements OnInit {\n\n  constructor(private api:RestApiService,\n    private router:Router,) { }\n\n  ngOnInit(): void {\n  }\n\n  public Ordenes = []\n  public Despachos = []\n  public Lotes = []\n  public despachos = []\n  public devoluciones = []\n  public gestiones = []\n  public requisiciones = []\n  public trabajos = []\n\n\n  public cargando = false;\n  public sinBusqueda = true;\n  public vacio = false;\n\n  alert(id){\n    this.router.navigateByUrl(`orden-produccion/${id}`)\n  }\n\n  GetDespacho(orden){\n    // alert(orden)\n    let despacho = this.Despachos.find(despacho => despacho.despacho.op == orden)\n    for(let i = 0; i<this.Despachos.length;i++){\n      for(let y = 0; y<this.Despachos[i].despacho.length;y++){\n        if(this.Despachos[i].despacho[y].op == orden){\n          return(this.Despachos[i].fecha)\n        }\n      }\n    }\n    return 'Sin despachar'\n  }\n\n  public g_trabajos = []\n  public g_gestiones = []\n  public modal_gestiones = false;\n  gestiones_(id,op){\n    this.g_trabajos = this.trabajos.filter(x => x.orden === id)\n    this.g_gestiones = this.gestiones.filter(x => x.op === id)\n    this.modal_gestiones = true;\n    \n  }\n\n  public c_lotes = []\n  public c_devoluciones = []\n  public lote_mayor:any = [];\n  public modal_consumos = false;\n  consumos(id,op){\n    this.lote_mayor = []\n    this.c_devoluciones = []\n    this.c_devoluciones = this.devoluciones.filter(x=> x.orden === op)\n    this.c_lotes = this.Lotes.filter(x => x.orden === op)\n    for(let i=0; i<this.c_lotes.length;i++){\n      for(let n=0; n<this.c_lotes[i].material.length;n++)\n      {\n\n        let index = this.lote_mayor.find(x=> x.nombre === this.c_lotes[i].material[n].material.nombre)\n        \n        if(!index){\n          let marca = this.c_lotes[i].material[n].material.marca\n          let id = this.c_lotes[i].material[n].material._id\n          let cant = this.c_lotes[i].material[n].cantidad\n          // cant = cant.toFixed(2)\n          if(this.c_lotes[i].material[n].material.ancho){\n            let ancho = this.c_lotes[i].material[n].material.ancho\n            let largo = this.c_lotes[i].material[n].material.largo\n            this.lote_mayor.push({op,id,marca,nombre:this.c_lotes[i].material[n].material.nombre, cantidad:cant,ancho,largo})\n          }else{\n            this.lote_mayor.push({op,id,marca,nombre:this.c_lotes[i].material[n].material.nombre, cantidad:cant})\n          }\n        }else{\n          let b = this.lote_mayor.findIndex(x=> x.nombre === this.c_lotes[i].material[n].material.nombre)\n          this.lote_mayor[b].cantidad = Number(this.lote_mayor[b].cantidad) + Number(this.c_lotes[i].material[n].cantidad)\n        }\n\n\n      }\n    }\n    this.modal_consumos = true;\n  }\n\n  Buscar_estadisticas(desde, hasta){\n    this.vacio = false;\n    this.sinBusqueda = false;\n    this.cargando = true;\n    if(!desde || !hasta){\n      this.cargando = false;\n      this.sinBusqueda = true;\n      Swal.fire({\n        title:'Debes seleccionar 2 fechas',\n        text:'Debes indicar un intervalo de busqueda valido (Fecha inicial de busqueda hasta fecha final).',\n        icon:'error',\n        showConfirmButton:false,\n      })\n      return\n    }\n    if(desde > hasta){\n      this.cargando = false;\n      this.sinBusqueda = true;\n      Swal.fire({\n        title:'Error en la busqueda',\n        text:'La fecha de inicio no puede ser mayor a la fecha final',\n        icon:'error',\n        showConfirmButton:false\n      })\n      return\n    }\n      this.api.EstadisticasOrden({desde,hasta})\n        .subscribe((resp:any)=>{\n          if(resp.length < 1){\n            this.vacio = true;\n          }\n          this.Ordenes = resp.orden\n          this.Despachos = resp.despachos\n          this.devoluciones = resp.devoluciones\n          this.gestiones = resp.gestiones\n          this.Lotes = resp.lotes\n          this.requisiciones = resp.requisiciones\n          this.trabajos = resp.trabajos\n          this.cargando = false\n\n        })\n\n  }\n\n}\n","<app-gestiones\n[modal_gestiones]='modal_gestiones'\n[g_trabajos]=\"g_trabajos\"\n[g_gestiones]=\"g_gestiones\"\n(onCloseModal) = \"modal_gestiones = false\"></app-gestiones>\n<app-consumo\n[modal_consumos]=\"modal_consumos\"\n[c_lotes]=\"c_lotes\"\n[lote_mayor] = \"lote_mayor\"\n[c_devoluciones] = \"c_devoluciones\"\n(onCloseModal)=\"modal_consumos = false\">\n</app-consumo>\n<div class=\"container mt-5\">\n    <div class=\"subtitulo\">\n        Estadísticas\n    </div>\n    <div class=\"card\">\n        <div class=\"card-content\">\n\n            <div class=\"columns\">\n                <div class=\"column\">\n                    <div class=\"control\">\n                        <label class=\"label\">Desde:</label>\n                        <input type=\"date\" class=\"input\" #desde>\n                    </div>\n                </div>\n                <div class=\"column\">\n                    <div class=\"control\">\n                        <label class=\"label\">Hasta:</label>\n                        <input type=\"date\" class=\"input\" #hasta>\n                    </div>\n                </div>\n                <div class=\"column\">\n                    <div class=\"control\">\n                        <label class=\"label\"> </label>\n                        <button class=\"button is-primary\" (click)=\"Buscar_estadisticas(desde.value, hasta.value)\">Buscar</button>\n                    </div>\n                </div>\n            </div>\n        \n        </div>\n    </div>\n    <br>\n    <!-- *******************************************************************************\n    ORDENES ENCONTRADAS EN LA FECHA ESTIMADA\n    ******************************************************************** -->\n    <div class=\"card\">\n        <div class=\"card-content\">\n            <div class=\"carga\" *ngIf=\"sinBusqueda\">\n                No se ha realizado ninguna consulta aun\n                <i class=\"far fa-clock\"></i>\n            </div>\n            <div class=\"carga_\" *ngIf=\"cargando\">\n                <div class=\"loader\">\n                    <span style=\"--i:2\"></span>\n                    <span style=\"--i:3\"></span>\n                    <span style=\"--i:1\"></span>\n                    <span style=\"--i:4\"></span>\n                    <span style=\"--i:5\"></span>\n                    <span style=\"--i:6\"></span>\n                    <span style=\"--i:7\"></span>\n                    <span style=\"--i:8\"></span>\n                    <span style=\"--i:9\"></span>\n                    <span style=\"--i:10\"></span>\n                </div>\n                <span class=\"text\">Cargando, esto puede tomar un tiempo.</span>\n            </div>\n            <div class=\"empty\" *ngIf=\"vacio\">\n                No hay ordenes en la fecha indicada \n                <i class=\"fas fa-folder-open\"></i>\n            </div>\n\n            <div class=\"info\" *ngIf=\"!vacio && !cargando && !sinBusqueda\">\n                <div class=\"subtitulos\">\n                    <b>Cantidad de Ordenes:</b> {{Ordenes.length}}\n                </div>\n                <div class=\"orden\">\n                    <table class=\"table is-fullwidth\" *ngFor=\"let orden of Ordenes;let impar = odd;let par = even;\" [ngClass]=\"{impar:impar}\">\n                        <tr>\n                            <th colspan=\"3\">\n                                {{orden.producto.producto}} <br>\n                            </th>\n                        </tr>\n                        <tr>\n                            <td>{{orden.sort}} <i class=\"far fa-eye\" (click)='alert(orden._id)'></i></td>\n                            <td class=\"link\" (click)=\"gestiones_(orden._id, orden.sort)\">Gestiones <i class=\"fas fa-question-circle\"></i></td>\n                            <td class=\"link\" (click)=\"consumos(orden._id, orden.sort)\">Consumo <i class=\"fas fa-chart-bar\"></i></td>\n                            <td><b>Inicio: </b>{{orden.fecha | date: 'dd/MM/yyyy': 'UTC'}}</td>\n                            <td><b>Despachado:</b> {{GetDespacho(orden.sort)}}</td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n            <br>\n        </div>\n    </div>\n<br>\n\n<div class=\"columns\" *ngIf=\"!vacio && !cargando && !sinBusqueda\">\n    <div class=\"column\">\n        <div class=\"card\">\n            <div class=\"card-content\">\n                <p class=\"subtitulos\">\n                    <i class=\"fas fa-comments-dollar\"></i> Solicitudes Realizadas\n                </p>\n                <table class=\"table is-fullwidth\">\n                    <tr>\n                        <th>Material</th>\n                        <th>Fecha</th>\n                    </tr>\n                    <tr>\n                        <td>material Solicitado</td>\n                        <td>DD/MM/yyyy</td>\n                    </tr>\n                    <tr>\n                        <td>material Solicitado</td>\n                        <td>DD/MM/yyyy</td>\n                    </tr>\n                    <tr>\n                        <td>material Solicitado</td>\n                        <td>DD/MM/yyyy</td>\n                    </tr>\n                    <tr>\n                        <td>material Solicitado</td>\n                        <td>DD/MM/yyyy</td>\n                    </tr>\n                    <tr>\n                        <td>material Solicitado</td>\n                        <td>DD/MM/yyyy</td>\n                    </tr>\n                    <tr>\n                        <td>material Solicitado</td>\n                        <td>DD/MM/yyyy</td>\n                    </tr>\n                    <tr>\n                        <td>material Solicitado</td>\n                        <td>DD/MM/yyyy</td>\n                    </tr>\n                    <tr>\n                        <td>material Solicitado</td>\n                        <td>DD/MM/yyyy</td>\n                    </tr>\n                    <tr>\n                        <td>material Solicitado</td>\n                        <td>DD/MM/yyyy</td>\n                    </tr>\n                    <tr>\n                        <td>material Solicitado</td>\n                        <td>DD/MM/yyyy</td>\n                    </tr>\n                    <tr>\n                        <td>material Solicitado</td>\n                        <td>DD/MM/yyyy</td>\n                    </tr>\n                    <tr>\n                        <td>material Solicitado</td>\n                        <td>DD/MM/yyyy</td>\n                    </tr>\n                    <tr>\n                        <td>material Solicitado</td>\n                        <td>DD/MM/yyyy</td>\n                    </tr>\n                    <tr>\n                        <td>material Solicitado</td>\n                        <td>DD/MM/yyyy</td>\n                    </tr>\n                    <tr>\n                        <td>material Solicitado</td>\n                        <td>DD/MM/yyyy</td>\n                    </tr>\n                </table>\n            </div>\n        </div>\n    </div>\n    <div class=\"column\">\n        <div class=\"card\">\n            <div class=\"card-content\">\n                <div class=\"subtitulos\">\n                    <i class=\"fas fa-chart-line\"></i> Total Consumo:\n                    <article class=\"message is-info\">\n                        <div class=\"message-body\">\n                            <strong> <i class=\"fas fa-sticky-note\"></i> Sustrato:</strong>\n                        </div>\n                    </article>\n                    <article class=\"message is-info\">\n                        <div class=\"message-body\">\n                            <strong><i class=\"fas fa-swatchbook\"></i> Tinta:</strong>\n                        </div>\n                    </article>\n                    <article class=\"message is-info\">\n                        <div class=\"message-body\">\n                            <strong><i class=\"fas fa-air-freshener\"></i> Barniz:</strong>\n                        </div>\n                    </article>\n                    <article class=\"message is-info\">\n                        <div class=\"message-body\">\n                            <strong><i class=\"fas fa-fill-drip\"></i> Pega:</strong>\n                        </div>\n                    </article>\n                    <article class=\"message is-info\">\n                        <div class=\"message-body\">\n                            <strong><i class=\"fas fa-boxes\"></i> Cajas corrugadas:</strong>\n                        </div>\n                    </article>\n                    <article class=\"message is-info\">\n                        <div class=\"message-body\">\n                            <strong><i class=\"fas fa-pallet\"></i> Otros:</strong>\n                        </div>\n                    </article>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n    <!-- **************************************************************\n    ORDENES ENCONTRADAS EN LA FECHA ESTIMADA\n    ******************************************************************** -->\n</div>\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'app-consumo',\n  templateUrl: './consumo.component.html',\n  styleUrls: ['./consumo.component.css']\n})\nexport class ConsumoComponent implements OnInit {\n\n  @Input() modal_consumos:any\n  @Input() c_lotes:any\n  @Input() lote_mayor:any\n  @Input() c_devoluciones:any\n\n  @Output() onCloseModal = new EventEmitter();\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n\n  closemodal(){\n    this.onCloseModal.emit();\n  }\n\n  public devoluc = []\n  devoluciones_(id,op){\n  let data = 0;\n  let x = 0\n  let y = 0\n    for(let i=0;i<this.c_devoluciones.length;i++){\n      x++\n      y = 0\n      let len = this.c_devoluciones[i].filtrado\n      for(let n=0;n<len.length;n++){\n        y++;\n        if(this.c_devoluciones[i].filtrado[n].material == id){\n          data = data + this.c_devoluciones[i].filtrado[n].cantidad;\n          // console.log(this.c_devoluciones[i].filtrado[n])\n        }\n        if(x == this.c_devoluciones.length && y == len.length){\n          if(data > 0){\n            return data.toFixed(2);\n          }else{\n            return data\n          }\n        }\n      }\n    }\n\n    // let dev_filtered = this.c_devoluciones.filter(x=> x.filtrado.material === id)\n    // console.log(dev_filtered)\n    // if(dev_filtered.length > 0){\n    //   return '150'\n    // }else{\n    //   return '0'\n    // }\n\n    // for(let i=0;i<this.c_devoluciones.length;i++){\n    //   let len = this.c_devoluciones[i].filtrado\n    //   for(let n=0;n<len.length;n++){\n    //     if(this.c_devoluciones[i].filtrado[n].material === id){\n    //       let duplicado = this.devoluc.find(x => x.material == id);\n    //       if(duplicado){\n    //         let index_ = this.devoluc.findIndex(x=> x.material == id) \n    //         this.devoluc[index_].cantidad = this.devoluc[index_].cantidad + this.c_devoluciones[i].filtrado[n].cantidad\n    //       }else{\n    //         this.devoluc.push({material:id, cantidad:this.c_devoluciones[i].filtrado[n].cantidad})\n    //       }\n    //     }\n    //   }\n    // }\n  }\n\n}\n","<div class=\"modal\" [ngClass]=\"{'is-active':modal_consumos}\">\n    <div class=\"modal-background\" (click)=\"closemodal()\"></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n            <table class=\"table is-fullwidth\">\n                <tr>\n                    <th>Material</th>\n                    <th>Cantidad</th>\n                    <th>Devolución</th>\n                    <th>Total</th>\n                </tr>\n                <tr *ngFor=\"let material of lote_mayor\">\n                    <ng-container *ngIf=\"material.ancho\">\n                        <td>{{material.nombre}} {{material.ancho}} x {{material.largo}} ({{material.marca}})</td>\n                    </ng-container>\n                    <ng-container *ngIf=\"!material.ancho\">\n                        <td>{{material.nombre}} ({{material.marca}})</td>\n                    </ng-container>\n                    <td>{{material.cantidad}}</td>\n                    <td>{{devoluciones_(material.id,material.op)}}</td>\n                    <td>\n                        {{(material.cantidad - devoluciones_(material.id,material.op)).toFixed(2)}}\n                    </td>\n                </tr>\n            </table>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MainComponent } from './main/main.component';\r\nimport { OrdenesRoutingModule } from './ordenes-routing.module';\r\nimport { GestionComponent } from './gestion/gestion.component';\r\nimport { DevolucionComponent } from './gestion/devolucion/devolucion.component';\r\nimport { SolcitudComponent } from './gestion/solcitud/solcitud.component';\nimport { DetallesComponent } from './detalles/detalles.component';\nimport { DespachosComponent } from './despachos/despachos.component';\nimport { DespachoComponent } from './gestion/despacho/despacho.component';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [MainComponent, GestionComponent,DevolucionComponent,SolcitudComponent, DetallesComponent, DespachosComponent, DespachoComponent],\r\n  imports: [\r\n    CommonModule,\r\n    OrdenesRoutingModule\r\n  ]\r\n})\r\nexport class OrdenesModule { }\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MainComponent } from './main/main.component';\nimport { EstadisticasRoutingModule } from './estadisticas-routing.module';\nimport { EstadisticasComponent } from './estadisticas.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { SharedModule } from '../shared/shared.module';\nimport { RouterModule } from '@angular/router';\nimport { GestionesComponent } from './gestiones/gestiones.component';\nimport { ConsumoComponent } from './consumo/consumo.component';\nimport { AdicionalesComponent } from './adicionales/adicionales.component';\n\n\n\n\n\n@NgModule({\n  declarations: [MainComponent,EstadisticasComponent, GestionesComponent, ConsumoComponent, AdicionalesComponent],\n  imports: [\n    SharedModule,\n    CommonModule,\n    EstadisticasRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RouterModule\n  ]\n})\nexport class EstadisticasModule { }\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-confirmacion',\r\n  templateUrl: './confirmacion.component.html',\r\n  styleUrls: ['./confirmacion.component.css']\r\n})\r\nexport class ConfirmacionComponent implements OnInit {\r\n\r\n  @Input() confirmacion:any\r\n  @Output() onCloseModal = new EventEmitter();\r\n  @Output() onReset = new EventEmitter();\r\n\r\n  constructor(private api:RestApiService) { }\r\n\r\n  public Pendiente\r\n\r\n  ngOnInit(): void {\r\n    this.buscarPendientes();\r\n  }\r\n\r\n  buscarPendientes(){\r\n    this.api.getRequiEspera()\r\n      .subscribe((resp:any)=>{\r\n        this.Pendiente = resp;\r\n      })\r\n  }\r\n\r\n  mostrar(){\r\n    this.confirmacion = true;\r\n    // // console.log(this.Pendiente)\r\n  }\r\n\r\n  onClose(){\r\n    this.confirmacion = false;\r\n    this.onCloseModal.emit();\r\n  }\r\n\r\n  aprobar(id:any){\r\n    Swal.fire({\r\n      title: '¿Aprobar Solicitud?',\r\n      text: \"No podrás revertir esto!\",\r\n      icon: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Sí, Aprobar!',\r\n      cancelButtonText:'Cancelar'\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        this.api.UpdateRequi(id)\r\n          .subscribe((resp:any)=>{\r\n            this.buscarPendientes();\r\n            this.onReset.emit()\r\n          })\r\n        Swal.fire(\r\n      {\r\n        showConfirmButton:false,\r\n        title:'Aprobado!',\r\n        text:'La solicitud fue aprobada',\r\n        icon:'success'\r\n      }\r\n          )\r\n\r\n      }\r\n    })\r\n  }\r\n\r\n  rechazar(id:any){\r\n    Swal.fire({\r\n  title: '¿Rechazar Solicitud?',\r\n  text: \"No podrás revertir esto!\",\r\n  icon: 'warning',\r\n  showCancelButton: true,\r\n  confirmButtonColor: '#3085d6',\r\n  cancelButtonColor: '#d33',\r\n  confirmButtonText: 'Sí, Rechazar!',\r\n  cancelButtonText:'Cancelar'\r\n}).then((result) => {\r\n  if (result.isConfirmed) {\r\n    this.api.DeleteRequi(id)\r\n      .subscribe((resp:any)=>{\r\n        this.buscarPendientes();\r\n        this.onReset.emit()\r\n      })\r\n    Swal.fire(\r\n      {\r\n        showConfirmButton:false,\r\n        title:'Rechazado!',\r\n        text:'La solicitud fue rechazada',\r\n        icon:'error'\r\n      }\r\n    )\r\n  }\r\n})\r\n  }\r\n\r\n}\r\n","\r\n<div class=\"modal\" [ngClass]=\"{'is-active':confirmacion}\">\r\n    <div class=\"modal-background\" (click)=\"onClose()\"></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">\r\n                Solicitud de Material\r\n            </div>\r\n            <hr>\r\n            <ng-container *ngFor=\"let pendiente of Pendiente\">\r\n\r\n                <ng-container *ngIf=\"pendiente.sort === '#'\">\r\n                    <p class=\"orden\">Solicitud de Material por: ({{pendiente.usuario}})</p>\r\n                </ng-container>\r\n                <ng-container *ngIf=\"pendiente.sort != '#'\">\r\n                    <p class=\"orden\">Orden: {{pendiente.sort}} ({{pendiente.usuario}})</p>\r\n                </ng-container>\r\n                <b>Motivo: </b>{{pendiente.motivo}}\r\n                <table class=\"table is-fullwidth\" >\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Material</th>\r\n                            <th>Cantidad</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor=\"necesario of pendiente.producto.materiales[0];index as i\">\r\n                            <td>{{pendiente.producto.materiales[0][i].producto.nombre}} ({{pendiente.producto.materiales[0][i].producto.marca}})</td>\r\n                            <td>{{pendiente.producto.materiales[0][i].cantidad}}{{pendiente.producto.materiales[0][i].producto.unidad}}</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n            <button class=\"button is-success\" (click)=\"aprobar(pendiente._id)\">Aprobar Solicitud</button> <button class=\"button is-danger\" (click)=\"rechazar(pendiente._id)\">Rechazar Solicitud</button>\r\n            <hr>\r\n            </ng-container>\r\n        </div>\r\n    </div>\r\n</div>\r\n","<div class=\"card\">\r\n    <div class=\"card-content\">\r\n        <div class=\"titulo\">Almacen</div>\r\n        <button class=\"button is-primary\" (click)='Modal_Almacen()' *ngIf=\"!_bobina && usuario.Almacen == 2\">Nuevo Material</button>\r\n        <button class=\"button is-primary\" (click)='Nuevo_producto()' *ngIf=\"!_bobina && usuario.Almacen == 2\">Agregar Inventario</button>\r\n        <button class=\"button is-primary\" (click)='modal_Conversion()' *ngIf=\"_bobina && usuario.Almacen == 2 || _bobina && usuario.Role == 'ADMIN'\" >Hacer Conversión</button>\r\n        <button class=\"button is-primary\" (click)='Modal_bobinas()' *ngIf=\"_bobina && usuario.Almacen == 2\">Nueva Bobinas</button>\r\n        <button class=\"button is-primary\" (click)='modal_asignacion()' *ngIf=\"usuario.Almacen == 2\">Mat. Necesario (\r\n            <ng-container *ngIf=\"necesario\">\r\n                {{necesario.length}}\r\n            </ng-container>\r\n            <ng-container *ngIf=\"!necesario\">\r\n                0\r\n            </ng-container>\r\n            )</button>\r\n        <button class=\"button is-primary\" (click)=\"Requisicion()\">Solicitud Pendiente (\r\n            <ng-container *ngIf=\"Pendiente\">\r\n                {{Pendiente.length}}\r\n            </ng-container>\r\n            <ng-container *ngIf=\"!Pendiente\">\r\n                0\r\n            </ng-container>\r\n            )</button>\r\n        <ng-containe *ngIf=\"Devoluciones\">\r\n            <ng-container *ngIf=\"Devoluciones.length > 0 && usuario.Almacen == 2\">\r\n                <button class=\"button is-danger is-outlined\" (click)=\"Modal_Devolucion()\">\r\n                    <span>Devolución</span>\r\n                    <span class=\"icon is-small\">\r\n                        <i class=\"fas fa-exclamation\"></i>\r\n                    </span>\r\n                </button>\r\n            </ng-container>\r\n        </ng-containe>\r\n        <hr>\r\n\r\n        <app-asignacion\r\n        [asignacion]=\"asignacion\"\r\n        [necesario]=\"necesario\"\r\n        [ALMACEN]=\"ALMACEN\"\r\n        [Almacenado]=\"Almacenado\"\r\n        (onCloseModal)=\"asignacion = false\"\r\n        (onFinalizarAsignacion)=\"finalizar_asignacion()\"\r\n        (onAgregarRequisicioes)=\"agregarRequisicion($event)\">\r\n        </app-asignacion>\r\n\r\n\r\n        <app-confirmacion\r\n        [confirmacion]=\"confirmacion\"\r\n        (onCloseModal)=\"confirmacion = false\"\r\n        (onReset)=\"buscarPendientes()\">\r\n        </app-confirmacion>\r\n\r\n        <div class=\"modal\" [ngClass]=\"{'is-active':Dev_}\">\r\n            <div class=\"modal-background\" (click)=\"Modal_Devolucion()\"></div>\r\n            <div class=\"modal-card\">\r\n                <div class=\"modal-card-body\">\r\n                    <p class=\"subtitulo\">Devoluciones pendientes</p>\r\n                    <hr>\r\n                    <ng-container *ngFor=\"let devolucion of Devoluciones\">\r\n                        <p class=\"subtitulo\">Orden: {{devolucion.orden}}</p>\r\n                        <b>Motivo: </b> {{devolucion.motivo}}\r\n                        <table class=\"table is-fullwidth is-striped\">\r\n                            <thead>\r\n                                <th>Material</th>\r\n                                <th>Lote / codigo</th>\r\n                                <th>Cantidad</th>\r\n                            </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let material of devolucion.filtrado\">\r\n                                <td>{{material.material.nombre}}\r\n                                    <ng-container *ngIf=\"material.material.ancho\">\r\n                                        {{material.material.ancho}}x{{material.material.largo}}\r\n                                    </ng-container>\r\n                                     ({{material.material.marca}})</td>\r\n                                    <td>{{material.lote}} / {{material.codigo}}</td>\r\n                                    <td>{{material.cantidad}} {{material.material.unidad}}</td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                        <br>\r\n                        <button class=\"button is-primary\" (click)=\"confirmarDevolucion(devolucion.filtrado, devolucion._id)\">Confirmar</button>\r\n                         <button class=\"button is-danger\" (click)=\"CancelarDevolucion(devolucion._id)\">Cancelar</button>\r\n                        <hr>\r\n                    </ng-container>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"field\">\r\n            <div class=\"select\">\r\n                <select (change)='Almacenes($event.target.value)'>\r\n                    <option value=\"Almacenada\">Inventario</option>\r\n                    <option value=\"Materiales\">Materiales Registrados   </option>\r\n                    <option value=\"Bobinas\">Bobinas</option>\r\n                </select>\r\n            </div> \r\n            <button class=\"button is-success\" *ngIf='resumido && _Almacenado' (click)='changeView()'>Detallado</button>\r\n            <button class=\"button is-success\" *ngIf='detallado && _Almacenado' (click)='changeView()'>Sencillo</button>\r\n            <!-- SENCILLO Y DETALLADO EN BOBINAS -->\r\n            <button class=\"button is-success\" *ngIf='Bobillas && _bobina' (click)='changeView_()'>Detallado</button>\r\n            <button class=\"button is-success\" *ngIf='!Bobillas && _bobina' (click)='changeView_()'>Sencillo</button>\r\n            \r\n        </div>\r\n        <div class=\"card\" *ngIf='loading'>\r\n            <div class=\"card-content\">\r\n                <div class=\"loading\">\r\n                    <div class=\"icon\">\r\n                        cargando...<i class=\"fa-solid fa-loader\"></i>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\"card\" *ngIf=\"_bobina\">\r\n            <div class=\"card-content\">\r\n                <div class=\"subtitulo\">\r\n                    Bobinas\r\n                </div>\r\n                <hr>\r\n                <div class=\"subtitulo\">\r\n                    Convertidora Finlandia, C.A.\r\n                </div>\r\n                <hr>\r\n                <table class=\"table is-fullwidth\" *ngIf=\"Bobillas\">\r\n                    <tr>\r\n                        <th>Material</th>\r\n                        <th>Gramaje (g/m²)</th>\r\n                        <th>Ancho de Bobina (cm)</th>\r\n                        <th>Peso (t)</th>\r\n                    </tr>\r\n                    <tr *ngFor='let bobina of BobinasSencillas'>\r\n                        <ng-container *ngIf=\"bobina.convertidora === 'Convertidora Finlandia, C.A.'\">\r\n                            <td>{{bobina.material}}({{bobina.marca}})</td>\r\n                            <td>{{bobina.gramaje}}</td>\r\n                            <td>{{bobina.ancho}}</td>\r\n                            <td>{{bobina.peso}}</td>\r\n                        </ng-container>\r\n                    </tr>\r\n                </table>\r\n                <table class=\"table is-fullwidth\" *ngIf=\"!Bobillas\">\r\n                    <div class=\"contador\">\r\n                        <strong>Cantidad de bobinas: </strong>{{I_f}}\r\n                    </div>\r\n                    <tr>\r\n                        <th>Nº Bobina</th>\r\n                        <th>Material</th>\r\n                        <th>Gramaje (g/m²)</th>\r\n                        <th>Calibre</th>\r\n                        <th>Ancho de Bobina (cm)</th>\r\n                        <th>Peso (t)</th>\r\n                        <th>Lote</th>\r\n                        <th *ngIf=\"usuario.Almacen == 2\">Descontar</th>\r\n                    </tr>\r\n                    <tr *ngFor='let bobina of BOBINAS_'>\r\n                        <ng-container *ngIf=\"bobina.convertidora === 'Convertidora Finlandia, C.A.'\">\r\n                            <td>{{bobina.Nbobina}}</td>\r\n                            <td>{{bobina.material}}({{bobina.marca}})</td>\r\n                            <td>{{bobina.gramaje}}</td>\r\n                            <td>{{bobina.calibre}}</td>\r\n                            <td>{{bobina.ancho}}</td>\r\n                            <td>{{bobina.peso}}</td>\r\n                            <td>{{bobina.lote}}</td>\r\n                         <td *ngIf=\"usuario.Almacen == 2\">\r\n                                <button class=\"button is-danger is-outlined is-small\" (click)='descontar_bobina(bobina._id)'>\r\n                                    <span>Descontar</span>\r\n                                    <span class=\"icon is-small\">\r\n                                        <i class=\"fas fa-times\"></i>\r\n                                    </span>\r\n                                </button>\r\n                            </td>\r\n                        </ng-container>\r\n                    </tr>\r\n                </table>\r\n                <br>\r\n                <div class=\"subtitulo\">\r\n                    Redispaca Distribuidora de Papel, C.A.\r\n                </div>\r\n                <hr>\r\n                <table class=\"table is-fullwidth\" *ngIf=\"Bobillas\">\r\n                    <tr>\r\n                        <th>Material</th>\r\n                        <th>Gramaje (g/m²)</th>\r\n                        <th>Ancho de Bobina (cm)</th>\r\n                        <th>Peso (t)</th>\r\n                    </tr>\r\n                    <tr *ngFor='let bobina of BobinasSencillas'>\r\n                        <ng-container *ngIf=\"bobina.convertidora === 'Redispaca Distribuidora de Papel, C.A.'\">\r\n                            <td>{{bobina.material}}({{bobina.marca}})</td>\r\n                            <td>{{bobina.gramaje}}</td>\r\n                            <td>{{bobina.ancho}}</td>\r\n                            <td>{{bobina.peso}}</td>\r\n                        </ng-container>\r\n                    </tr>\r\n                </table>\r\n                <table class=\"table is-fullwidth\" *ngIf=\"!Bobillas\">\r\n                    <div class=\"contador\">\r\n                        <strong>Cantidad de bobinas: </strong>{{I_r}}\r\n                    </div>\r\n                    <tr>\r\n                        <th>Nº Bobina</th>\r\n                        <th>Material</th>\r\n                        <th>Gramaje (g/m²)</th>\r\n                        <th>Calibre</th>\r\n                        <th>Ancho de Bobina (cm)</th>\r\n                        <th>Peso (t)</th>\r\n                        <th>Lote</th>\r\n                        <th *ngIf=\"usuario.Almacen == 2\">Descontar</th>\r\n                    </tr>\r\n                    <tr *ngFor='let bobina of BOBINAS_'>\r\n                        <ng-container *ngIf=\"bobina.convertidora === 'Redispaca Distribuidora de Papel, C.A.'\">\r\n                            <td>{{bobina.Nbobina}}</td>\r\n                            <td>{{bobina.material}}({{bobina.marca}})</td>\r\n                            <td>{{bobina.gramaje}}</td>\r\n                            <td>{{bobina.calibre}}</td>\r\n                            <td>{{bobina.ancho}}</td>\r\n                            <td>{{bobina.peso}}</td>\r\n                            <td>{{bobina.lote}}</td>\r\n                            <td *ngIf=\"usuario.Almacen == 2\">\r\n                                <button class=\"button is-danger is-outlined is-small\" (click)='descontar_bobina(bobina._id)'>\r\n                                    <span>Descontar</span>\r\n                                    <span class=\"icon is-small\">\r\n                                        <i class=\"fas fa-times\"></i>\r\n                                    </span>\r\n                                </button>\r\n                            </td>\r\n                        </ng-container>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"modal\" [ngClass]=\"{'is-active':descontar_b}\">\r\n            <div class=\"modal-background\" (click)='descontar_bobina()'></div>\r\n            <div class=\"modal-card\">\r\n                <div class=\"modal-card-body\">\r\n                    <div class=\"subtitulo\">Descontar Bobina</div>\r\n                    <hr>\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">N° de Conversión</label>\r\n                        <div class=\"select\">\r\n                            <select name=\"\" id=\"\" [(ngModel)]='_bobina_'>\r\n                                <option value=\"{{conversion.sort}}\" *ngFor='let conversion of conversiones'>{{conversion.sort}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <button class=\"button is-success\" (click)=\"descontar_bobina_(_bobina_)\" *ngIf=\"_bobina_\">Descontar bobina</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"card\" *ngIf='boolean_sustrato'>\r\n            <div class=\"card-content\">\r\n                <div class=\"subtitulo\">\r\n                    Sustrato Convertido (Und.)\r\n                </div>\r\n                <hr>\r\n                <table class=\"table is-fullwidth\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Materia Prima</th> \r\n                            <th>Cantidad</th>\r\n                            <th *ngIf=\"usuario.Almacen == 2\">Editar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor='let Sustrato of Sustratos'>\r\n                            <ng-container>\r\n                                <td>{{Sustrato.material}}</td>\r\n                                <td>{{Sustrato.cantidad}}</td>\r\n                                <td *ngIf=\"usuario.Almacen == 2\">\r\n                                    <button class=\"button is-danger is-outlined is-small\" (click)='eliminar_p(Sustrato.material,Sustrato.cantidad,Sustrato._id, \"sustrato\")'>\r\n                                        <span>Eliminar</span>\r\n                                        <span class=\"icon is-small\">\r\n                                          <i class=\"fas fa-times\"></i>\r\n                                        </span>\r\n                                    </button>\r\n   \r\n                                    <!-- <button class=\"button is-success is-outlined is-small\">\r\n                                        <span>Editar</span>\r\n                                        <span class=\"icon is-small\">\r\n                                            <i class=\"fas fa-pencil-alt\"></i>\r\n                                        </span>\r\n                                    </button> -->\r\n                                </td>\r\n                            </ng-container>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n        <div *ngIf='!loading && !_bobina'>\r\n        <div class=\"card animate__animated animate__fadeIn\" *ngFor='let seccion of SECCIONES' >\r\n            <div class=\"card-content\">\r\n                <div class=\"subtitulo\">\r\n                    {{seccion.nombre}}\r\n                </div>\r\n                    <hr>\r\n                    <div>\r\n                    </div>\r\n                    <!-- PRUEBA DE AGRUPAMIENTO -->\r\n                    <div *ngIf='resumido && existencia_(seccion.nombre) === true'>\r\n                    <table class=\"table is-fullwidth\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Material</th>\r\n                                <th>Marca</th>\r\n                                    <ng-container *ngIf=\"seccion.nombre === 'Sustrato'\">\r\n                                        <th>Calibre</th>\r\n                                        <th>Gramaje</th>\r\n                                    </ng-container>\r\n                                <th>Total</th>\r\n                                <!-- <th>Cantidad Total</th> -->\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor='let producto of TOTALES;let i = index'>\r\n                                <ng-container *ngIf='producto.grupo === seccion.nombre'>\r\n                                    <td>{{producto.material}}\r\n                                        \r\n                                        <ng-container *ngIf=\"seccion.nombre === 'Sustrato'\">\r\n                                            ({{producto.ancho}} x {{producto.largo}})\r\n                                        </ng-container>\r\n\r\n                                        <ng-container *ngIf=\"seccion.nombre != 'Sustrato'\">\r\n                                            ({{producto.presentacion}} {{producto.neto}}{{producto.unidad}})\r\n                                        </ng-container>\r\n                                    </td>\r\n                                        <td>{{producto.marca}}</td>\r\n                                        <ng-container *ngIf=\"seccion.nombre === 'Sustrato'\">\r\n                                            <td>{{producto.calibre}}</td>\r\n                                            <td>{{producto.gramaje}}</td>\r\n                                        </ng-container>\r\n                                    <td>{{puntoYcoma((producto.neto * producto.total).toFixed(2))}} {{producto.unidad}}</td>\r\n                                </ng-container>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                    <div *ngIf=\"existencia_(seccion.nombre) === false && _Almacenado\">\r\n                        <div class=\"mensaje\">\r\n                            <i class=\"fa-solid fa-cart-flatbed-empty\"></i> No hay {{seccion.nombre}} en inventario\r\n                        </div>\r\n                    </div>\r\n                    <!-- FIN DE PRUEBA DE AGRUPAMIENTO -->\r\n\r\n                    <div *ngIf='detallado && _Almacenado && !loading && existencia_(seccion.nombre) === true'>\r\n                    <table class=\"table is-fullwidth\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Material</th>\r\n                                <th>Marca</th>\r\n                                <th>Presentación</th>\r\n                                <th>Código</th>\r\n                                <th>Lote</th>\r\n                                <ng-container *ngIf=\"seccion.nombre == 'Sustrato'\">\r\n                                    <th>Gramaje</th>\r\n                                    <th>Calibre</th>\r\n                                </ng-container>\r\n                                <th>Cantidad</th>\r\n                                <th>TOTAL</th>\r\n                                <th *ngIf=\"usuario.Almacen == 2\">Editar</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor='let producto of Almacenado'>\r\n                                <ng-container *ngIf='producto.material.grupo.nombre === seccion.nombre && producto.cantidad > 0'>\r\n                                    <td>{{producto.material.nombre}} \r\n                                    <ng-container *ngIf=\"seccion.nombre == 'Sustrato'\">\r\n                                        ({{producto.material.ancho}} x {{producto.material.largo}})\r\n                                    </ng-container></td>\r\n                                    <td>{{producto.material.marca}}</td>\r\n                                    <td>{{producto.material.presentacion}}  {{producto.material.neto}} {{producto.material.unidad}}</td>\r\n                                    <td>{{producto.codigo}}</td>\r\n                                    <td>{{producto.lote}}</td>\r\n                                    <ng-container *ngIf=\"seccion.nombre == 'Sustrato'\">\r\n                                        <td>{{producto.material.gramaje}}</td>\r\n                                        <td>{{producto.material.calibre}}</td>\r\n                                    </ng-container>\r\n                                    <td>{{puntoYcoma(producto.cantidad)}}</td>\r\n                                    <td>{{puntoYcoma((producto.material.neto * producto.cantidad).toFixed(2))}} {{producto.material.unidad}}.</td>\r\n                                    <td *ngIf=\"usuario.Almacen == 2\">\r\n                                        <!-- <button class=\"button is-danger is-outlined is-small\" (click)='eliminar_p(Sustrato.material,Sustrato.cantidad,Sustrato._id, \"sustrato\")'>\r\n                                            <span>Eliminar</span>\r\n                                            <span class=\"icon is-small\">\r\n                                              <i class=\"fas fa-times\"></i>\r\n                                            </span>\r\n                                        </button> -->\r\n       \r\n                                        <button class=\"button is-success is-outlined is-small\" (click)='Editar(producto._id)'>\r\n                                            <span>Editar</span>\r\n                                            <span class=\"icon is-small\">\r\n                                                <i class=\"fas fa-pencil-alt\"></i>\r\n                                            </span>\r\n                                        </button>\r\n                                    </td>\r\n                                </ng-container>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n\r\n\r\n                    </div>\r\n\r\n                    <table class=\"table is-fullwidth\" *ngIf='detallado && !_Almacenado && !loading && !_bobina'>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Material</th>\r\n                                <ng-container *ngIf=\"seccion.nombre == 'Tinta'\">\r\n                                <th>Color</th>\r\n                                </ng-container>\r\n                                <ng-container *ngIf=\"seccion.nombre == 'Cajas Corrugadas'\">\r\n                                <th>Cinta utiliz.</th>\r\n                                </ng-container>\r\n                                <th>Marca</th>\r\n                                <th>Presentación</th>\r\n                                <!-- <th>Cantidad</th> -->\r\n                                <!-- <th>Codigo</th>\r\n                                <th>Lote</th> -->\r\n                                <ng-container *ngIf=\"seccion.nombre == 'Sustrato'\">\r\n                                    <th>Gramaje</th>\r\n                                    <th>Calibre</th>\r\n                                </ng-container>\r\n                                <!-- <th>TOTAL</th> -->\r\n                                <th *ngIf=\"usuario.Almacen == 2\">Editar</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor='let producto of ALMACEN'>\r\n                                <ng-container *ngIf='producto.grupo.nombre === seccion.nombre && producto.nombre != \"PRODUCTO ELIMINADO\"'>\r\n                                    <td>{{producto.nombre}}\r\n                                        <ng-container *ngIf=\"seccion.nombre == 'Sustrato'\">\r\n                                            ({{producto.ancho}} x {{producto.largo}})\r\n                                        </ng-container>\r\n                                    </td>\r\n                                    <ng-container *ngIf=\"seccion.nombre == 'Tinta'\">\r\n                                        <td>{{producto.color}}</td>\r\n                                    </ng-container>\r\n                                    <ng-container *ngIf=\"seccion.nombre == 'Cajas Corrugadas'\">\r\n                                        <td>{{producto.cinta}}</td>\r\n                                    </ng-container>\r\n                                    <td>{{producto.marca}}</td>\r\n                                    <td>{{producto.presentacion}}  {{producto.neto}} {{producto.unidad}}</td>\r\n                                    <!-- <td>{{producto.cantidad}}</td> -->\r\n                                    <!-- <td>{{producto.codigo}}</td>\r\n                                    <td>{{producto.lote}}</td> -->\r\n                                    <ng-container *ngIf=\"seccion.nombre == 'Sustrato'\">\r\n                                        <td>{{producto.gramaje}}</td>\r\n                                        <td>{{producto.calibre}}</td>\r\n                                    </ng-container>\r\n                                    <!-- <td>{{producto.neto * producto.cantidad}} {{producto.unidad}}.</td> -->\r\n                                    <td *ngIf=\"usuario.Almacen == 2\">\r\n                                        <!-- <button class=\"button is-danger is-outlined is-small\" (click)='eliminar_p(producto.nombre,producto.cantidad,producto._id)'>\r\n                                            <span>Eliminar</span>\r\n                                            <span class=\"icon is-small\">\r\n                                              <i class=\"fas fa-times\"></i>\r\n                                            </span>\r\n                                        </button> -->\r\n   \r\n                                        <button class=\"button is-success is-outlined is-small\" (click)='Editar_2(producto._id)'>\r\n                                            <span>Editar</span>\r\n                                            <span class=\"icon is-small\">\r\n                                                <i class=\"fas fa-pencil-alt\"></i>\r\n                                            </span>\r\n                                        </button>\r\n                                    </td>\r\n                                </ng-container>\r\n                                \r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- Editar Almacenado -->\r\n<div *ngIf='EDICION_ALMACEN'>\r\n<div class=\"modal\" [ngClass]=\"{'is-active':EDICION_ALMACEN}\">\r\n    <div class=\"modal-background\" (click)='edit_almacen()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Modificación de Inventario</div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Categoria:</label>\r\n                        <div class=\"select\">\r\n                            <select name=\"\" id=\"\" (change)='selecciona_producto($event.target.value)' value='{{AlmacenadoId.material.grupo.nombre}}'>\r\n                                <option value=\"{{seccion.nombre}}\" *ngFor='let seccion of SECCIONES'>{{seccion.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Producto:</label>\r\n                        <div class=\"select\">\r\n                            <select name=\"\" id=\"Producto_select\" (change)='producto_seleccionado($event.target.value)' [(ngModel)]='AlmacenadoId.material._id' #producto>\r\n                                <ng-container *ngFor='let producto of ALMACEN'>\r\n                                    <ng-container *ngIf='producto.grupo.nombre === product_selected'>\r\n                                        <option value=\"{{producto._id}}\">{{producto.nombre}} ({{producto.presentacion}} {{producto.neto}}{{producto.unidad}})\r\n                                            <ng-container *ngIf=\"producto.ancho\">\r\n                                                ({{producto.ancho}} x {{producto.largo}})\r\n                                            </ng-container>\r\n                                        </option>\r\n                                    </ng-container>\r\n                                </ng-container>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Código</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"codigoID\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Lote</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"loteID\" [disabled]=\"!codigoID\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Cantidad</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"cantidadID\" [disabled]=\"!loteID\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label for=\"\" class=\"label\">Motivo de edición:</label>\r\n                <textarea rows=\"2\" class=\"textarea\" [(ngModel)]=\"Edition__\"></textarea>\r\n            </div>\r\n            <button class=\"button is-primary\" (click)='_Editar(producto)' *ngIf=\"Edition__\">Editar</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div>\r\n<!-- FIN Editar  -->\r\n\r\n<!-- Editar inventario  -->\r\n<div  *ngIf='MaterialID'>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':Editar_NUEVO_PRODUCTO}\">\r\n    <div class=\"modal-background\" (click)='Modal_Almacen_ep()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Editar Material</div>\r\n            <form>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">\r\n                            Grupo de Material\r\n                        </label>\r\n                        <div class=\"select\">\r\n                            <select (change)='Cambio_opciones($event.target.value)' id='selected' [(ngModel)]=\"MaterialID.grupo._id\" name='grupo'>\r\n                                <option value=\"{{seccion._id}}\" *ngFor='let seccion of SECCIONES'>{{seccion.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <!-- <div class=\"column\" *ngIf='OTRO'>\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Nombre del Nuevo Grupo</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" formControlName=\"NewControl\">\r\n                        </div>\r\n                    </div>\r\n                </div> -->\r\n            </div>\r\n            <div class=\"columns\" *ngIf=\"caja_\">\r\n                <div class=\"column\">\r\n                    <div class=\"control\">\r\n                        <label class=\"label\">Metros de cinta por caja {{MaterialID.cinta}}</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"number\" class=\"input\" placeholder=\"Metros de cinta por caja\" [(ngModel)]=\"MaterialID.cinta\" name='cinta'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\"></div>\r\n            </div>\r\n            <div class=\"Tinta\" *ngIf=\"New_color\">\r\n                <div class=\"columns\">\r\n                    <div class=\"column is-4\">\r\n                        <div class=\"columns\">\r\n                            <div class=\"column\">\r\n                                <input type=\"radio\" name=\"color\" id=\"Negro\" value=\"Negro\" (click)=\"define_color2($event.target.value)\" checked>\r\n                                <label> Negro</label> <br>\r\n                                <input type=\"radio\" name=\"color\" id=\"Cyan\" value=\"Cyan\" (click)=\"define_color2($event.target.value)\">\r\n                                <label> Cyan</label> <br>\r\n                                <input type=\"radio\" name=\"color\" id=\"Magenta\" value=\"Magenta\" (click)=\"define_color2($event.target.value)\">\r\n                                <label> Magenta</label> <br>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <input type=\"radio\" name=\"color\" id=\"Amarillo\" value=\"Amarillo\" (click)=\"define_color2($event.target.value)\">\r\n                                <label> Amarillo</label> <br>\r\n                                <input type=\"radio\" name=\"color\" id=\"Pantone\" value=\"Pantone\" (click)=\"define_color2($event.target.value)\">\r\n                                <label> Pantone</label> <br>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-5\">\r\n                        <div class=\"columns\">\r\n                            <div class=\"column is-3\">\r\n                                <label class=\"label\">Color:</label>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <input type=\"text\" class=\"input\" value=\"Negro\" id=\"color\" [(ngModel)]=\"MaterialID.color\" name=\"color\" disabled>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sustrato\" *ngIf='New_Sustrato'>\r\n                <hr>\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Ancho</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" [(ngModel)]=\"MaterialID.ancho\" name='ancho'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Largo</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" [(ngModel)]=\"MaterialID.largo\" name='largo'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Gramaje</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" [(ngModel)]=\"MaterialID.gramaje\" name='gramaje'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Calibre</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" [(ngModel)]=\"MaterialID.calibre\" name='calibre'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr>\r\n            </div>\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Material</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" [(ngModel)]=\"MaterialID.nombre\" name='material'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Marca</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" [(ngModel)]=\"MaterialID.marca\" name=\"marca\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Presentación</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" [(ngModel)]=\"MaterialID.presentacion\" name=\"presentacion\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"columns\">\r\n                    <div class=\"column \">\r\n                        <div class=\"field has-addons\">\r\n                            <p class=\"control\">\r\n                              <span class=\"select\">\r\n                                <select name=\"unidad\" [(ngModel)]=\"MaterialID.unidad\">\r\n                                    <option value=\"Kg\">Kg.</option>\r\n                                    <option value=\"Und\">Und.</option>\r\n                                    <option value=\"L\">L.</option>\r\n                                </select>\r\n                              </span>\r\n                            </p>\r\n                            <p class=\"control\">\r\n                              <input class=\"input\" type=\"text\" placeholder=\"Neto por unidad\" [(ngModel)]=\"MaterialID.neto\" name=\"neto\">\r\n                            </p>\r\n                          </div>\r\n                        <!-- <div class=\"field\">\r\n                            <label class=\"label\">Neto por Unidad</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"neto\">\r\n                            </div>\r\n                        </div> -->\r\n                    </div>\r\n                    <!-- <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Código</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"codigo\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Lote</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"lote\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Cantidad</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"cantidad\">\r\n                            </div>\r\n                        </div>\r\n                    </div> -->\r\n\r\n                </div>\r\n                <div class=\"field\">\r\n                    <label for=\"\" class=\"label\">Motivo de edición:</label>\r\n                    <textarea name=\"edition\" rows=\"2\" class=\"textarea\" [(ngModel)]=\"Edition__2\"></textarea>\r\n\r\n                </div>\r\n                <button class=\"button is-primary\" (click)=\"Editar_Material_F()\" *ngIf=\"Edition__2\">Editar</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n</div>\r\n<!-- FIN de inventario -->\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':_NUEVO_PRODUCTO}\">\r\n    <div class=\"modal-background\" (click)='Nuevo_producto()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Ingreso de Inventario</div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Categoria:</label>\r\n                        <div class=\"select\">\r\n                            <select name=\"\" id=\"Nuevoproducto\" (change)='selecciona_producto($event.target.value)'>\r\n                                <option value=\"0\">Selecciona Categoria</option>\r\n                                <option value=\"{{seccion.nombre}}\" *ngFor='let seccion of SECCIONES'>{{seccion.nombre}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Producto:</label>\r\n                        <div class=\"select\">\r\n                            <select name=\"\" id=\"Producto_select\" (change)='producto_seleccionado($event.target.value)' disabled #producto>\r\n                                <option value=\"0\">Selecciona Producto</option>\r\n                                <ng-container *ngFor='let producto of ALMACEN'>\r\n                                    <ng-container *ngIf='producto.grupo.nombre === product_selected && producto.nombre != \"PRODUCTO ELIMINADO\"'>\r\n                                        <option value=\"{{producto._id}}\">{{producto.nombre}} <ng-container *ngIf=\"producto.ancho\">({{producto.ancho}} x {{producto.largo}})</ng-container> ({{producto.marca}}<ng-container *ngIf=\"!producto.ancho\"> - {{producto.presentacion}} {{producto.neto}}{{producto.unidad}}</ng-container>)\r\n                                            <ng-container *ngIf=\"producto.ancho\">\r\n                                                (Gramaje: {{producto.gramaje}} Calibre: {{producto.calibre}})\r\n                                            </ng-container>\r\n                                        </option>\r\n                                    </ng-container>\r\n                                </ng-container>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\" *ngIf='_producto_seleccionado'>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Código</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"codigo\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Lote</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"lote\" [disabled]=\"!codigo\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Cantidad</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" [(ngModel)]=\"cantidad\" [disabled]=\"!lote\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <button class=\"button is-primary\" [disabled]=\"!cantidad\" (click)='almacenar(producto)'>Finalizar</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':NUEVO_PRODUCTO}\">\r\n    <div class=\"modal-background\" (click)='Modal_Almacen()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Nuevo Material</div>\r\n            <form\r\n            autocomplete=\"on\"\r\n            [formGroup]=\"InventarioForm\"\r\n            (ngSubmit)=\"Almacenar()\"\r\n            >\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">\r\n                            Grupo de Material\r\n                        </label>\r\n                        <div class=\"select\">\r\n                            <select (change)='Cambio_opciones($event.target.value)' id='selected' value='otros'>\r\n                                <option value=\"{{seccion._id}}\" *ngFor='let seccion of SECCIONES'>{{seccion.nombre}}</option>\r\n                                <option value=\"otros\">Nuevo</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\" *ngIf='OTRO'>\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Nombre del Nuevo Grupo</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"text\" class=\"input\" formControlName=\"NewControl\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\" *ngIf=\"caja_\">\r\n                <div class=\"column\">\r\n                    <div class=\"control\">\r\n                        <label class=\"label\">Metros de cinta por caja</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"number\" class=\"input\" placeholder=\"Metros de cinta por caja\" formControlName='cinta'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\"></div>\r\n            </div>\r\n            <div class=\"Tinta\" *ngIf=\"New_color\">\r\n                <div class=\"columns\">\r\n                    <div class=\"column is-4\">\r\n                        <div class=\"columns\">\r\n                            <div class=\"column\">\r\n                                <input type=\"radio\" name=\"color\" id=\"Negro\" value=\"Negro\" (click)=\"define_color($event.target.value)\" checked>\r\n                                <label> Negro</label> <br>\r\n                                <input type=\"radio\" name=\"color\" id=\"Cyan\" value=\"Cyan\" (click)=\"define_color($event.target.value)\">\r\n                                <label> Cyan</label> <br>\r\n                                <input type=\"radio\" name=\"color\" id=\"Magenta\" value=\"Magenta\" (click)=\"define_color($event.target.value)\">\r\n                                <label> Magenta</label> <br>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <input type=\"radio\" name=\"color\" id=\"Amarillo\" value=\"Amarillo\" (click)=\"define_color($event.target.value)\">\r\n                                <label> Amarillo</label> <br>\r\n                                <input type=\"radio\" name=\"color\" id=\"Pantone\" value=\"Pantone\" (click)=\"define_color($event.target.value)\">\r\n                                <label> Pantone</label> <br>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-5\">\r\n                        <div class=\"columns\">\r\n                            <div class=\"column is-3\">\r\n                                <label class=\"label\">Color:</label>\r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <input type=\"text\" class=\"input\" value=\"Negro\" id=\"color\" formControlName=\"color\" disabled>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sustrato\" *ngIf='New_Sustrato'>\r\n                <hr>\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Ancho</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName='ancho'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Largo</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName='largo'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Gramaje</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName='gramaje'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Calibre</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName='calibre'>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr>\r\n            </div>\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Material</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" formControlName=\"producto\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Marca</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" formControlName=\"marca\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Presentación</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"text\" class=\"input\" formControlName=\"presentacion\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"columns\">\r\n                    <div class=\"column \">\r\n                        <div class=\"field has-addons\">\r\n                            <p class=\"control\">\r\n                              <span class=\"select\">\r\n                                <select formControlName=\"unidad\">\r\n                                    <option value=\"Kg\">Kg.</option>\r\n                                    <option value=\"Und\">Und.</option>\r\n                                    <option value=\"L\">L.</option>\r\n                                </select>\r\n                              </span>\r\n                            </p>\r\n                            <p class=\"control\">\r\n                              <input class=\"input\" type=\"text\" placeholder=\"Neto por unidad\" formControlName=\"neto\">\r\n                            </p>\r\n                          </div>\r\n                        <!-- <div class=\"field\">\r\n                            <label class=\"label\">Neto por Unidad</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"neto\">\r\n                            </div>\r\n                        </div> -->\r\n                    </div>\r\n                    <!-- <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Código</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"codigo\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Lote</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"lote\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"column is-3\">\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Cantidad</label>\r\n                            <div class=\"control\">\r\n                                <input type=\"number\" class=\"input\" formControlName=\"cantidad\">\r\n                            </div>\r\n                        </div>\r\n                    </div> -->\r\n\r\n                </div>\r\n                <button class=\"button is-primary\">Finalizar</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':CONSULTAB}\">\r\n    <div class=\"modal-background\" (click)='check_bobinas()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Bobinas</div>\r\n                        <table class=\"table is-fullwidth\">\r\n                            <tr>\r\n                                <th>#</th>\r\n                                <th>Material</th>\r\n                                <th>Gramaje</th>\r\n                                <th>Ancho de Bobina</th>\r\n                                <th>peso</th>\r\n                            </tr>\r\n                            <tr *ngFor='let bobina of BOBINAS_'>\r\n                                <td>{{bobina.Nbobina}}</td>\r\n                                <td>{{bobina.material}}</td>\r\n                                <td>{{bobina.gramaje}}</td>\r\n                                <td>{{bobina.ancho}}</td>\r\n                                <td>{{bobina.peso}}</td>\r\n                            </tr>\r\n                        </table>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':BOBINAS}\">\r\n    <div class=\"modal-background\" (click)='Modal_bobinas()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <form\r\n            autocomplete=\"on\"\r\n            [formGroup]=\"BobinaForm\"\r\n            (ngSubmit)=\"nuevaBobina()\"\r\n            >\r\n            <div class=\"subtitulo\">Nueva Bobina</div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Numero de bobina</label>\r\n                    <input type=\"text\" class=\"input\" formControlName=\"Nbobina\">\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Material</label>\r\n                    <div class=\"select\">\r\n                        <select name=\"\" id=\"Material_Seleccionado\" formControlName=\"material\" (change)=\"buscarGramaje($event.target.value)\">\r\n                            <option value=\"{{sustrato.Nombre}}_{{sustrato.Marca}}\" *ngFor=\"let sustrato of Test_UniqueObjectNewMap_valuesAsArr\">{{sustrato.Marca}}</option>\r\n                        </select>\r\n                    </div>    \r\n                <!-- <input type=\"text\" class=\"input\" formControlName=\"material\"> -->\r\n\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Gramaje (g/m²)</label>\r\n                <div class=\"select\">\r\n                    <select name=\"\" id=\"Gramaje_Seleccionado\" formControlName=\"gramaje\" (change)=\"buscarCalibre($event.target.value)\">\r\n                        <option value=\"{{gramaje.gramaje}}\" *ngFor=\"let gramaje of _gramajes_\">{{gramaje.gramaje}}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Calibre</label>\r\n                <div class=\"select\">\r\n                    <select name=\"\" id=\"\" formControlName=\"calibre\" (change)=\"buscarAncho($event.target.value)\">\r\n                        <option value=\"{{calibre.calibre}}\" *ngFor=\"let calibre of _calibre_\">{{calibre.calibre}}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Ancho de bobina (cm)</label>\r\n                    <div class=\"select\">\r\n                        <select name=\"\" id=\"\" formControlName=\"ancho\">\r\n                            <option value=\"{{ancho.ancho}}\" *ngFor=\"let ancho of _ancho_\">{{ancho.ancho}}</option>\r\n                        </select>\r\n                    </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Peso (t)</label>\r\n                    <input type=\"text\" class=\"input\" formControlName=\"peso\">\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Lote</label>\r\n                    <input type=\"text\" class=\"input\" formControlName=\"lote\">\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Convertidora</label>\r\n                <div class=\"select\">\r\n                    <select name=\"\" id=\"\" formControlName=\"convertidora\">\r\n                        <option value=\"Convertidora Finlandia, C.A.\">Convertidora Finlandia, C.A.</option>\r\n                        <option value=\"Redispaca Distribuidora de Papel, C.A.\">Redispaca Distribuidora de Papel, C.A.</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <button class=\"button is-primary\">Nueva Bobina</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':CONVERSION}\">\r\n    <div class=\"modal-background\" (click)='modal_Conversion()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <div class=\"subtitulo\">Conversión</div> \r\n            \r\n            <div class=\"separador\">\r\n                De peso a Hojas\r\n            </div>\r\n            <br>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Convertidora</label>\r\n                <div class=\"select\">\r\n                    <select name=\"\" id=\"convertidora\" formControlName=\"convertidora\" (change)=\"seleccionar_material($event.target.value)\">\r\n                        <option value=\"Convertidora Finlandia, C.A.\">Convertidora Finlandia, C.A.</option>\r\n                        <option value=\"Redispaca Distribuidora de Papel, C.A.\">Redispaca Distribuidora de Papel, C.A.</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Material</label>\r\n                <div class=\"select\">\r\n                    <select (change)='Buscar_Bobina($event)' id='bobina_selected' disabled>\r\n                        <option value=\"null\">Selecciona Sustrato</option>\r\n                        <ng-container *ngFor='let producto of SUSTRATO_CONVERSION'>\r\n\r\n                            <option value='{{producto._id}}'>{{producto.convertidora}}{{producto.nombre}} {{producto.ancho}} x {{producto.largo}} ({{producto.marca}}) - Gram.{{producto.gramaje}} - Calibre.{{producto.calibre}}</option>\r\n                        </ng-container>\r\n                    </select>\r\n                </div>\r\n            </div> \r\n            <div class=\"field\">\r\n                <div class=\"label\">Peso (t)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='0' (change)='Peso($event)' id='_peso'>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <div class=\"label\">Gramaje (g/m²)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='0' (change)='Gramaje($event.target.value)' id='_gramaje' disabled>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <div class=\"label\">Ancho (cm)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='0' (change)='Ancho($event.target.value)' id='_ancho' disabled>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <div class=\"label\">Largo (cm)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='0' (change)='Largo($event)' id='_largo' disabled>\r\n                </div>\r\n            </div>\r\n            <hr>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Observación</label>\r\n                <textarea class=\"textarea\" id=\"observacion\" placeholder=\"Observacion\"></textarea>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <b>Cantidad Hojas: </b> {{HOJAS}} <br> \r\n                    <button class=\"button is-primary\" (click)='Generar_Conversion()'>Generar una Conversión</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"separador\">\r\n                De Hojas a Peso\r\n            </div>\r\n            <br>\r\n            <div class=\"field\">\r\n                <div class=\"label\">Cantidad (Hojas)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='0' (change)='Hojas_($event)'>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <div class=\"label\">Gramaje (g/m²)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='300' (change)='Gramaje_($event)'>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <div class=\"label\">Ancho (cm)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='0' (change)='Ancho_($event)'>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <div class=\"label\">Largo (cm)</div>\r\n                <div class=\"control\">\r\n                    <input type=\"number\" class=\"input\" value='0' (change)='Largo_($event)'>\r\n                </div>\r\n            </div>\r\n            <hr>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <b>Peso: </b> {{PESO_}}\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':eliminacion}\">\r\n    <div class=\"modal-background\" (click)='modal_eliminacion();'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <h1>{{name_p_e}} x {{cantidad_p_e}}</h1>\r\n            <div class=\"field\">\r\n                <label class=\"label\">Razon de Eliminacion</label>\r\n                <div class=\"control\">\r\n                    <textarea class=\"textarea\" placeholder=\"Motivo de eliminación\" #motivo></textarea>\r\n                </div>\r\n            </div>\r\n            <button class=\"button is-danger\" (click)='confirmar_eliminacion(motivo)'>Eliminar Producto</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active':reporte}\">\r\n    <div class=\"modal-background\" (click)='modal_reporte()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <h1 class=\"subtitulo\">Resumen De Inventario</h1>\r\n            <hr>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Desde:</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"date\" #desde>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\">Hasta:</label>\r\n                        <div class=\"control\">\r\n                            <input type=\"date\" #hasta>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <button class=\"button is-primary\" (click)='descargarInventario(desde, hasta)'>Descargar inventario</button>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport { PdfMakeWrapper, Txt, Img, Table, Cell, Columns, Stack } from 'pdfmake-wrapper';\r\nimport bulmaCollapsible from '@creativebulma/bulma-collapsible';\r\nimport * as pdfFonts from \"pdfmake/build/vfs_fonts\";\r\nimport * as moment from 'moment';\r\n\r\nimport Swal from 'sweetalert2';\r\nimport { zip } from 'rxjs';\r\n\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-main',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.css']\r\n})\r\nexport class MainComponent implements OnInit {\r\n\r\n  fileName= 'ExcelSheet.xlsx';\r\n\r\n  public resumido:boolean = true;\r\n  public detallado:boolean = false;\r\n\r\n  public NUEVO_PRODUCTO:boolean = false;\r\n  public ALMACEN;\r\n  public SECCIONES\r\n\r\n  public PESO= 0\r\n  public GRAMAJE = 300\r\n  public ANCHO= 0\r\n  public LARGO= 0\r\n  public HOJAS = 0\r\n\r\n  public PESO_= 0\r\n  public GRAMAJE_ = 300\r\n  public ANCHO_= 0\r\n  public LARGO_= 0\r\n  public HOJAS_ = 0\r\n\r\n  empty:boolean = true;\r\n\r\n  public OTRO:boolean = true;\r\n  public Gs;\r\n\r\n  public CONVERSION:boolean = false;\r\n  public BOBINAS:boolean = false;\r\n  public CONSULTAB:boolean = false;\r\n\r\n  public BOBINAS_;\r\n  public product_selected;\r\n  public _producto_seleccionado;\r\n\r\n  public boolean_sustrato:boolean = false;\r\n  public Sustratos;\r\n\r\n  public New_Sustrato:boolean = false;\r\n\r\n  public Mat_Selected;\r\n  public Num_Bobina\r\n\r\n  public MATERIALES_NECESARIOS:boolean = false;\r\n  public _NUEVO_PRODUCTO:boolean = false;\r\n  public EDICION_ALMACEN:boolean = false;\r\n\r\n  public DESCUENTOS = [];\r\n\r\n  public name_p_e\r\n  public cantidad_p_e\r\n  public id_p_e\r\n  public eliminacion:boolean = false;\r\n  public eliminar_sustrato:boolean = false;\r\n\r\n  public reporte:boolean = false;\r\n\r\n\r\n  public AlmacenadoId;\r\n  public MaterialID;\r\n\r\n  public loading:boolean = true;\r\n\r\n  public _bobina:boolean = false;\r\n  public descontar_b:boolean = false;\r\n\r\n  public Devoluciones;\r\n\r\n  codigoID = '';\r\n  loteID = '';\r\n  cantidadID = '';\r\n\r\n  codigo = '';\r\n  lote = '';\r\n  cantidad = '';\r\n\r\n  public New_color:boolean = false;\r\n  public caja_:boolean = false;\r\n\r\n  asignacion:boolean = false;\r\n  confirmacion:boolean = false;\r\n\r\n\r\n\r\n  public _Almacenado:boolean = true;\r\n  public Editar_NUEVO_PRODUCTO:boolean = false;\r\n\r\n  public TOTALES = [\r\n    {\r\n      material:null,\r\n      marca:null,\r\n      calibre:null,\r\n      gramaje:null,\r\n      total:null,\r\n      grupo:null,\r\n      presentacion:null,\r\n      neto:null,\r\n      unidad:null,\r\n      ancho:null,\r\n      largo:null\r\n    }\r\n  ];\r\n\r\n  public _bobina_ = ''\r\n\r\n  public Dev_:boolean = false;\r\n\r\n\r\n  public Almacenado = [];\r\n  Pendiente;\r\n\r\n  public Bobillas = true;\r\n\r\n\r\n  InventarioForm:FormGroup = this.fb.group({\r\n    ancho:[''],\r\n    largo:[''],\r\n    gramaje:[''],\r\n    calibre:[''],\r\n    producto:['', Validators.required],\r\n    marca:['',Validators.required],\r\n    presentacion:['', Validators.required],\r\n    unidad:['',Validators.required],\r\n    neto:['', Validators.required],\r\n    color:['Negro',Validators.required],\r\n    cinta:[''],\r\n    // codigo:['',Validators.required],\r\n    // cantidad:['', Validators.required],\r\n    // lote:['', Validators.required],\r\n    NewControl:['']\r\n  });\r\n\r\n  BobinaForm:FormGroup = this.fb.group({\r\n    Nbobina:['', Validators.required],\r\n    material:['', Validators.required],\r\n    marca:['', Validators.required],\r\n    gramaje:['', Validators.required],\r\n    calibre:['', Validators.required],\r\n    ancho:['', Validators.required],\r\n    peso:['', Validators.required],\r\n    lote:['', Validators.required],\r\n    convertidora:['',Validators.required]\r\n  });\r\n\r\n\r\n  constructor(private fb:FormBuilder,\r\n              private api:RestApiService) {\r\n                this.usuario = api.usuario;\r\n              }\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.BuscarAlmacen();\r\n    this.getAalmacenado();\r\n    this.BuscarGruposEnAlmacen();\r\n    // this.getSustratos();\r\n    this.porConfirmar();\r\n    this.totalizar_materiales()\r\n    this.Gs = (<HTMLInputElement>document.getElementById('selected')).value\r\n    this.Buscar_conversiones()\r\n    this.getbobinas();\r\n    this.getOrdenes();\r\n    this.buscarPendientes();\r\n    this.getDevolucion();\r\n  }\r\n\r\n  public usuario\r\n\r\n  public orden;\r\n\r\n  CancelarDevolucion(id){\r\n    Swal.fire({\r\n      title:'Cuidado!',\r\n      text:'¿Estas seguro que quieres cancelar esta devolución?. No se podrá recuperar esta información luego',\r\n      icon:'warning',\r\n      showCancelButton:true,\r\n      showConfirmButton:true,\r\n      confirmButtonText:'Si!, Cancelar devolución.',\r\n      cancelButtonText:'Mantener devolución pendiente.',\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        // // console.log(id);\r\n\r\n        this.api.DeleteDevolucion(id)\r\n          .subscribe((resp:any)=>{\r\n            Swal.fire(\r\n              {\r\n                title:'Cancelado!',\r\n                text:'Esta devolución fué cancelada, el almacén no sufrio ningun cambio.',\r\n                icon:'success',\r\n                showConfirmButton:false\r\n              })\r\n              this.getDevolucion();\r\n              this.Modal_Devolucion()\r\n              this.getAalmacenado();\r\n          })\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  changeView_(){\r\n    if(this.Bobillas){\r\n      this.Bobillas = false;\r\n    }else{\r\n      this.Bobillas = true;\r\n    }\r\n  }\r\n\r\n  confirmarDevolucion(data, id){\r\n\r\n    Swal.fire({\r\n      title:'Cuidado!',\r\n      text:'Verifica las cantidades que sean correctas antes de confirmar.',\r\n      icon:'warning',\r\n      showCancelButton:true,\r\n      showConfirmButton:true,\r\n      confirmButtonText:'Confirmar!',\r\n      cancelButtonText:'Cancelar',\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n\r\n        // // console.log(data);\r\n        // // console.log(id);\r\n\r\n        this.api.putDevolucion(id,data)\r\n          .subscribe((resp:any)=>{\r\n\r\n            Swal.fire(\r\n              {\r\n                title:'Confirmado!',\r\n                text:'El material fué agregado al almacén.',\r\n                icon:'success',\r\n                showConfirmButton:false\r\n              })\r\n\r\n              this.getDevolucion();\r\n              this.Modal_Devolucion()\r\n              this.getAalmacenado();\r\n          })\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  getDevolucion(){\r\n    this.api.getDevolucion()\r\n      .subscribe((resp:any) => {\r\n        this.Devoluciones = resp;\r\n      })\r\n  }\r\n\r\n\r\n  getOrdenes(){\r\n    this.api.getOrden()\r\n    .subscribe( (resp:any) => {\r\n      this.orden = resp;\r\n    } )\r\n\r\n  }\r\n\r\n  buscarPendientes(){\r\n    this.api.getRequiEspera()\r\n      .subscribe((resp:any)=>{\r\n        this.Pendiente = resp;\r\n      })\r\n  }\r\n\r\n\r\n  Requisicion(){\r\n    this.confirmacion = true\r\n  }\r\n\r\n  showOrden(){\r\n    // // console.log(this.orden)\r\n  }\r\n\r\n  agregarRequisicion(e){\r\n    this.necesario.push(e)\r\n  }\r\n\r\n  public necesario;\r\n\r\n  porConfirmar(){\r\n    this.api.getMaterialesPorConfirmar()\r\n      .subscribe((resp:any)=>{\r\n        this.necesario = resp;\r\n        // // console.log( this.necesario ,'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA')\r\n      })\r\n  }\r\n\r\n  define_color(e){\r\n    if(e != 'Pantone'){\r\n      this.InventarioForm.get('color').setValue(e);\r\n      (<HTMLInputElement>document.getElementById('color')).value = e;\r\n    }else{\r\n      (<HTMLInputElement>document.getElementById('color')).value = '';\r\n      (<HTMLInputElement>document.getElementById('color')).disabled = false;\r\n    }\r\n  }\r\n\r\n  Modal_Devolucion(){\r\n    if(this.Dev_){\r\n      this.Dev_ = false;\r\n    }else{\r\n      this.Dev_ = true;\r\n    }\r\n  }\r\n\r\n  Modal_Almacen_ep(){\r\n    if(this.Editar_NUEVO_PRODUCTO){\r\n      this.Editar_NUEVO_PRODUCTO = false;\r\n    }else{\r\n      this.Editar_NUEVO_PRODUCTO = true;\r\n    }\r\n  }\r\n\r\n  modal_asignacion(){\r\n    if(this.asignacion){\r\n      this.asignacion = false\r\n    }else{\r\n      this.asignacion = true\r\n    }\r\n  }\r\n\r\n  existencia_(seccion){\r\n\r\n    let existencia = this.Almacenado.find(x => x.material.grupo.nombre === seccion)\r\n\r\n    if(existencia){\r\n      return true\r\n    }else{\r\n      return false\r\n    }\r\n\r\n  }\r\n\r\n  public _sustratos_ = []\r\n  public Test_UniqueObjectNewMap_valuesAsArr = []\r\n  buscarSustratos(){\r\n    let x = 0;\r\n    let sustratos = this.ALMACEN.filter(x => x.grupo.nombre == 'Sustrato')\r\n    for(let i=0; i<sustratos.length; i++){\r\n      let sustrato = this._sustratos_.find(x=> x == sustratos[i].nombre);\r\n      x++\r\n      if(!sustrato){\r\n        this._sustratos_.push({Marca:`${sustratos[i].nombre} (${sustratos[i].marca})`,Nombre:`${sustratos[i].nombre}`})\r\n      }\r\n      if(x == sustratos.length)\r\n      {\r\n        let newArray_test:any;\r\n        newArray_test = this._sustratos_\r\n\r\n        let UniqueArrayforMarca = [\r\n          ...new Map(this._sustratos_.map((item) => [item[\"Marca\"], item])).values(),\r\n        ]\r\n\r\n        let Test_UniqueObject = newArray_test.map((item) => [item['Marca'], item]);\r\n\r\n        let Test_UniqueObjectNewMap = new Map(Test_UniqueObject)\r\n\r\n        let Test_UniqueObjectNewMap_keys = Test_UniqueObjectNewMap.keys()\r\n        let Test_UniqueObjectNewMap_values = Test_UniqueObjectNewMap.values()\r\n        this.Test_UniqueObjectNewMap_valuesAsArr = [\r\n          ...Test_UniqueObjectNewMap_values\r\n        ]\r\n\r\n        // console.log(this.Test_UniqueObjectNewMap_valuesAsArr)\r\n        // console.log(this._sustratos_)\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  public _calibre_ = []\r\n  buscarCalibre(e){\r\n    let material = (<HTMLInputElement>document.getElementById('Material_Seleccionado')).value\r\n    let splitted = material.split('_')\r\n    let e1 = splitted[0];\r\n    let marca = splitted[1].split('(')\r\n    let sustratos = this.ALMACEN.filter(x =>x.nombre == e1 && x.marca == marca[1].slice(0,-1) && x.gramaje == e)\r\n    // // console.log(sustratos,'15515151515151515151515151515151')\r\n    for(let i=0; i<sustratos.length; i++){\r\n      let calibre = this._calibre_.find(x=> x.calibre == sustratos[i].calibre);\r\n      if(!calibre){\r\n        this._calibre_.push(sustratos[i])\r\n        }\r\n    }\r\n  }\r\n\r\n  public _gramajes_ = []\r\n  buscarGramaje(e:string){\r\n    let splitted = e.split('_')\r\n    let e1 = splitted[0];\r\n    let marca = splitted[1].split('(')\r\n    this._gramajes_ = []\r\n    let sustratos = this.ALMACEN.filter(x => x.nombre == e1 && x.marca == marca[1].slice(0,-1))\r\n    for(let i=0; i<sustratos.length; i++){\r\n      let gramaje = this._gramajes_.find(x=> x.gramaje == sustratos[i].gramaje);\r\n      if(!gramaje){\r\n        this._gramajes_.push(sustratos[i])\r\n        }\r\n    }\r\n    // // console.log(this._gramajes_,'GRAMAGRAMAGRAMA')\r\n  }\r\n\r\n  public _ancho_ = []\r\n  buscarAncho(e){\r\n    let material = (<HTMLInputElement>document.getElementById('Material_Seleccionado')).value\r\n    let splitted = material.split('_')\r\n    let e1 = splitted[0];\r\n    let marca = splitted[1].split('(')\r\n    let gramaje = (<HTMLInputElement>document.getElementById('Gramaje_Seleccionado')).value\r\n    this._ancho_ = []\r\n    let sustratos = this.ALMACEN.filter(x => x.calibre == e && x.nombre == e1 && x.marca == marca[1].slice(0,-1) && x.gramaje == gramaje)\r\n    for(let i=0; i<sustratos.length; i++){\r\n      let ancho = this._ancho_.find(x=> x.ancho == sustratos[i].ancho);\r\n      if(!ancho){\r\n        this._ancho_.push(sustratos[i])\r\n        }\r\n    }\r\n  }\r\n\r\n  define_color2(e){\r\n    if(e != 'Pantone'){\r\n      this.MaterialID.color = e;\r\n    }else{\r\n      (<HTMLInputElement>document.getElementById('color')).disabled = false;\r\n      (<HTMLInputElement>document.getElementById('color')).value = '';\r\n    }\r\n  }\r\n\r\n  Editar_2(id){\r\n    this.Modal_Almacen_ep()\r\n    this.api.getMaterialesID(id)\r\n      .subscribe((resp:any)=>{\r\n        this.MaterialID = resp;\r\n        if(resp.grupo.nombre === 'Tinta'){\r\n          this.New_color = true;\r\n        }\r\n        if(resp.grupo.nombre === 'Cajas Corrugadas'){\r\n          this.caja_ = true;\r\n        }\r\n        // // console.log(this.MaterialID,'ok')\r\n      })\r\n  }\r\n\r\n  Editar_Material_F(){\r\n    let grupo = this.MaterialID.grupo._id;\r\n\r\n    this.MaterialID.grupo = grupo;\r\n\r\n    // // console.log(this.MaterialID)\r\n\r\n    this.api.putMaterialID(this.MaterialID._id, this.MaterialID)\r\n          .subscribe((resp:any)=>{\r\n            this.Modal_Almacen_ep();\r\n            this.getAalmacenado();\r\n                this.BuscarAlmacen();\r\n                this.totalizar_materiales();\r\n                Swal.fire({\r\n                  position:'center',\r\n                  icon:'success',\r\n                  title:'Material editado con exito!',\r\n                  showConfirmButton: false,\r\n                  timer:1500\r\n                })\r\n\r\n          })\r\n  }\r\n\r\n  Editar(id){\r\n    this.edit_almacen()\r\n    this.api.getAlmacenadoID(id)\r\n      .subscribe((resp:any)=>{\r\n        this.AlmacenadoId = resp;\r\n        this.selecciona_producto(this.AlmacenadoId.material.grupo.nombre)\r\n        this.codigoID = this.AlmacenadoId.codigo;\r\n        this.loteID = this.AlmacenadoId.lote;\r\n        this.cantidadID = this.AlmacenadoId.cantidad;\r\n\r\n      })\r\n  }\r\n\r\n  _Editar(producto){\r\n    let body = {\r\n      material:this.AlmacenadoId.material._id,\r\n      codigo:this.codigoID,\r\n      lote:this.loteID,\r\n      cantidad:this.cantidadID,\r\n      motivo:this.Edition__\r\n\r\n    }\r\n\r\n    this.api.putAlmacenadoID(this.AlmacenadoId._id, body)\r\n    .subscribe((resp:any)=>{\r\n      this.edit_almacen();\r\n      Swal.fire({\r\n        position:'center',\r\n        icon:'success',\r\n        title:'El inventario fue editado con exito',\r\n        showConfirmButton: false,\r\n        timer:1500\r\n      })\r\n      this.getAalmacenado();\r\n      this.BuscarAlmacen();\r\n      this.totalizar_materiales();\r\n      this.codigoID = ''\r\n      this.loteID = ''\r\n      this.cantidadID = ''\r\n      this.AlmacenadoId = ''\r\n    })\r\n\r\n  }\r\n\r\n  public edit_almacen(){\r\n    if(this.EDICION_ALMACEN){\r\n      this.EDICION_ALMACEN = false;\r\n    }else{\r\n      this.EDICION_ALMACEN = true;\r\n    }\r\n  }\r\n\r\n  Almacenes(e){\r\n    if(e == 'Almacenada'){\r\n      if(!this.resumido){\r\n        this.resumido = true;\r\n        this.detallado = false;\r\n      }\r\n      this._Almacenado = true;\r\n      this._bobina = false;\r\n    }else if(e == 'Bobinas'){\r\n      this._Almacenado = false;\r\n      this._bobina = true;\r\n      this.getbobinas();\r\n    }else{\r\n      if(this.resumido){\r\n        this.resumido = false;\r\n        this.detallado = true;\r\n      }\r\n      this._Almacenado = false;\r\n      this._bobina = false;\r\n    }\r\n  }\r\n\r\n  getAalmacenado(){\r\n    this.api.getAlmacenado()\r\n      .subscribe((resp:any)=>{\r\n        this.Almacenado = resp;\r\n        this.Almacenado = this.Almacenado.sort(function(a, b) {\r\n          if(a.material.nombre.toLowerCase() < b.material.nombre.toLowerCase()) return -1\r\n          if(a.material.nombre.toLowerCase() > b.material.nombre.toLowerCase()) return 1\r\n          return 0\r\n\r\n        })\r\n        // // console.log(this.Almacenado)\r\n        this.totalizar_materiales();\r\n      })\r\n  }\r\n\r\n  puntoYcoma(n){\r\n   return n = new Intl.NumberFormat('de-DE').format(n)\r\n  }\r\n\r\n  Cambio_opciones(e){\r\n    if(e === 'otros'){\r\n      this.OTRO = true\r\n    }else{\r\n      this.OTRO = false;\r\n      this.Gs = e;\r\n    }\r\n\r\n    if(e === '61f92a1f2126d717f004cca6'){\r\n      this.New_Sustrato = true;\r\n    }else{\r\n      this.New_Sustrato = false;\r\n    }\r\n\r\n    if(e === '61fd54e2d9115415a4416f17'){\r\n      this.New_color = true;\r\n    }else{\r\n      this.New_color = false;\r\n    }\r\n\r\n    if(e === '61fd7a8ed9115415a4416f74'){\r\n      this.caja_ = true;\r\n    }else{\r\n      this.caja_ = false\r\n    }\r\n\r\n  }\r\n\r\n  public Edition__ = '';\r\n  public Edition__2 = '';\r\n\r\n  public Nuevo_producto(){\r\n    if(this._NUEVO_PRODUCTO){\r\n      this._NUEVO_PRODUCTO = false;\r\n    }else{\r\n      this._NUEVO_PRODUCTO = true;\r\n    }\r\n\r\n  }\r\n\r\n  public Modal_Almacen(){\r\n    if(this.NUEVO_PRODUCTO){\r\n      this.NUEVO_PRODUCTO = false;\r\n    }else{\r\n      this.NUEVO_PRODUCTO = true;\r\n    }\r\n  }\r\n\r\n  public Modal_bobinas(){\r\n    if(this.BOBINAS){\r\n      this.BOBINAS = false;\r\n    }else{\r\n      this.BOBINAS = true;\r\n      this.buscarSustratos()\r\n    }\r\n  }\r\n\r\n  public modal_Conversion(){\r\n    if(this.CONVERSION){\r\n      this.CONVERSION = false;\r\n    }else{\r\n      this.CONVERSION = true;\r\n    }\r\n  }\r\n\r\n  public modal_reporte(){\r\n    if(this.reporte){\r\n      this.reporte = false;\r\n    }else{\r\n      this.reporte = true;\r\n    }\r\n  }\r\n\r\n  public check_bobinas(){\r\n    if(this.CONSULTAB){\r\n      this.CONSULTAB = false;\r\n    }else{\r\n      this.CONSULTAB = true;\r\n    }\r\n  }\r\n\r\n  public bobina__;\r\n  descontar_bobina(bobina?){\r\n    if(this.descontar_b){\r\n      this.descontar_b = false;\r\n    }else{\r\n      this.descontar_b = true;\r\n      this.bobina__ = bobina;\r\n    }\r\n  }\r\n  descontar_bobina_(numero){\r\n    let data = {\r\n      bobina:this.bobina__,\r\n      numero\r\n    }\r\n    this.api.deleteBobina(data)\r\n      .subscribe((resp:any)=>{\r\n        Swal.fire({\r\n          text:resp,\r\n          icon:'info',\r\n          showConfirmButton:false\r\n        });\r\n        this.getbobinas();\r\n        this.descontar_bobina();\r\n        this.Buscar_conversiones();\r\n      })\r\n  }\r\n\r\n  BuscarGruposEnAlmacen(){\r\n    this.loading = true;\r\n    this.api.GetGrupoMp()\r\n      .subscribe((resp:any)=>{\r\n        this.SECCIONES = resp\r\n        this.loading = false;\r\n      })\r\n  }\r\n\r\n  BuscarAlmacen(){\r\n    this.loading = true;\r\n    this.api.getAlmacen()\r\n      .subscribe((resp:any) => {\r\n        this.ALMACEN = resp.materiales;\r\n        this.totalizar_materiales()\r\n        this.loading = false;\r\n      })\r\n  }\r\n\r\n\r\n  selecciona_producto(e){\r\n    if(e == 0){\r\n      (<HTMLInputElement>document.getElementById('Producto_select')).disabled = true;\r\n    }else{\r\n      (<HTMLInputElement>document.getElementById('Producto_select')).disabled = false;\r\n      this.product_selected = e;\r\n    }\r\n  }\r\n\r\n  almacenar(producto){\r\n    let data = {\r\n      material:producto.value,\r\n      codigo:this.codigo,\r\n      lote:this.lote,\r\n      cantidad:this.cantidad\r\n    }\r\n\r\n    this.api.postAlmacenado(data)\r\n      .subscribe((resp:any)=>{\r\n        Swal.fire({\r\n          position:'center',\r\n          icon:'success',\r\n          title:'Nueva materia prima agregada',\r\n          showConfirmButton: false,\r\n          timer:1500\r\n        })\r\n        this.Nuevo_producto();\r\n        this.BuscarAlmacen();\r\n        this.getAalmacenado();\r\n        this.codigo = '';\r\n        this.lote = '';\r\n        this.cantidad ='';\r\n        (<HTMLInputElement>document.getElementById('Nuevoproducto')).value = \"0\";\r\n      })\r\n  }\r\n\r\n  producto_seleccionado(e){\r\n    if(e == 0){\r\n      this._producto_seleccionado = false\r\n      this.codigo = '';\r\n      this.lote = '';\r\n      this.cantidad = '';\r\n    }else{\r\n      this._producto_seleccionado = true\r\n    }\r\n  }\r\n\r\n\r\n  Almacenar(){\r\n\r\n    let grupo;\r\n\r\n    if(this.OTRO){\r\n    grupo = this.InventarioForm.get('NewControl').value\r\n    }\r\n    else{\r\n      grupo = this.Gs;\r\n    }\r\n\r\n\r\n    const data = {\r\n      producto: this.InventarioForm.get('producto').value,\r\n      marca:this.InventarioForm.get('marca').value,\r\n\r\n      ancho:this.InventarioForm.get('ancho').value,\r\n      largo:this.InventarioForm.get('largo').value,\r\n      gramaje:this.InventarioForm.get('gramaje').value,\r\n      calibre:this.InventarioForm.get('calibre').value,\r\n\r\n\r\n      // cantidad: this.InventarioForm.get('cantidad').value,\r\n      unidad: this.InventarioForm.get('unidad').value,\r\n      presentacion: this.InventarioForm.get('presentacion').value,\r\n      neto: this.InventarioForm.get('neto').value,\r\n      color:this.InventarioForm.get('color').value,\r\n      // codigo: this.InventarioForm.get('codigo').value,\r\n      // lote: this.InventarioForm.get('lote').value,\r\n      cinta:this.InventarioForm.get('cinta').value,\r\n      grupo,\r\n      nuevo:this.OTRO\r\n\r\n    }\r\n\r\n    // // console.log(this.InventarioForm.get('color').value)\r\n\r\n    if(this.InventarioForm.invalid){\r\n      return\r\n    }\r\n\r\n\r\n\r\n    this.api.PostAlmacen(data)\r\n     .subscribe(resp=>{\r\n        this.InventarioForm.reset();\r\n        this.BuscarAlmacen();\r\n        this.BuscarGruposEnAlmacen();\r\n        this.Modal_Almacen();\r\n        // this.getSustratos();\r\n      })\r\n\r\n   }\r\n\r\n   Peso(e){\r\n    this.PESO = e.target.value\r\n    this.HOJAS = this.PESO*10000000000\r\n    let otro = this.GRAMAJE*this.ANCHO*this.LARGO\r\n    this.HOJAS = this.HOJAS/otro\r\n    this.HOJAS = Math.trunc(this.HOJAS)\r\n    // /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n   Gramaje(e){\r\n     this.GRAMAJE = e\r\n     this.HOJAS = this.PESO*10000000000\r\n     let otro = this.GRAMAJE*this.ANCHO*this.LARGO\r\n     this.HOJAS = this.HOJAS/otro\r\n     this.HOJAS = Math.trunc(this.HOJAS)\r\n     //  /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n   Ancho(e){\r\n     this.ANCHO = e\r\n     this.HOJAS = this.PESO*10000000000\r\n     let otro = this.GRAMAJE*this.ANCHO*this.LARGO\r\n     this.HOJAS = this.HOJAS/otro\r\n     this.HOJAS = Math.trunc(this.HOJAS)\r\n     //  /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n   Largo(e){\r\n     this.LARGO = e\r\n     this.HOJAS = this.PESO*10000000000\r\n     let otro = this.GRAMAJE*this.ANCHO*this.LARGO\r\n     this.HOJAS = this.HOJAS/otro\r\n     this.HOJAS = Math.trunc(this.HOJAS)\r\n     //  /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n\r\n  //  ***********************************************************\r\n  Hojas_(e){\r\n    this.HOJAS_ = e.target.value\r\n    let all = this.HOJAS_ * this.GRAMAJE_*this.ANCHO_*this.LARGO_\r\n    this.PESO_ = all / 10000000000;\r\n    // /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n   Gramaje_(e){\r\n     this.GRAMAJE_ = e.target.value\r\n     let all = this.HOJAS_ * this.GRAMAJE_*this.ANCHO_*this.LARGO_\r\n     this.PESO_ = all / 10000000000;\r\n     //  /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n   Ancho_(e){\r\n     this.ANCHO_ = e.target.value\r\n     let all = this.HOJAS_ * this.GRAMAJE_*this.ANCHO_*this.LARGO_\r\n     this.PESO_ = all / 10000000000;\r\n     //  /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n   Largo_(e){\r\n     this.LARGO_ = e.target.value\r\n     let all = this.HOJAS_ * this.GRAMAJE_*this.ANCHO_*this.LARGO_\r\n     this.PESO_ = all / 10000000000;\r\n     //  /( this.GRAMAJE*this.ANCHO*this.LARGO)\r\n   }\r\n  //  ***********************************************************\r\n\r\n\r\n  nuevaBobina(){\r\n    let splited = this.BobinaForm.get('material').value;\r\n    splited = splited.split('_')\r\n    let marca = splited[1].split('(')\r\n    this.BobinaForm.get('material').setValue(splited[0])\r\n    this.BobinaForm.get('marca').setValue(marca[1].slice(0,-1))\r\n    this.api.postNuevaBobina(this.BobinaForm.value)\r\n      .subscribe((resp:any)=>{\r\n        this.BobinaForm.reset();\r\n        this.Modal_bobinas();\r\n        this.getbobinas();\r\n        Swal.fire({\r\n          title:'Nueva Bobina Agregada!',\r\n          text:'Se agregó una nueva bobina al almacen de bobinas',\r\n          icon:'success',\r\n          showConfirmButton:false\r\n        })\r\n      })\r\n  }\r\n\r\n  public Convertidora;\r\n  seleccionar_material(e){\r\n    (<HTMLInputElement>document.getElementById('bobina_selected')).disabled = false;\r\n    this.SUSTRATO_CONVERSION = [];\r\n    this.Convertidora = e;\r\n    let BobinasEnConvertidora = this.BOBINAS_.filter(x => x.convertidora === e)\r\n    console.log(BobinasEnConvertidora)\r\n    for(let i = 0; i<BobinasEnConvertidora.length; i++){\r\n      let bobina = BobinasEnConvertidora[i]\r\n      let sustrato = this.ALMACEN.filter(x => x.nombre == bobina.material && x.marca == bobina.marca && x.ancho == bobina.ancho && x.gramaje == bobina.gramaje && x.calibre == bobina.calibre)\r\n\r\n          console.log(sustrato,'aja')\r\n          if(sustrato){\r\n          for(let i =0; i<sustrato.length;i++){\r\n  \r\n              let existe = this.SUSTRATO_CONVERSION.find(x => x._id == sustrato[i]._id)\r\n              if(!existe){\r\n                this.SUSTRATO_CONVERSION.push(sustrato[i])\r\n              }\r\n            }\r\n          }\r\n    }\r\n  }\r\n\r\n  public SUSTRATO_CONVERSION = [];\r\n  public BobinasSencillas = [];\r\n  getbobinas(){\r\n    this.I_f = 0;\r\n    this.I_r = 0;\r\n    this.BobinasSencillas = [];\r\n    this.api.getBobina()\r\n      .subscribe((resp:any)=>{\r\n        this.BOBINAS_ = resp;\r\n        let Almacen = this.ALMACEN;\r\n        for(let i = 0; i<this.BOBINAS_.length; i++){\r\n          let bobina = this.BOBINAS_[i]\r\n          if(bobina.convertidora === 'Convertidora Finlandia, C.A.'){\r\n            this.I_f++;\r\n          }else{\r\n            this.I_r++;\r\n          }\r\n          let sumada = this.BobinasSencillas.findIndex(x => x.material === this.BOBINAS_[i].material && x.marca === this.BOBINAS_[i].marca && x.ancho === this.BOBINAS_[i].ancho && x.gramaje === this.BOBINAS_[i].gramaje && x.calibre === this.BOBINAS_[i].calibre && x.convertidora === this.BOBINAS_[i].convertidora)\r\n\r\n          if(sumada < 0){\r\n            let data = {\r\n              material:this.BOBINAS_[i].material,\r\n              marca:this.BOBINAS_[i].marca,\r\n              calibre:this.BOBINAS_[i].calibre,\r\n              gramaje:this.BOBINAS_[i].gramaje,\r\n              ancho:this.BOBINAS_[i].ancho,\r\n              convertidora:this.BOBINAS_[i].convertidora,\r\n              peso:this.BOBINAS_[i].peso\r\n            }\r\n            this.BobinasSencillas.push(data)\r\n          }\r\n          else{\r\n              let peso = Number(this.BobinasSencillas[sumada].peso) + Number(this.BOBINAS_[i].peso)\r\n              this.BobinasSencillas[sumada].peso = peso\r\n          }\r\n\r\n          console.log(this.BobinasSencillas)\r\n\r\n          let sustrato = this.ALMACEN.find(x => x.nombre == bobina.material && x.marca == bobina.marca && x.ancho == bobina.ancho && x.gramaje == bobina.gramaje)\r\n\r\n          console.log(sustrato)\r\n          if(sustrato){\r\n\r\n            let existe = this.SUSTRATO_CONVERSION.find(x => x._id == sustrato._id)\r\n            if(!existe){\r\n              this.SUSTRATO_CONVERSION.push(sustrato)\r\n            }\r\n          }\r\n\r\n          // let sustrato = this.ALMACEN.find(x => x.nombre == bobina.material && x.gramaje == bobina.gramaje && x.ancho == bobina.ancho)\r\n          // console.log(sustrato, 'bobina')\r\n          // if(sustrato){\r\n          //   console.log( this.SUSTRATO_CONVERSION,'bOBINAS')\r\n\r\n          // }\r\n        }\r\n      })\r\n  }\r\n\r\n\r\n  public conversiones = []\r\n  Buscar_conversiones(){\r\n    this.api.getConversiones()\r\n      .subscribe((resp:any)=>{\r\n        this.conversiones = resp;\r\n      })\r\n  }\r\n\r\n  Buscar_Bobina(e){\r\n    let material = this.ALMACEN.find(x => x._id == e.target.value)\r\n\r\n    if(material){\r\n      (<HTMLInputElement>document.getElementById('_gramaje')).value = material.gramaje;\r\n      (<HTMLInputElement>document.getElementById('_ancho')).value = material.ancho;\r\n      (<HTMLInputElement>document.getElementById('_largo')).value = material.largo;\r\n      this.Gramaje(material.gramaje);\r\n      this.Ancho(material.ancho);\r\n      this.Largo(material.largo);\r\n      // if(TheBobina){\r\n      // (<HTMLInputElement>document.getElementById('_ancho')).value = TheBobina.ancho\r\n      // }\r\n      // if(TheBobina){\r\n      //   // console.log(TheBobina)\r\n      //   this.Mat_Selected = TheBobina.material;\r\n      //   this.Num_Bobina = TheBobina.Nbobina;\r\n      // }\r\n    }\r\n\r\n  }\r\n\r\n  public I_f = 0;\r\n  public I_r = 0;\r\n\r\n  Generar_Conversion(){\r\n    let sustrato = (<HTMLInputElement>document.getElementById('bobina_selected')).value;\r\n    let peso = (<HTMLInputElement>document.getElementById('_peso')).value;\r\n    let gramaje = (<HTMLInputElement>document.getElementById('_gramaje')).value;\r\n    let ancho = (<HTMLInputElement>document.getElementById('_ancho')).value;\r\n    let largo = (<HTMLInputElement>document.getElementById('_largo')).value;\r\n    let observacion = (<HTMLInputElement>document.getElementById('observacion')).value;\r\n    let convertidora = (<HTMLInputElement>document.getElementById('convertidora')).value;\r\n    let Material = this.ALMACEN.find(x=> x._id == sustrato)\r\n\r\n    let data = {\r\n      material:`${Material.nombre} (${Material.marca})`,\r\n      codigo:this.Num_Bobina,\r\n      peso,\r\n      sustrato:`${Material.nombre} (${Material.marca})`,\r\n      hojas:this.HOJAS,\r\n    }\r\n\r\n    let solicitado = [\r\n      `${this.usuario.Nombre} ${this.usuario.Apellido}`,\r\n      // 'Gerente de Operaciones',\r\n      'Poligráfica Industrial, C.A.'\r\n    ]\r\n\r\n    let hojas:string = data.hojas.toString()\r\n\r\n    let hoy = moment().format('DD/MM/YYYY')\r\n\r\n     this.api.postNuevoSustrato(data)\r\n       .subscribe((resp:any)=>{\r\n         this.modal_Conversion();\r\n         Swal.fire({\r\n           title:'Nueva Solicitud de Conversion Creada',\r\n           text:`Su solicitud de conversion para ${Material.nombre}, fue realizada`,\r\n           icon:'success',\r\n           showConfirmButton:false,\r\n         })\r\n\r\n        async function recibo() {\r\n          const pdf = new PdfMakeWrapper();\r\n          PdfMakeWrapper.setFonts(pdfFonts);\r\n          pdf.pageOrientation('landscape');\r\n\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell(await new Img('../../assets/poli_cintillo.png').width(85).margin([35, 5]).build()).rowSpan(4).end,\r\n                new Cell(new Txt(`\r\n                SOLICITUD DE CONVERSIÓN`).bold().end).alignment('center').fontSize(13).rowSpan(4).end,\r\n                new Cell(new Txt('Código: FAL-002').end).fillColor('#dedede').fontSize(9).alignment('center').end,\r\n              ],\r\n              [\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('N° de Revisión: 0').end).fillColor('#dedede').fontSize(9).alignment('center').end,\r\n              ],\r\n              [\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('Fecha de Revision: 3/11/2022').end).fillColor('#dedede').fontSize(9).alignment('center').end,\r\n              ],\r\n              [\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('').end).end,\r\n                new Cell(new Txt('Página: 1 de 1').end).fillColor('#dedede').fontSize(9).alignment('center').end,\r\n              ],\r\n            ]).widths(['25%','50%','25%']).end\r\n          )\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n\r\n          )\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell(new Table(([\r\n                  [\r\n                    new Cell(new Txt('CONVERTIDORA').end).fillColor('#dedede').end,\r\n                    new Cell(new Txt(convertidora).end).end,\r\n                  ]\r\n                ])\r\n                ).widths(['30%','70%']).end\r\n                ).alignment('center').end,\r\n\r\n                new Cell(new Txt('').end).end,\r\n\r\n                new Cell(new Table(([\r\n                  [\r\n                    new Cell(new Txt('CONVERSIÓN').end).alignment('center').colSpan(2).color('#ffffff').fillColor('#000000').end,\r\n                    new Cell(new Txt('').end).end\r\n                  ],\r\n                  [\r\n                    new Cell(new Txt('N°').margin([0,6]).end).alignment('center').fillColor('#dedede').end,\r\n                    new Cell(new Txt(resp).bold().end).fontSize(20).end\r\n                  ],\r\n                  [\r\n                    new Cell(new Txt('FECHA DE SOLICITUD').end).alignment('center').fillColor('#dedede').end,\r\n                    new Cell(new Txt(`${hoy}`).margin([0,6]).bold().end).end\r\n                  ]\r\n                ])).widths(['30%','70%']).end\r\n                ).alignment('center').end,\r\n\r\n              ]\r\n            ]).widths(['45%','15%','40%']).layout('noBorders').end\r\n\r\n          )\r\n\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n\r\n          )\r\n\r\n          pdf.add(\r\n            new Table(([\r\n              [\r\n                new Cell(new Txt('MATERIAL').margin([0,6]).bold().end).fillColor('#dedede').end,\r\n                new Cell(new Txt('GRAMAJE    (g/m²)').bold().end).fillColor('#dedede').end,\r\n                new Cell(new Txt('ANCHO DE BOBINA (cm)').bold().end).fillColor('#dedede').end,\r\n                new Cell(new Txt('CORTE (cm)').margin([0,6]).bold().end).fillColor('#dedede').colSpan(2).end,\r\n                new Cell(new Txt('').end).fillColor('#dedede').end,\r\n                new Cell(new Txt('PESO (t)').margin([0,6]).bold().end).fillColor('#dedede').end,\r\n                new Cell(new Txt('HOJAS (und)').margin([0,6]).bold().end).fillColor('#dedede').end,\r\n                new Cell(new Txt('OBSERVACIÓN').margin([0,6]).bold().end).fillColor('#dedede').end,\r\n              ],\r\n              [\r\n                new Cell(new Txt(data.sustrato).end).end,\r\n                new Cell(new Txt(gramaje).end).end,\r\n                new Cell(new Txt(ancho).end).end,\r\n                new Cell(new Txt(ancho).end).end,\r\n                new Cell(new Txt(largo).end).end,\r\n                new Cell(new Txt(peso).end).end,\r\n                new Cell(new Txt(hojas).color('red').end).end,\r\n                new Cell(new Txt(observacion).end).end,\r\n              ]\r\n            ])).widths(['17%','11%','11%','11%','11%','11%','11%','17%']).alignment('center').end\r\n          )\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n\r\n          )\r\n\r\n          pdf.add(\r\n            new Table(([\r\n              [\r\n                new Cell(new Txt(\"\").end).end,\r\n\r\n                new Cell(new Table(([\r\n                  [\r\n                    new Cell(new Txt('SOLICITADO POR:').color('#ffffff').end).fillColor('#000000').alignment('center').end\r\n                  ],\r\n                  [\r\n                    new Cell(new Stack(solicitado).end).alignment('center').end\r\n\r\n                  ]\r\n                ])).widths(['100%']).end\r\n                ).end,\r\n              ]\r\n\r\n            ])).widths(['60%','40%']).layout('noBorders').alignment('center').end\r\n          )\r\n\r\n\r\n\r\n\r\n          pdf.create().download(`CONVERSION_${resp}`)\r\n\r\n        }\r\n\r\n        recibo();\r\n\r\n      })\r\n  }\r\n\r\n  // getSustratos(){\r\n  //   this.api.getSustratos()\r\n  //     .subscribe((resp:any)=>{\r\n  //       // console.log(resp)\r\n  //       if(resp.length>0){\r\n  //         this.boolean_sustrato = true;\r\n  //         this.Sustratos = resp;\r\n  //       }\r\n  //     })\r\n\r\n  totalizar(neto,cantidad){\r\n    let total = neto*cantidad;\r\n    return total;\r\n  }\r\n\r\n\r\n\r\n  BuscarTotal(Material:any, cantidad_Mat:any, cantidad_orden:any){\r\n    let El_Material = this.ALMACEN.find(x=> x.nombre == Material)\r\n    const total_necesario = (cantidad_Mat / 1000) * cantidad_orden\r\n    let Total_en_Presentacion = total_necesario / El_Material.neto\r\n\r\n    if( Total_en_Presentacion % 1 == 0 ){\r\n\r\n      if(Total_en_Presentacion < 1){\r\n        Total_en_Presentacion = 1;\r\n      }\r\n\r\n      return {total:Total_en_Presentacion,\r\n        presentacion: El_Material.presentacion}\r\n\r\n    }else {\r\n      Total_en_Presentacion = Math.round(Total_en_Presentacion)\r\n\r\n      if(Total_en_Presentacion < 1){\r\n        Total_en_Presentacion = 1;\r\n      }\r\n\r\n      return {total:Total_en_Presentacion,\r\n              presentacion: El_Material.presentacion}\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  RestarMaterial(material, total){\r\n    const data = {\r\n      material:material.material,\r\n      total\r\n    }\r\n\r\n\r\n    let Descuento = this.DESCUENTOS.find(x => x.material == material.material)\r\n\r\n    if(!Descuento){\r\n      this.DESCUENTOS.push(data)\r\n    }\r\n\r\n  }\r\n\r\n  modal_eliminacion(){\r\n    if(this.eliminacion){\r\n      this.eliminacion = false;\r\n    }else{\r\n      this.eliminacion = true;\r\n    }\r\n  }\r\n\r\n  eliminar_p(nombre, cantidad, id, sustrato?){\r\n    this.name_p_e = nombre\r\n    this.cantidad_p_e = cantidad\r\n    this.id_p_e = id\r\n\r\n    if(sustrato){\r\n      this.eliminar_sustrato = true;\r\n    }\r\n\r\n    this.modal_eliminacion();\r\n\r\n  }\r\n\r\n  confirmar_eliminacion(motivo){\r\n\r\n    motivo = motivo.value;\r\n\r\n    if(this.eliminar_sustrato){\r\n      this.api.eliminarSustrato(this.id_p_e, motivo)\r\n      .subscribe((resp:any)=>{\r\n        this.BuscarAlmacen();\r\n        this.porConfirmar();\r\n        this.modal_eliminacion();\r\n\r\n        this.BuscarAlmacen();\r\n        this.BuscarGruposEnAlmacen();\r\n        this.getbobinas();\r\n        // this.getSustratos();\r\n        this.porConfirmar();\r\n        // // console.log(resp)\r\n      })\r\n    }else{\r\n      this.api.eliminarMaterial(this.id_p_e, motivo)\r\n        .subscribe((resp:any)=>{\r\n          // // console.log(resp)\r\n          this.BuscarAlmacen();\r\n          this.porConfirmar();\r\n          this.modal_eliminacion();\r\n        })\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  descargarInventario(desde, hasta){\r\n    const data = {\r\n      desde:desde.value,\r\n      hasta:hasta.value\r\n    }\r\n\r\n    this.api.reporteInventario(data)\r\n      .subscribe((resp:any)=>{\r\n\r\n\r\n        // // console.log('aqui es la broma:', resp)\r\n\r\n        const pdf = new PdfMakeWrapper();\r\n        PdfMakeWrapper.setFonts(pdfFonts);\r\n\r\n        async function generarPDF(){\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell( new Txt(` Movimientos Realizados en el Almacen`).end).alignment('center').end,\r\n              ],\r\n              [\r\n                new Cell( new Txt(` Desde: ${desde.value} Hasta: ${hasta.value}`).end).alignment('center').end,\r\n              ]\r\n            ]).widths(['100%']).layout('noBorders').end\r\n          )\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n\r\n          )\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell( new Txt('PRODUCTOS EN ALMACEN').end).fillColor('#dedede').alignment('center').end,\r\n              ]\r\n            ]).widths(['100%']).layout('noBorders').end\r\n          )\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n\r\n          )\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell( new Txt(`NOMBRE`).end).end,\r\n                new Cell( new Txt(`PRESENTACIÓN`).end).end,\r\n                new Cell( new Txt(`CANTIDAD`).end).end,\r\n                new Cell( new Txt(`CÓDIGO`).end).end,\r\n                new Cell( new Txt(`LOTE`).end).end,\r\n\r\n              ]\r\n            ]).widths(['20%','20%','20%', '20%', '20%']).end\r\n          )\r\n          for(let i = 0; i < resp.almacen.length; i++){\r\n            pdf.add(\r\n              new Table([\r\n                [\r\n                  new Cell( new Txt(`${resp.almacen[i].nombre}`).end).end,\r\n                  new Cell( new Txt(`${resp.almacen[i].presentacion} ${resp.almacen[i].neto} ${resp.almacen[i].unidad}`).end).end,\r\n                  new Cell( new Txt(`${resp.almacen[i].cantidad}`).end).end,\r\n                  new Cell( new Txt(`${resp.almacen[i].codigo}`).end).end,\r\n                  new Cell( new Txt(`${resp.almacen[i].lote}`).end).end,\r\n\r\n                ]\r\n              ]).widths(['20%','20%','20%', '20%', '20%']).end\r\n            )\r\n          }\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n\r\n          )\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell( new Txt('PRODUCTOS INGRESADOS EN LA FECHA ESTIPULADA').end).fillColor('#dedede').alignment('center').end,\r\n              ]\r\n            ]).widths(['100%']).layout('noBorders').end\r\n          )\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n\r\n          )\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell( new Txt(`NOMBRE`).end).end,\r\n                new Cell( new Txt(`PRESENTACIÓN`).end).end,\r\n                new Cell( new Txt(`CANTIDAD`).end).end,\r\n                new Cell( new Txt(`CÓDIGO`).end).end,\r\n                new Cell( new Txt(`LOTE`).end).end,\r\n\r\n              ]\r\n            ]).widths(['20%','20%','20%', '20%', '20%']).end\r\n          )\r\n          for(let i = 0; i < resp.ingresos.length; i++){\r\n            pdf.add(\r\n              new Table([\r\n                [\r\n                  new Cell( new Txt(`${resp.ingresos[i].material.nombre}`).end).end,\r\n                  new Cell( new Txt(`${resp.ingresos[i].material.presentacion} ${resp.ingresos[i].material.neto} ${resp.ingresos[i].material.unidad}`).end).end,\r\n                  new Cell( new Txt(`${resp.ingresos[i].material.cantidad}`).end).end,\r\n                  new Cell( new Txt(`${resp.ingresos[i].material.codigo}`).end).end,\r\n                  new Cell( new Txt(`${resp.ingresos[i].material.lote}`).end).end,\r\n\r\n                ]\r\n              ]).widths(['20%','20%','20%', '20%', '20%']).end\r\n            )\r\n          }\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n\r\n          )\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell( new Txt('SALIDAS DEL ALMACEN').end).fillColor('#dedede').alignment('center').end,\r\n              ]\r\n            ]).widths(['100%']).layout('noBorders').end\r\n          )\r\n\r\n          pdf.add(\r\n\r\n            pdf.ln(2)\r\n\r\n          )\r\n\r\n          pdf.add(\r\n            new Table([\r\n              [\r\n                new Cell( new Txt(`NOMBRE`).end).end,\r\n                new Cell( new Txt(`PRESENTACIÓN`).end).end,\r\n                new Cell( new Txt(`CANTIDAD`).end).end,\r\n                new Cell( new Txt(`RAZON`).end).end,\r\n                new Cell( new Txt(`FECHA`).end).end,\r\n\r\n              ]\r\n            ]).widths(['20%','20%','20%', '20%', '20%']).end\r\n          )\r\n          for(let i = 0; i < resp.descuentos.length; i++){\r\n            pdf.add(\r\n              new Table([\r\n                [\r\n                  new Cell( new Txt(`${resp.descuentos[i].material.nombre}`).end).end,\r\n                  new Cell( new Txt(`${resp.descuentos[i].material.presentacion} ${resp.descuentos[i].material.neto} ${resp.descuentos[i].material.unidad}`).end).end,\r\n                  new Cell( new Txt(`${resp.descuentos[i].descuento}`).end).end,\r\n                  new Cell( new Txt(`${resp.descuentos[i].razon}`).end).end,\r\n                  new Cell( new Txt(`${resp.descuentos[i].fecha.slice(0, 10)}`).end).end,\r\n\r\n                ]\r\n              ]).widths(['20%','20%','20%', '20%', '20%']).end\r\n            )\r\n          }\r\n\r\n\r\n\r\n\r\n\r\n\r\n          pdf.create().download()\r\n\r\n        }\r\n        generarPDF();\r\n        this.modal_reporte()\r\n      })\r\n\r\n  }\r\n\r\n  totalizar_materiales(){\r\n\r\n    for(let i=0; i<this.Almacenado.length; i++){\r\n      let existe = this.TOTALES.find(x => x.material == this.Almacenado[i].material.nombre && x.marca == this.Almacenado[i].material.marca && x.ancho == this.Almacenado[i].material.ancho && x.largo == this.Almacenado[i].material.largo && x.calibre == this.Almacenado[i].material.calibre && x.gramaje == this.Almacenado[i].material.gramaje);\r\n      if(existe){\r\n          let x = this.TOTALES.findIndex(x => x.material == this.Almacenado[i].material.nombre && x.marca == this.Almacenado[i].material.marca && x.ancho == this.Almacenado[i].material.ancho && x.largo == this.Almacenado[i].material.largo && x.calibre == this.Almacenado[i].material.calibre && x.gramaje == this.Almacenado[i].material.gramaje)\r\n\r\n          this.TOTALES[x].total = Number(this.TOTALES[x].total)\r\n          this.Almacenado[i].cantidad = Number(this.Almacenado[i].cantidad)\r\n          this.Almacenado[i].neto = Number(this.Almacenado[i].material.neto)\r\n\r\n          let def = (this.Almacenado[i].neto * this.Almacenado[i].cantidad) / this.TOTALES[x].neto\r\n\r\n          this.TOTALES[x].total = this.TOTALES[x].total + def;\r\n\r\n        }else{\r\n        this.TOTALES.push({\r\n                       material:this.Almacenado[i].material.nombre,\r\n                       marca:this.Almacenado[i].material.marca,\r\n                       calibre:this.Almacenado[i].material.calibre,\r\n                       gramaje:this.Almacenado[i].material.gramaje,\r\n                       grupo:this.Almacenado[i].material.grupo.nombre,\r\n                       presentacion:this.Almacenado[i].material.presentacion,\r\n                       neto:this.Almacenado[i].material.neto,\r\n                       unidad:this.Almacenado[i].material.unidad,\r\n                      ancho:this.Almacenado[i].material.ancho,\r\n                      largo:this.Almacenado[i].material.largo,\r\n                      total:this.Almacenado[i].cantidad\r\n                    })\r\n      }\r\n      if(i === this.Almacenado.length - 1){\r\n        // console.log(this.TOTALES)\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  changeView(){\r\n\r\n    if(this.resumido){\r\n      this.resumido = false;\r\n      this.detallado = true;\r\n    }else{\r\n      this.resumido = true;\r\n      this.detallado = false;\r\n    }\r\n  }\r\n\r\n  seleccion_inventario(material, marca){\r\n\r\n    let materiales_en_almacen = [];\r\n\r\n    for(let i=0; i<this.ALMACEN.length; i++){\r\n      if(this.ALMACEN[i].nombre == material && this.ALMACEN[i].marca == marca){\r\n        materiales_en_almacen.push({\r\n          nombre:this.ALMACEN[i].nombre,\r\n          marca:this.ALMACEN[i].marca,\r\n\r\n        });\r\n      }\r\n    }\r\n\r\n    return materiales_en_almacen;\r\n  }\r\n\r\n  caja(cajas){\r\n    this.caja_ = cajas;\r\n  }\r\n\r\n  finalizar_asignacion(){\r\n        this.BuscarAlmacen()\r\n        this.porConfirmar()\r\n        this.getAalmacenado()\r\n        this.getOrdenes()\r\n  }\r\n\r\n  // existencia(x){\r\n  //   let lotes = this.LOTES.length;\r\n  //   let existencia = 0;\r\n  //   for(let i = 0; i<lotes; i++){\r\n  //     if(this.LOTES[i].i == x){\r\n  //       existencia = existencia + this.LOTES[i].almacenado;\r\n  //     }\r\n  //   }\r\n\r\n  //   return existencia\r\n  // }\r\n\r\n\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { MaquinaInterface } from '../interface/maquinas.interfase';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError, map, tap } from 'rxjs/operators';\r\n\r\nimport { Usuario } from '../models/usuario.model';\r\nimport { Router } from '@angular/router';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RestApiService {\r\n\r\n\r\n  api_url = environment.api;\r\n\r\n  constructor(public http:HttpClient,\r\n              private router:Router) { }\r\n\r\n  public usuario!:Usuario;\r\n\r\n  get token():string{\r\n    return localStorage.getItem('token') || '';\r\n  }\r\n  get headers(){\r\n    return {\r\n      'Authorization':this.token\r\n    }\r\n   }\r\n\r\n  // **************************************************************************\r\n  // **************************** MAQUINAS ************************************\r\n  // ************************************************************************** \r\n\r\n  GetMaquinas(){\r\n    const url = `${this.api_url}/maquinas`\r\n    return this.http.get<MaquinaInterface[]>(url)\r\n  }\r\n\r\n  PostMaquinas(data:MaquinaInterface){\r\n    const url = `${this.api_url}/maquinas`\r\n    return this.http.post<MaquinaInterface>(url,data)\r\n  }\r\n\r\n  DeleteMaquinas(id){\r\n    const url = `${this.api_url}/maquinas/${id}`\r\n    return this.http.delete(url)\r\n  }\r\n\r\n\r\n  // **************************************************************************\r\n  // **************************** GRUPOS **************************************\r\n  // **************************************************************************\r\n\r\n  getGrupos(){\r\n    const url = `${this.api_url}/grupos`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  PostGrupos(data:any){\r\n    const url = `${this.api_url}/grupos`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  // ****************************************************************************\r\n  // **************************** CLIENTES **************************************\r\n  // ****************************************************************************\r\n\r\n  GetClientes(){\r\n    const url = `${this.api_url}/clientes`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  PostClientes(data){\r\n    const url = `${this.api_url}/clientes`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  // ****************************************************************************\r\n  // **************************** Almacen ***************************************\r\n  // ****************************************************************************\r\n\r\n\r\n  getAlmacen(){\r\n    const url = `${this.api_url}/materiales`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  GetGrupoMp(){\r\n    const url = `${this.api_url}/tipo-materia-prima`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  PostAlmacen(data){\r\n    const url = `${this.api_url}/nuevo-material`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  // ****************************************************************************\r\n  // **************************** Productos *************************************\r\n  // ****************************************************************************\r\n\r\n  postProducto(data){\r\n    const url = `${this.api_url}/nuevo-producto`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  getById(id){\r\n    const url = `${this.api_url}/productos/${id}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  getOneById(id){\r\n    const url = `${this.api_url}/producto/${id}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n\r\n  getFechas(id){\r\n    const url = `${this.api_url}/trabajos/${id}`\r\n    return this.http.get(url);\r\n  }\r\n\r\n  postOrden(data){\r\n    const url = `${this.api_url}/orden`\r\n    return this.http.post(url,data)\r\n  }\r\n  postOrden2(data){\r\n    const url = `${this.api_url}/trabajos`\r\n    return this.http.post(url,data)\r\n  }\r\n  getOrdenById(id){\r\n    const url = `${this.api_url}/orden/${id}`\r\n    return this.http.get(url);\r\n  }\r\n  getOrden(){\r\n    const url = `${this.api_url}/orden`\r\n    return this.http.get(url);\r\n  }\r\n\r\n  getTrabajos(){\r\n    const url = `${this.api_url}/trabajos`\r\n    return this.http.get(url);\r\n  }\r\n\r\n  getEstado(id:any){\r\n    const url = `${this.api_url}/orden/etapa/${id}`\r\n    return this.http.get(url);\r\n  }\r\n\r\n  getInfToday(fecha:any){\r\n    const url = `${this.api_url}/gestion`\r\n    return this.http.post(url,fecha)\r\n  }\r\n\r\n  postGestion(data){\r\n    const url = `${this.api_url}/gestiones`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  getGestiones(){\r\n    const url = `${this.api_url}/gestiones`\r\n    return this.http.get(url);\r\n  }\r\n  postRestrasar(data){\r\n    const url = `${this.api_url}/trabajos/retrasar`\r\n    return this.http.post(url,data)\r\n  }\r\n  postAcelerar(data){\r\n    const url = `${this.api_url}/trabajos/acelerar`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  postNuevaBobina(data){\r\n    const url = `${this.api_url}/bobina`\r\n    return this.http.post(url,data)\r\n  }\r\n  deleteBobina(data){\r\n    const url = `${this.api_url}/bobina-delete`\r\n    return this.http.post(url, data)\r\n  }\r\n\r\n  getBobina(){\r\n    const url = `${this.api_url}/bobina`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  postNuevoSustrato(data){\r\n    const url = `${this.api_url}/sustrato`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  getSustratos(){\r\n    const url = `${this.api_url}/sustrato`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  getConversiones(){\r\n    const url = `${this.api_url}/conversiones`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  Login(data){\r\n    const url = `${this.api_url}/login`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  validarToken():Observable<boolean>{\r\n    \r\n\r\n    return this.http.get(`${this.api_url}/renew`,{\r\n      headers:this.headers\r\n    }).pipe(\r\n      tap( (resp:any) =>{\r\n\r\n        const {estado,_id ,Nombre ,Apellido, Correo ,Departamento, Role,Nueva_orden,Consulta,Almacen,Maquinaria, Planificacion,Gestiones,Despacho } = resp.usuario;\r\n\r\n        this.usuario = new Usuario(estado, _id, Nombre, Apellido, Correo, Departamento,Role,Nueva_orden, Consulta, Almacen,Maquinaria,Planificacion,Gestiones,Despacho);\r\n        localStorage.setItem('token', resp.token);\r\n        localStorage.setItem('menu', JSON.stringify( resp.menu) );\r\n      }),\r\n      map(resp => true),\r\n      catchError(error => of(false))\r\n    )\r\n\r\n  }\r\n\r\n  logout(){\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('menu');\r\n    this.router.navigateByUrl('login');\r\n  }\r\n\r\n  getMaterialesPorConfirmar(){\r\n    const url = `${this.api_url}/orden_material`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  modificarMaterialTal(data){\r\n    const url = `${this.api_url}/material/descuento`\r\n    return this.http.post(url, data)\r\n  }\r\n\r\n  eliminarMaterial(id:any, motivo){\r\n    const url = `${this.api_url}/materiales/${id}`\r\n    const data = {\r\n      motivo\r\n    }\r\n    return this.http.post(url, data)\r\n  }\r\n\r\n  eliminarSustrato(id:any, motivo){\r\n    const url = `${this.api_url}/sustratos/${id}`\r\n    const data = {\r\n      motivo\r\n    }\r\n    return this.http.post(url, data)\r\n  }\r\n\r\n  reporteInventario(data){\r\n    const url = `${this.api_url}/materialess/reporte`\r\n    return this.http.post(url, data);\r\n  }\r\n\r\n  realizarDescuentoAlmacen(data){\r\n    const url = `${this.api_url}/material/descuento`\r\n    return this.http.post(url, data);\r\n  }\r\n\r\n  postAlmacenado(data){\r\n    const url = `${this.api_url}/almacenado`\r\n    return this.http.post(url, data);\r\n  }\r\n\r\n  getAlmacenado(){\r\n    const url = `${this.api_url}/almacenado`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  getAlmacenadoID(id){\r\n    const url = `${this.api_url}/almacenado/${id}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  putAlmacenadoID(id,body){\r\n    const url = `${this.api_url}/almacenado/${id}`\r\n    return this.http.put(url,body)\r\n  }\r\n\r\n  getMaterialesID(id){\r\n    const url = `${this.api_url}/materiales/${id}`\r\n    return this.http.get(url)\r\n  }\r\n  \r\n  putMaterialID(id, body){\r\n    const url = `${this.api_url}/material/${id}`\r\n    return this.http.put(url,body)\r\n  }\r\n\r\n  getMaquinaID(id){\r\n    const url = `${this.api_url}/maquinas/${id}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  putMaquina(id, body){\r\n    const url = `${this.api_url}/maquinas/${id}`\r\n    return this.http.put(url, body)\r\n  }\r\n\r\n  deleteGrupo(id){\r\n    const url = `${this.api_url}/grupo/${id}`\r\n    return this.http.delete(url)\r\n  }\r\n\r\n  getMaquinasByOrdens(id){\r\n    const url = `${this.api_url}/maquina-orden/${id}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  updateProducto(data, id){\r\n    \r\n    const url = `${this.api_url}/producto/${id}`\r\n    return this.http.post(url, data)\r\n  }\r\n\r\n  /**\r\n   * Finaliza el trabajo que se esta realizando\r\n   */\r\n  finalizarTrabajo(id){\r\n    const url = `${this.api_url}/finalizar-trabajo`\r\n    return this.http.put(url, id)\r\n  }\r\n\r\n  cambiarContrasena(data){\r\n    const url = `${this.api_url}/usuario/cambio-password`\r\n    return this.http.put(url,data)\r\n  }\r\n\r\n  postReq(data){\r\n    const url = `${this.api_url}/requi`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  getRequi(){\r\n    const url = `${this.api_url}/requi`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  getRequiEspera(){\r\n    const url = `${this.api_url}/requi/espera`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  DeleteRequi(id){\r\n    const url = `${this.api_url}/requi/${id}`\r\n    return this.http.delete(url)\r\n  }\r\n\r\n  UpdateRequi(id){\r\n    let data = 'nada'\r\n    const url = `${this.api_url}/requi/${id}`\r\n    return this.http.put(url,data)\r\n  }\r\n\r\n  getLotes(){\r\n    const url = `${this.api_url}/devoluciones`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  postDevolucion(data){\r\n    const url = `${this.api_url}/material/devolucion`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n  getDevolucion(){\r\n    const url = `${this.api_url}/devolucion`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  putDevolucion(id, data){\r\n    const url = `${this.api_url}/devoluciones/${id}`\r\n    return this.http.put(url,data)\r\n  }\r\n\r\n  DeleteDevolucion(id){\r\n    const url = `${this.api_url}/devoluciones/${id}`\r\n    return this.http.delete(url)\r\n  }\r\n\r\n  PostDespacho(data){\r\n    const url = `${this.api_url}/despacho`\r\n    return this.http.post(url, data)\r\n  }\r\n\r\n  GetDespacho(){\r\n    const url = `${this.api_url}/despacho`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  PutDespacho(id,data){\r\n    const url = `${this.api_url}/despacho/${id}`\r\n    return this.http.put(url,data)\r\n  }\r\n\r\n  PutDespachos(id,data){\r\n    const url = `${this.api_url}/despachos/${id}`\r\n    return this.http.put(url,data)\r\n  }\r\n\r\n  GetDespachoByOrden(orden){\r\n    const url = `${this.api_url}/despacho/${orden}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  CerrarOrden(id){\r\n    const url = `${this.api_url}/orden-cerrar/${id}`\r\n    return this.http.get(url)\r\n  }\r\n\r\n  updateTrabajo(id, data){\r\n    const url = `${this.api_url}/trabajo/${id}`\r\n    return this.http.put(url,data)\r\n  }\r\n\r\n\r\n\r\n\r\n  EstadisticasOrden(data){\r\n    const url = `${this.api_url}/estadisticas/ordens`\r\n    return this.http.post(url,data)\r\n  }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { MainComponent } from './main/main.component';\r\nimport { IndexComponent } from './index.component';\r\n\r\nconst routes: Routes =[\r\n  {\r\n    path:'',\r\n    component:IndexComponent,\r\n    children:[\r\n      {\r\n        path:'',\r\n        component:MainComponent\r\n      }]\r\n}]\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\nexport class IndexRoutingModule { }\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { zip } from 'rxjs';\nimport { RestApiService } from 'src/app/services/rest-api.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-detalles',\n  templateUrl: './detalles.component.html',\n  styleUrls: ['./detalles.component.css']\n})\nexport class DetallesComponent implements OnInit {\n\n  @Input() detalle:any\n  @Input() orden_detalle:any\n  @Input() orden_id:any\n  @Input() cantidad_d:any\n  @Input() cantidad_do:any\n  @Output() onCloseModal = new EventEmitter();\n  @Output() CargarOrdenes = new EventEmitter();\n\n  public trabajos;\n  public gestiones_;\n  public cargando:boolean = true;\n  public detallado:boolean = false;\n  public despachos = [];\n  public despacho = 0;\n  public usuario;\n  public Maquinas;\n\n  constructor(private api:RestApiService) {\n    this.usuario = api.usuario;\n   }\n\n  ngOnInit(): void {\n  }\n\n  cambiarFecha(dato, trabajo, campo:string){\n    this.api.updateTrabajo(trabajo, {[campo]:dato})\n      .subscribe((resp:any)=>{\n\n      })\n  }\n\n  format(n){\n    return Math.ceil(n);\n  }\n\n  gestiones(){\n    this.detallado = true;\n    this.buscarTrabajos();\n    this.buscarGestiones();\n    this.buscarDespachos();\n    this.BuscarMaquinas();\n  }\n\n  restan(a,b){\n    let c = a -b;\n    if(c < 0){\n      return 0\n    }else{\n      return c\n    }\n\n  }\n\n  cerrarOrden(){\n    Swal.fire({\n      title: '¿Cerrar orden de producción?',\n      showDenyButton: true,\n      showCancelButton: false,\n      confirmButtonText: 'Cerrar',\n      denyButtonText: `No cerrar`,\n    }).then((result) => {\n      /* Read more about isConfirmed, isDenied below */\n      if (result.isConfirmed) {\n        this.api.CerrarOrden(this.orden_id)\n          .subscribe((resp:any)=>{\n            this.CargarOrdenes.emit();\n            this.onClose()\n            Swal.fire('¡Cerrada!', '', 'success')\n          })\n      } else if (result.isDenied) {\n        Swal.fire('La orden no fué cerrada', '', 'info')\n      }\n    })\n    // console.log(this.orden_id)\n  }\n\n  buscarDespachos(){\n    this.api.GetDespachoByOrden(this.orden_detalle)\n      .subscribe((resp:any)=>{\n        for(let i=0; i<resp.length; i++){\n          for(let y=0; y<resp[i].despacho.length; y++){\n\n            if(resp[i].despacho[y].op === this.orden_detalle)\n            {\n              this.despachos.push(resp[i].despacho[y])\n              this.despachos.push({fecha:resp[i].fecha})\n              this.despacho = this.despacho + resp[i].despacho[y].cantidad\n              // console.log(this.despachos)\n            }\n          }\n        }\n      })\n  }\n\n  buscarGestiones(){\n    this.api.getGestiones()\n      .subscribe((resp:any)=>{\n        this.gestiones_ = resp;\n      })\n  }\n\n  CambioDeMaquina(e){\n    alert(e)\n  }\n\n  buscarTrabajos(){\n    this.api.getMaquinasByOrdens(this.orden_id)\n      .subscribe((resp:any)=>{\n        this.trabajos = resp.maquinasDB;\n        // this.trabajos = this.trabajos.sort(x => x.fechaI)\n      })\n  }\n\n  BuscarMaquinas(){\n    this.api.GetMaquinas()\n      .subscribe((resp:any)=>{\n        this.Maquinas = resp\n\n        console.log(this.Maquinas)\n      })\n  }\n\n  onClose(){\n    this.detalle = false;\n    this.detallado = false;\n    this.despachos = [];\n    this.despacho = 0;\n    this.onCloseModal.emit();\n  }\n\n}\n","<div class=\"modal\" [ngClass]=\"{'is-active':detalle}\">\n    <div class=\"modal-background\" (click)='onClose()'></div>\n    <div class=\"modal-card\">\n        <div class=\"modal-card-body\">\n            <p class=\"subtitulo\">\n                Orden: {{orden_detalle}}\n            </p>\n            <hr>\n            <div class=\"columns cintillo\">\n                <div class=\"column\">\n                    Cantidad solicitada: <b>{{cantidad_d}}</b>\n                </div>\n                <div class=\"column\">\n                    Cantidad a entregar: <b>{{cantidad_do}} ({{((cantidad_do * 100) /cantidad_d).toFixed(2)}}%)</b>\n                </div>\n                <div class=\"column is-2\">\n                    <button class=\"button is-primary\" (click)=\"gestiones()\" >Gestiones</button>\n                </div>\n            </div>\n\n            <div *ngIf=\"detallado\">\n                <hr>\n                <div class=\"cintillo_\" *ngFor=\"let trabajo of trabajos\">\n                    {{trabajo.maquina.tipo}} ( <ng-container *ngIf=\"usuario.Role === 'ADMIN' && trabajo.status\">\n                        <!-- <div class=\"select\"> -->\n                            <select name=\"maquina\" id=\"maquina\" (change)=\"cambiarFecha($event.target.value, trabajo._id, 'maquina')\">\n                                <ng-container *ngFor=\"let maquina of Maquinas\">\n                                    <ng-container *ngIf=\"maquina.tipo == trabajo.maquina.tipo\">\n                                        <ng-container *ngIf=\"maquina._id === trabajo.maquina._id\">\n                                            <option value=\"{{maquina._id}}\" selected *ngIf=\"maquina.tipo == trabajo.maquina.tipo\">{{maquina.nombre}}</option>\n                                        </ng-container>\n                                        <ng-container *ngIf=\"maquina._id != trabajo.maquina._id\">\n                                            <option value=\"{{maquina._id}}\" *ngIf=\"maquina.tipo == trabajo.maquina.tipo\">{{maquina.nombre}}</option>\n                                        </ng-container>\n                                    </ng-container>\n                                </ng-container>\n                            </select>\n                        <!-- </div> -->\n                    </ng-container>\n                    <ng-container *ngIf=\"usuario.Role != 'ADMIN' || !trabajo.status\">{{trabajo.maquina.nombre}}</ng-container>) <ng-container *ngIf=\"usuario.Role === 'ADMIN' && trabajo.status\">   <input type=\"date\" class=\"fechas\" value=\"{{trabajo.fechaI}}\" (change)=\"cambiarFecha($event.target.value, trabajo._id, 'fechaI')\">   <input type=\"date\" class=\"fechas\" value=\"{{trabajo.fecha}}\" (change)=\"cambiarFecha($event.target.value, trabajo._id, 'fecha')\"></ng-container>  <br>\n                        <div class=\"white\">\n                            <table class=\"table is-fullwidth\">\n                                <thead>\n                                    <tr>\n                                        <th>Fecha</th>\n                                        <th>Hojas gestionadas</th>\n                                        <th>Productos gestionados</th>\n                                        <th>Restante</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <ng-container *ngFor=\"let gestion of gestiones_\">\n                                    <tr *ngIf=\"gestion.maquina.tipo === trabajo.maquina.tipo && gestion.op === orden_id\">\n                                        <td>{{gestion.fecha | date:'dd/MM/yyyy':'UTC'}}</td>\n                                        <td>{{format(gestion.hojas)}}</td>\n                                        <td>{{format(gestion.productos)}}</td>\n                                        <td>{{gestion.Rhojas}}(Hojas) /\n                                            <ng-container *ngIf=\"gestion.Rproductos > 0\">\n                                                {{gestion.Rproductos}}(Productos)\n                                            </ng-container>\n                                            <ng-container *ngIf=\"gestion.Rproductos < 1\">\n                                                0(Productos)\n                                            </ng-container>\n                                        </td>\n                                    </tr>\n                                    </ng-container>\n                                </tbody>\n                            </table>\n                        </div>\n                </div>\n                <div class=\"cintillo_\">\n                    Despachos: {{despacho}} - Restan: {{restan(cantidad_do,despacho)}}\n                    <div class=\"white\">\n                        <table class=\"table is-fullwidth\">\n                            <thead>\n                                <tr>\n                                    <th>Producto</th>\n                                    <th>Cantidad</th>\n                                    <th>OC</th>\n                                    <th>Destino</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <ng-container *ngFor=\"let despacho of despachos; let even = even;\">\n                                    <ng-container *ngIf=\"even\">\n                                        <tr>\n                                            <td>{{despacho.producto}}</td>\n                                            <td>{{despacho.cantidad}}</td>\n                                            <td>{{despacho.oc}}</td>\n                                            <td>{{despacho.destino}}</td>\n                                        </tr>\n                                    </ng-container>\n                                    <ng-container  *ngIf=\"!even\">\n                                            <td>Fecha: <b>{{despacho.fecha}}</b></td>\n                                    </ng-container>\n                                </ng-container>\n                            </tbody>\n                        </table>\n                        <button class=\"button is-success\" *ngIf=\"cantidad_do - despacho < 1 && usuario.Role === 'ADMIN'\" (click)=\"cerrarOrden()\">Cerrar Orden</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-main',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.css']\r\n})\r\nexport class MainComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<section class=\"hero is-small is-primary\">\r\n    <!-- <img src=\"../assets/BANNER-SIO-1092x270-v03.jpg\"> -->\r\n</section>\r\n\r\n<div class=\"container\">\r\n    <div class=\"columns menu\">\r\n        <div class=\"column\">\r\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\r\n        </div>\r\n        <div class=\"column\">\r\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\r\n        </div>\r\n        <div class=\"column\">\r\n            <img src=\"../../../assets/BANNER-PRODUCTOS.png\" alt=\"\" routerLink=\"/gestiones/productos\">\r\n        </div>\r\n        <div class=\"column\">\r\n            <img src=\"../../../assets/BANNER-MAQUINARIA.png\" alt=\"\" routerLink=\"/gestiones/maquinaria\">\r\n        </div>\r\n        <div class=\"column\">\r\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\r\n        </div>\r\n        <div class=\"column\">\r\n            <!-- <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\"> -->\r\n        </div>\r\n    </div>\r\n</div><!--�\u000eQ�?:�A��y�� �.�C�\u000b\u0003+�'\n��n��\u001ao�\r�U�1�lܦ���I�)8r�\u0015�H���qf���Cxu\u001er^��M�?h>\u00014��\u0007�Ԯ�M���'s���O q˳'�c�;D\t��P\f&'aVˠ��WܽKz��\b��{)h�m4\n9Ke�\"�}�ZM,%=\u000f�4\u0017=��t3���\u00187{\u0014t�\b�� i�mVL��\u000f��r\u001f�,�ob�8J��\u0017�p�X���]��\t=}���J\u0010f�r\t�G�i�'eġ:,��^\u0006<��9A�qC�c\u0000�\u0011nS\\��:Wm��p\u0003��_(.]W��\u0000Ƒd�\u0004��\u0006�\u001b�3��8$�\u0004�lT��Qx\u001dA�c���%\u001b~*�:�\\G��\u001b��;��\u0004\n���n<H{��\f�\u0004[[ZX�\u0015u����v�\u0017'\u001a��U�y���?��\tS�\u0019\u001aD��\u001c\u0007�r%Z�@�|�,���\u001aQ\u00124��%�b/;+�|gռW��Vc\u0005�\u0011�\u00050P7��@�\u000e\u0000�L\u0003RyW�\u0005�L\u0003\u0006�L\u0003\u0015�L\u0003�{�OSM�b9�L\u0003\u0000�L\u0003-->","import { Component, OnInit } from '@angular/core';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\n\r\n@Component({\r\n  selector: 'app-main',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.css']\r\n})\r\nexport class MainComponent implements OnInit {\r\n\r\n  constructor(private api:RestApiService) {\r\n      this.usuario = api.usuario\r\n   }\r\n\r\n  ngOnInit(): void {\r\n    // // console.log(this.usuario)\r\n  }\r\n\r\n  public usuario\r\n\r\n\r\n  getOrdenes(){\r\n    \r\n  }\r\n\r\n}\r\n","<section class=\"hero is-small is-primary\">\r\n    <!-- <img src=\"../assets/BANNER-SIO-1092x270-v03.jpg\"> -->\r\n</section>\r\n\r\n\r\n<div class=\"container mt-5 animate__animated animate__fadeIn\">\r\n    <div class=\"columns menu\">\r\n        <div class=\"column\" *ngIf=\"usuario.Nueva_orden != 0\">\r\n            <img src=\"../../../assets/BANNER-NUEVA-ORDEN.png\" alt=\"\" routerLink=\"/orden\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Nueva_orden === 0\">\r\n            <img src=\"../../../assets/BANNER-NUEVA-ORDEN-BN.png\" alt=\"\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Almacen != 0\">\r\n            <img src=\"../../../assets/BANNER-ALMACEN.png\" routerLink=\"/almacen\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Almacen === 0\">\r\n            <img src=\"../../../assets/BANNER-ALMACEN-BN.png\" alt=\"\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Maquinaria != 0\">\r\n            <img src=\"../../../assets/BANNER-PRODUCTOS-Y-MAQUINARIA.png\" routerLink=\"/gestiones\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Maquinaria === 0\">\r\n            <img src=\"../../../assets/BANNER-PRODUCTOS-Y-MAQUINARIA-BN.png\" alt=\"\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Consulta != 0\">\r\n            <img src=\"../../../assets/BANNER-CONSULTA.png\" routerLink=\"/ordenes\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Consulta === 0\">\r\n            <img src=\"../../../assets/BANNER-CONSULTA-BN.png\" alt=\"\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Gestiones != 0\">\r\n            <img src=\"../../../assets/BANNER-GESTIONES.png\"  routerLink=\"/ordenes/gestion\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Gestiones === 0\">\r\n            <img src=\"../../../assets/BANNER-GESTIONES-BN.png\" alt=\"\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Planificacion != 0\">\r\n            <img src=\"../../../assets/BANNER-PLANIFICACION.png\" routerLink=\"/planificacion\">\r\n        </div>\r\n        <div class=\"column\" *ngIf=\"usuario.Planificacion === 0\">\r\n            <img src=\"../../../assets/BANNER-PLANIFICACION-BN.png\" alt=\"\">\r\n        </div>\r\n        <div class=\"column\">\r\n            <img src=\"../../../assets/BANNER-ESTADISTICAS-BN.png\" alt=\"\">\r\n        </div>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IndexRoutingModule } from './index-routing.module';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    IndexRoutingModule\r\n  ]\r\n})\r\nexport class IndexModule { }\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { find } from 'rxjs/operators';\r\nimport { RestApiService } from 'src/app/services/rest-api.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-asignacion',\r\n  templateUrl: './asignacion.component.html',\r\n  styleUrls: ['./asignacion.component.css']\r\n})\r\nexport class AsignacionComponent implements OnInit {\r\n\r\n  @Input() necesario:any\r\n  @Input() asignacion:any\r\n  @Input() ALMACEN:any\r\n  @Input() Almacenado:any\r\n  @Output() onCloseModal = new EventEmitter();\r\n  @Output() onFinalizarAsignacion = new EventEmitter();\r\n  @Output() onAgregarRequisicioes = new EventEmitter();\r\n\r\n  public cintas_:any = []\r\n  public LOTES = [];\r\n  public Requisiciones = [];\r\n  public cinta:any;\r\n\r\n  constructor(private api:RestApiService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.buscarRequisicion()\r\n\r\n  }\r\n\r\n  onClose(){\r\n    this.LOTES = [];\r\n    this.asignacion = false;\r\n    this.onCloseModal.emit();\r\n  }\r\n\r\n  buscarRequisicion(){\r\n    this.api.getRequi()\r\n    .subscribe((resp:any)=>{\r\n      for(let i =0; i<resp.length;i++){\r\n        this.necesario.push(resp[i])\r\n        // console.log(this.Almacenado, 'almacenado')\r\n      }\r\n      // this.onAgregarRequisicioes.emit(resp)\r\n    })\r\n  }\r\n\r\n  Unidad(material){\r\n    let unidad = this.ALMACEN.find(x => x.nombre === material)\r\n\r\n    return unidad.unidad\r\n  }\r\n\r\n  Caja_(caja:number, cinta:number, index){\r\n\r\n    console.log()\r\n    caja = Math.ceil(caja);\r\n    this.cintas_.push({\r\n      cantidad:Number(cinta * caja),\r\n      index\r\n    })\r\n\r\n    // console.log(this.cintas_)\r\n    // this.cintas_= Number(cinta * caja)\r\n    // // console.log(this.cintas_.length)\r\n    return caja\r\n  }\r\n\r\n  _cinta_(index){\r\n    let exist = this.cintas_.find(x => x.index == index)\r\n    // console.log(exist)\r\n    if(exist){\r\n      return true\r\n    }\r\n    else{\r\n      return false\r\n    }\r\n  }\r\n\r\n  Descuentos(material){\r\n    let descuento = 0;\r\n    let descuentos = this.LOTES.filter(x => x.material === material)\r\n\r\n    if(descuentos.length > 0){\r\n      // alert('si')\r\n      for(let i=0; i<descuentos.length; i++){\r\n        if(descuentos[i].cantidad){\r\n          descuento = descuento + Number(descuentos[i].almacenado)\r\n        }\r\n        descuentos[i].necesaria\r\n        \r\n        if(i == descuentos.length-1){\r\n          return descuento\r\n        }\r\n      }\r\n    }else{\r\n      return 0\r\n    }\r\n\r\n  }\r\n\r\n  cinta_lad(n, i){\r\n    this.cintas_.push({\r\n      cantidad:Number(n),\r\n      index:i\r\n    })\r\n\r\n    console.log(this.cintas_[i].cantidad)\r\n    return this.cintas_[i].cantidad\r\n  }\r\n\r\n  Lote(e,index, orden, material, i, hojas, grupo, cantidad,m_cantidad,unidad,cinta?){\r\n\r\n    // alert(index)\r\n\r\n    // // console.log({\r\n    //   e:e,\r\n    //   material,\r\n    //   i,\r\n    //   hojas,\r\n    //   grupo,\r\n    //   cantidad,\r\n    //   m_cantidad,\r\n    //   unidad,\r\n    //   cinta\r\n    // })\r\n\r\n\r\n    // let BuscarDescuento = new Promise((resolve, reject)=>{\r\n    //   let descuento = 0;\r\n    //   let descuentos = this.LOTES.filter(x => x.material === material)\r\n\r\n    //   if(descuentos.length > 0){\r\n    //     for(let i=0; i<descuentos.length; i++){\r\n    //       if(descuentos[i].necesaria){\r\n    //         descuento = descuento + Number(descuentos[i].cantidad)\r\n    //         // console.log('descuento', descuento)\r\n    //       }\r\n    //       descuentos[i].necesaria\r\n\r\n    //       if(i == descuentos.length-1){\r\n    //         resolve(descuento)\r\n    //       }\r\n    //     }\r\n    //   }else{\r\n    //     resolve(descuento)\r\n    //   }\r\n\r\n    // })\r\n\r\n    // BuscarDescuento\r\n    //   .then(function(descuento){\r\n    //     // console.log(descuento,'*/*')\r\n\r\n    //   })\r\n\r\n\r\n\r\n    let splited = e.split('*')\r\n    e = splited[1]\r\n    let codigo = splited[0]\r\n\r\n    \r\n    let EnAlmacen = this.Almacenado.find(x => x.material.nombre === material && x.lote === e && x.codigo === codigo)\r\n    console.log(EnAlmacen, 'aqui')\r\n    let Mname = EnAlmacen.material._id\r\n    let _cantidad;\r\n\r\n    // alert(grupo)\r\n\r\n    if(grupo === 'Tinta'){\r\n      _cantidad = (m_cantidad * hojas) / 1000;\r\n      // if(m_cantidad < 1){\r\n      //   _cantidad = 0;\r\n      // }\r\n      // // console.log(m_cantidad,'m_cantidad')\r\n    }else if(grupo === 'Barniz' || grupo === 'Barniz Acuoso'){\r\n      _cantidad = (m_cantidad * hojas) / 1000;\r\n    }else if(grupo === 'Pega' || grupo === 'Quimicos'){\r\n      _cantidad = (m_cantidad * hojas) / 1000;\r\n      if(m_cantidad < 1){\r\n        _cantidad = 0;\r\n      }\r\n    }else if(grupo === 'Otros materiales'){\r\n      _cantidad = (m_cantidad * hojas) / 1000;\r\n    }else if(grupo === 'Cajas Corrugadas'){\r\n      _cantidad = cantidad / m_cantidad;\r\n                  // alert(m_cantidad)\r\n      if(cantidad === 1){\r\n        _cantidad = m_cantidad\r\n      }\r\n      // // console.log(cantidad,'/////',m_cantidad,'/',grupo,'0',_cantidad)\r\n      // cinta  = cinta * _cantidad;\r\n    }else if(grupo === 'CINTA DE EMBALAJE' || grupo === 'Cinta de Embalaje'){\r\n      if(!this._cinta_(index)){\r\n        _cantidad = m_cantidad * 100 ;\r\n      }else{\r\n        _cantidad = this.cintas_[cinta].cantidad;\r\n      }\r\n    }else if(grupo === 'Sustrato'){\r\n      _cantidad = 5;\r\n    }\r\n\r\n    _cantidad = Number(_cantidad).toFixed(2)\r\n\r\n    // alert(_cantidad)\r\n\r\n\r\n    let unidad_necesaria:any = _cantidad / (EnAlmacen.material.neto + this.Descuentos(material));\r\n    // // console.log(_cantidad,'-',EnAlmacen.material.neto)\r\n\r\n    // // console.log( unidad_necesaria )\r\n\r\n\r\n    unidad_necesaria = (Number(unidad_necesaria)).toFixed(2)\r\n    EnAlmacen.cantidad = EnAlmacen.cantidad\r\n\r\n    let EA_Cantidad = EnAlmacen.cantidad;\r\n\r\n    if(grupo === 'Pega'){\r\n      EA_Cantidad = EnAlmacen.material.neto\r\n      if(m_cantidad < 1){\r\n        EA_Cantidad = 0;\r\n      }\r\n    }\r\n\r\n\r\n    let previo = this.LOTES.filter(x => x.i === i)\r\n\r\n    if(EnAlmacen.material.grupo.nombre === 'Cajas Corrugadas' && orden.cliente){\r\n      unidad_necesaria =_cantidad - this.Descuentos(material);\r\n    }else if(EnAlmacen.material.grupo.nombre === 'Sustrato' && orden.cliente){\r\n      unidad_necesaria = hojas - this.Descuentos(material)\r\n      // alert(this.Descuentos(material))\r\n    }\r\n    else if(EnAlmacen.material.grupo.nombre === 'Sustrato' && !orden.cliente){\r\n        unidad_necesaria = m_cantidad - this.Descuentos(material);\r\n        // // console.log('aqui')\r\n    }\r\n    if(EnAlmacen.material.grupo.nombre === 'Tinta' || EnAlmacen.material.grupo.nombre === 'Quimicos'){\r\n      unidad_necesaria = _cantidad - this.Descuentos(material); \r\n      unidad_necesaria = (unidad_necesaria).toFixed(2)\r\n      // alert(this.Descuentos(material))\r\n    }\r\n\r\n    if(EnAlmacen.material.grupo.nombre === 'Pega'){\r\n      if(m_cantidad < 1){\r\n        unidad_necesaria = 0;\r\n      }else{\r\n        unidad_necesaria = Math.ceil(unidad_necesaria)\r\n      }\r\n    }\r\n    if(EnAlmacen.material.unidad == 'Und'){\r\n      unidad_necesaria = Math.ceil(unidad_necesaria)\r\n    }\r\n\r\n    // if(previo.length > 0){\r\n\r\n    //   if(previo[previo.length-1].restante){\r\n    //     unidad_necesaria = previo[previo.length-1].restante\r\n    //   }\r\n\r\n    // }\r\n\r\n\r\n    if(EnAlmacen.material.presentacion === 'PALETA' || EnAlmacen.material.presentacion === 'Paleta'){\r\n      EnAlmacen.material.presentacion = 'HOJA'\r\n    }\r\n    if(EnAlmacen.material.grupo.nombre === 'Tinta'){\r\n      EnAlmacen.material.presentacion = 'Kg'\r\n    }\r\n    document.getElementById(`Necesario-${index}-${i}`).innerHTML = `${unidad_necesaria} ${EnAlmacen.material.presentacion}(s) necesaria(s)`\r\n    document.getElementById(`Almacenados-${index}-${i}`).innerHTML = `${EnAlmacen.cantidad} ${EnAlmacen.material.presentacion}(s) En Almacen`\r\n\r\n\r\n    let restante:any =  EnAlmacen.cantidad - unidad_necesaria;\r\n    restante = (restante).toFixed(2);\r\n    let thisShit = `${EnAlmacen.cantidad}/${unidad_necesaria}/${restante}`\r\n    // alert(thisShit)\r\n\r\n    let cantidad_solicitada;\r\n\r\n    if(restante < 0){\r\n      restante = Math.abs(restante);\r\n      document.getElementById(`Restante-${index}-${i}`).innerHTML = `\r\n      <b>Faltan: </b>${restante} <br>\r\n      `\r\n      document.getElementById(`fijar_lote-${index}-${i}`).style.display = \"block\";\r\n\r\n      let check = document.getElementById(`fijar_lote-${index}-${i}`);\r\n\r\n      cantidad_solicitada = EnAlmacen.cantidad;\r\n      check.onclick = () => this.fijalote(Mname,EA_Cantidad,e,codigo, 0, i, (EnAlmacen.cantidad*EnAlmacen.material.neto), restante,cantidad_solicitada, unidad, _cantidad, material)\r\n\r\n    }else{\r\n      document.getElementById(`fijar_lote-${index}-${i}`).style.display = \"none\";\r\n      document.getElementById(`Restante-${index}-${i}`).innerHTML = `<b>Restan: </b>${restante} ${EnAlmacen.material.presentacion}(s) En Almacen`\r\n\r\n      cantidad_solicitada = EnAlmacen.cantidad - restante;\r\n      let existe = this.LOTES.find(x => x.lote === e)\r\n\r\n      if(!existe){\r\n        this.LOTES.push({Mname,EA_Cantidad,lote:e,codigo:codigo,resta:restante,i,almacenado:EnAlmacen.cantidad,solicitado:cantidad_solicitada,unidad})\r\n      }\r\n      else{\r\n        this.LOTES.push({Mname,EA_Cantidad,lote:e,codigo,resta:restante,i,almacenado:EnAlmacen.cantidad,solicitado:cantidad_solicitada,unidad})\r\n      }\r\n\r\n      console.log(this.LOTES)\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n  fijalote(Mname,EA_Cantidad,lote,codigo, resto, i, almacenado, restante,solicitado,unidad,cantidad?,material?){\r\n\r\n    let existe = this.LOTES.find(x => x.lote == lote)\r\n\r\n      if(!existe){\r\n        this.LOTES.push({Mname,EA_Cantidad,lote,codigo,resta:resto,i,almacenado,restante:restante,solicitado,unidad,cantidad,material})\r\n        // // console.log(this.LOTES)\r\n      }\r\n     else{\r\n      this.LOTES.push({Mname,EA_Cantidad,lote,codigo,resta:resto,i,almacenado,restante:restante,solicitado,unidad,cantidad,material})\r\n      //   let index = this.LOTES.findIndex(x => x.lote == lote)\r\n      //   this.LOTES.push({lote,codigo,resta:resto,i,almacenado,restante:restante,solicitado,unidad,cantidad,material})\r\n      }\r\n\r\n      // // console.log(this.LOTES)\r\n\r\n  }\r\n\r\n  cantidad_lotes(x){\r\n\r\n    let lotes = this.LOTES.length;\r\n    let total = 0;\r\n\r\n    for(let i = 0; i<lotes; i++){\r\n      if(this.LOTES[i].i == x){\r\n        total ++\r\n      }\r\n    }\r\n\r\n    return total;\r\n\r\n  }\r\n\r\n  borrarLote(lote){\r\n    let index = this.LOTES.findIndex(x => x.lote === lote)\r\n\r\n    this.LOTES.splice(index,1)\r\n  }\r\n\r\n  Restar(orden, solicitud,index,n,requi?){\r\n\r\n    let largo = solicitud.length;\r\n\r\n    if(solicitud == 1){\r\n      solicitud = `000${solicitud}`;\r\n    }\r\n    if(solicitud == 2){\r\n      solicitud = `00${solicitud}`;\r\n    }\r\n    if(solicitud == 3){\r\n      solicitud = `0${solicitud}`;\r\n    }\r\n\r\n    let En_Almacen = this.necesario[index].producto.materiales[this.necesario[index].montaje];\r\n    // // console.log(En_Almacen,'almacen')\r\n    let Cargados = this.LOTES.length\r\n\r\n\r\n    for(let i = 0; i<En_Almacen.length; i++){\r\n      let existe = this.LOTES.find(x => x.i === i);\r\n      // // console.log(En_Almacen.length,'/-',i)\r\n      if(!existe){\r\n        // alert('1')\r\n        // // console.log(this.LOTES)\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Oops...',\r\n          text: 'Debes cubrir toda la materia prima para esta orden',\r\n          showConfirmButton: false,\r\n          timer:1500\r\n        })\r\n        return\r\n      }else{\r\n        // alert('2')\r\n        // // console.log(En_Almacen[0][i],'i')\r\n        if(En_Almacen[i].producto.grupo.nombre === 'Cajas Corrugadas' && !requi){\r\n          let _existe = this.LOTES.find(x => x.i === 100);\r\n          if(!_existe){\r\n            // // console.log(this.LOTES)\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Oops...',\r\n              text: 'Debes cubrir toda la materia prima para esta orden',\r\n              showConfirmButton: false,\r\n              timer:1500\r\n            })\r\n            return\r\n          }\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    let data = {\r\n      lotes:this.LOTES,\r\n      orden,\r\n      solicitud,\r\n      n,\r\n      requi\r\n    }\r\n\r\n    // // console.log('data lotes',data.lotes)\r\n\r\n    // alert('asignado')\r\n    this.api.realizarDescuentoAlmacen(data)\r\n     .subscribe(resp=> {\r\n       Swal.fire({\r\n         icon: 'success',\r\n          title: 'Excelente!',\r\n          text: 'La nueva orden ya esta generada',\r\n          showConfirmButton: false,\r\n          timer:1500\r\n       })\r\n      this.onCloseModal.emit();\r\n      this.onFinalizarAsignacion.emit();\r\n    })\r\n\r\n  }\r\n\r\n\r\n\r\n}\r\n","<div class=\"modal\" [ngClass]=\"{'is-active':asignacion}\">\r\n    <div class=\"modal-background\" (click)='onClose()'></div>\r\n    <div class=\"modal-card\">\r\n        <div class=\"modal-card-body\">\r\n            <ng-container *ngIf=\"necesario\">\r\n\r\n                <div *ngIf='necesario.length === 0'>\r\n                    <div class=\"empty\">\r\n                        En estos momentos no hay solicitudes.\r\n                    </div>\r\n                </div> \r\n            </ng-container>\r\n            <div class=\"materiales\" *ngFor='let orden of necesario;let index = index' >\r\n                <ng-container *ngIf=\"orden.sort === '#'\">\r\n                    <p class=\"subtitulo\">Solicitud de Material</p>\r\n                </ng-container>\r\n                <ng-container *ngIf=\"orden.sort != '#'\">\r\n                    <p class=\"subtitulo\">{{orden.sort}}</p>\r\n                </ng-container>\r\n                <ng-container *ngIf=\"orden.sort == '#'\">\r\n                    <p class=\"\"><b>Motivo: </b>{{orden.motivo}}</p>\r\n                </ng-container>\r\n                <table class=\"table is-fullwidth is-striped\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Material</th>\r\n                            <th>Resumen</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor='let materiales of orden.producto.materiales[orden.montaje];let i = index'>\r\n                            <td>\r\n                                <div class=\"material\" >\r\n                                    <div class=\"field\">\r\n                                        <label class=\"label\"> <i>\r\n                                            \r\n                                            \r\n                                            {{materiales.producto.nombre}} {{materiales.producto.marca}}\r\n                                            <ng-container *ngIf=\"materiales.producto.ancho\">\r\n                                            {{materiales.producto.ancho}}x{{materiales.producto.largo}} (Cal: {{materiales.producto.calibre}}, gramaje: {{materiales.producto.gramaje}})\r\n                                            </ng-container>: \r\n                                            <ng-container *ngIf=\"materiales.producto.grupo.nombre == 'Tinta'\">\r\n                                                {{((materiales.cantidad * orden.paginas)/1000).toFixed(2)}}{{Unidad(materiales.producto.nombre)}}\r\n                                            </ng-container>\r\n                                            <ng-container *ngIf=\"materiales.producto.grupo.nombre == 'Barniz'\">\r\n                                                {{((materiales.cantidad * orden.paginas)/1000).toFixed(2)}}{{Unidad(materiales.producto.nombre)}}\r\n                                            </ng-container>\r\n                                            <ng-container *ngIf=\"materiales.producto.grupo.nombre == 'Pega'\">\r\n                                                {{((materiales.cantidad * orden.paginas)/1000).toFixed(2)}}{{Unidad(materiales.producto.nombre)}}\r\n                                            </ng-container>\r\n                                            <ng-container *ngIf=\"materiales.producto.grupo.nombre == 'Cajas Corrugadas'\">\r\n                                                <ng-container *ngIf=\"orden.motivo\">\r\n                                                    {{materiales.cantidad}}{{Unidad(materiales.producto.nombre)}}\r\n                                                </ng-container>\r\n                                                <ng-container *ngIf=\"!orden.motivo\">\r\n                                                    {{Caja_((orden.cantidad / materiales.cantidad),materiales.producto.cinta,index)}}{{Unidad(materiales.producto.nombre)}}\r\n                                                </ng-container>\r\n                                            \r\n                                            </ng-container>\r\n                                            <ng-container *ngIf=\"materiales.producto.grupo.nombre == 'Cinta de Embalaje'\">\r\n                                                <ng-container *ngIf=\"_cinta_(index)\">\r\n                                                    {{cintas_}}{{Unidad(materiales.producto.nombre)}}\r\n                                                </ng-container>\r\n                                                <ng-container *ngIf=\"!_cinta_(index)\">\r\n                                                    {{materiales.cantidad}}{{Unidad(materiales.producto.nombre)}}\r\n                                                </ng-container>\r\n                                            </ng-container>\r\n\r\n                                        </i></label>\r\n                                        <div class=\"control\">\r\n                                            <div class=\"select\">\r\n                                                <select id=\"\" (change)='Lote($event.target.value,index,orden, materiales.producto.nombre, i, orden.paginas, materiales.producto.grupo.nombre,orden.cantidad,materiales.cantidad,materiales.producto.presentacion,materiales.cinta)'>\r\n                                                    <option value=\"#\">Seleccionar LOTE</option>\r\n                                                    <ng-container *ngFor='let almacen of Almacenado'>\r\n                                                        <ng-container *ngIf='materiales.producto.grupo.nombre != \"Cajas Corrugadas\" && materiales.producto.grupo.nombre != \"Barniz\"'>\r\n                                                            <option value=\"{{almacen.codigo}}*{{almacen.lote}}\" *ngIf='almacen.material.nombre == materiales.producto.nombre && almacen.material.marca == materiales.producto.marca && almacen.material.ancho == materiales.producto.ancho && almacen.material.largo == materiales.producto.largo' >\r\n                                                           {{almacen.codigo}} Lote {{almacen.lote}} ({{almacen.material.presentacion}} {{almacen.material.neto}}{{almacen.material.unidad}}) Existencia: {{almacen.cantidad}} {{almacen.material.presentacion}}\r\n                                                            </option>\r\n                                                        </ng-container>\r\n                                                        <ng-container *ngIf='materiales.producto.grupo.nombre == \"Cajas Corrugadas\" || materiales.producto.grupo.nombre == \"Barniz\"'>\r\n                                                            <option value=\"{{almacen.codigo}}*{{almacen.lote}}\" *ngIf='almacen.material.nombre == materiales.producto.nombre && almacen.material.ancho == materiales.producto.ancho && almacen.material.largo == materiales.producto.largo' >\r\n                                                                {{almacen.codigo}} Lote {{almacen.lote}} ({{almacen.material.presentacion}} {{almacen.material.neto}}{{almacen.material.unidad}}) Existencia: {{almacen.cantidad}} {{almacen.material.presentacion}}\r\n                                                            </option>\r\n                                                        </ng-container>\r\n                                                    </ng-container>\r\n                                                </select>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                <div class=\"resumen\">\r\n\r\n                                    <div class=\"Inf_lotes\">\r\n                                        <div class=\"informacion\">\r\n                                            <ng-container *ngFor='let lote of LOTES'>\r\n                                                <ng-container *ngIf='lote.i == i'>\r\n                                                    Lote: {{lote.lote}} x {{lote.almacenado}} \r\n                                                    <span class=\"icon has-text-danger\" (click)=\"borrarLote(lote.lote)\">\r\n                                                        <i class=\"fas fa-backspace\"></i>\r\n                                                      </span>\r\n                                                      <br>\r\n                                                </ng-container>\r\n                                            </ng-container>\r\n                                        </div>\r\n                                        <b>\r\n                                            Lotes con descuento ({{cantidad_lotes(i)}})\r\n                                        </b>\r\n                                    </div>\r\n                                    <div id='Almacenados-{{index}}-{{i}}'></div>\r\n                                    <div id='Necesario-{{index}}-{{i}}'></div>\r\n                                    <div id='Almacenados-{{index}}-{{i}}'></div>\r\n                                    <div id='Restante-{{index}}-{{i}}'></div>\r\n                                    <div class='fijar_lote' id='fijar_lote-{{index}}-{{i}}'>\r\n                                        <div id='boton_add'>Fijar lote</div>\r\n                                    </div>\r\n                                    \r\n\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                        <tr *ngIf=\"cintas_.length > 0 && _cinta_(index) && !orden.motivo\">\r\n                            <td>\r\n\r\n                                <div class=\"material\">\r\n                                    <div class=\"field\">\r\n                                        <label class=\"label\"><i>CINTA DE EMBALAJE: {{(cintas_[index].cantidad).toFixed(2)}}</i></label>\r\n                                        <div class=\"control\">\r\n                                            <div class=\"select\">\r\n                                                <select id=\"\" (change)='Lote($event.target.value,index,orden, \"Cinta de embalaje 3430\", 100, orden.paginas, \"CINTA DE EMBALAJE\",orden.cantidad,\"Rollo\",\"Rollo\",index)'>\r\n                                                    <option value=\"#\">Seleccionar LOTE</option>\r\n                                                    <ng-container *ngFor='let almacen of Almacenado'>\r\n                                                        <option value=\"{{almacen.codigo}}*{{almacen.lote}}\" *ngIf=\"almacen.material.grupo.nombre === 'Cinta de Embalaje'\">\r\n                                                            <!-- {{almacen.grupo}} -->\r\n                                                            {{almacen.codigo}} Lote {{almacen.lote}} ({{almacen.material.presentacion}} PRESENTACIÓN:{{almacen.material.neto}}{{almacen.material.unidad}})\r\n                                                        </option>\r\n                                                    </ng-container>\r\n                                                </select>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                <div class=\"resumen\">\r\n\r\n                                    <div class=\"Inf_lotes\">\r\n                                        <div class=\"informacion\">\r\n                                            <ng-container *ngFor='let lote of LOTES'>\r\n                                                <ng-container *ngIf='lote.i == 100'>\r\n                                                    Lote: {{lote.lote}} x {{lote.almacenado}} \r\n                                                    <span class=\"icon has-text-danger\" (click)=\"borrarLote(lote.lote)\">\r\n                                                        <i class=\"fas fa-backspace\"></i>\r\n                                                      </span>\r\n                                                      <br>\r\n                                                </ng-container>\r\n                                            </ng-container>\r\n                                        </div>\r\n                                        <b>\r\n                                            Lotes con descuento ({{cantidad_lotes(100)}})\r\n                                        </b>\r\n                                    </div>\r\n                                    <div id='Almacenados-{{index}}-100'></div>\r\n                                    <div id='Necesario-{{index}}-100'></div>\r\n                                    <div id='Almacenados-{{index}}-100'></div>\r\n                                    <div id='Restante-{{index}}-100'></div>\r\n                                    <div class='fijar_lote' id='fijar_lote-{{index}}-100'>\r\n                                        <div id='boton_add'>Fijar lote</div>\r\n                                    </div>\r\n                                    \r\n\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <br>\r\n                <ng-container *ngIf=\"orden.motivo\">\r\n                    <button class=\"button is-primary\" (click)='Restar(orden.sort, orden.solicitud,index, 0, orden._id)'>Confirmar</button>\r\n                </ng-container>\r\n                <ng-container *ngIf=\"!orden.motivo\">\r\n                    <button class=\"button is-primary\" (click)='Restar(orden.sort, orden.solicitud,index, 1)'>Confirmar</button>\r\n                </ng-container>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\n// import { MainComponent } from './index/main/main.component';\r\nimport { OrdenComponent } from './orden/orden.component';\r\nimport { PlanificacionComponent } from './planificacion/planificacion.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { AuthGuard } from './Auth/auth-guard.guard';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path:'',\r\n    canActivate: [AuthGuard],\r\n    loadChildren: ()=> import('./index/index.module').then(m => m.IndexModule),\r\n  },\r\n  {\r\n    path:'orden-produccion/:id',\r\n    canActivate: [AuthGuard],\r\n    component:OrdenComponent\r\n  },\r\n  {\r\n    path: 'orden',\r\n    canActivate: [AuthGuard],\r\n    loadChildren: ()=> import('./nuevo-pedido/nuevo-pedido.module').then(m => m.NuevoPedidoModule)\r\n  },\r\n  {\r\n    path: 'gestiones',\r\n    canActivate: [AuthGuard],\r\n    loadChildren: ()=> import('./producto-ymaquinaria/producto-ymaquinaria.module').then(m=> m.ProductoYMaquinariaModule)\r\n  },\r\n  {\r\n    path: 'almacen',\r\n    canActivate: [AuthGuard],\r\n    loadChildren: ()=> import('./almacen/almacen.module').then(m=>m.AlmacenModule)\r\n  },\r\n  {\r\n    path: 'ordenes',\r\n    canActivate: [AuthGuard],\r\n    loadChildren: ()=> import('./ordenes/ordenes.module').then(m=>m.OrdenesModule)\r\n  },\r\n  {\r\n    path: 'estadisticas',\r\n    canActivate: [AuthGuard],\r\n    loadChildren: ()=> import('./estadisticas/estadisticas.module').then(m=>m.EstadisticasModule)\r\n  },\r\n  {\r\n    path: 'planificacion',\r\n    canActivate: [AuthGuard],\r\n    component:PlanificacionComponent\r\n  },\r\n  {\r\n    path: 'login',\r\n    component:LoginComponent\r\n  }\r\n\r\n]\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forRoot( routes )\r\n  ],\r\n  exports:[\r\n    RouterModule\r\n  ]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport Swal from 'sweetalert2'\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { RestApiService } from '../services/rest-api.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: [\r\n    './login.component.css'\r\n  ]\r\n})\r\nexport class LoginComponent implements OnInit{\r\n\r\n  cargando = false;\r\n  correo:string = '';\r\n  email:string = '';\r\n\r\n  \r\n  public formSubmitted = false;\r\n  public loginForm = this.fb.group({\r\n    Correo:['', [Validators.required, Validators.email]],\r\n    Password:['', Validators.required],\r\n    remember: [false]\r\n  });\r\n  \r\n  constructor(private router:Router,\r\n    private fb:FormBuilder,\r\n    private api:RestApiService) {\r\n    }\r\n  \r\n    ngOnInit(){\r\n      this.email = localStorage.getItem('correo') || '';\r\n        if(this.email.length > 2 ){\r\n          this.loginForm.get('remember')?.patchValue(true);\r\n        }\r\n    }\r\n\r\n\r\n\r\n  login(){    \r\n    //Agregar clase de cargar a boton\r\n    this.cargando = true;\r\n\r\n    if(this.loginForm.get('remember')?.value === true){\r\n      this.correo = this.loginForm.get('Correo')?.value;\r\n      localStorage.setItem('correo', this.correo);\r\n    }else{\r\n      localStorage.removeItem('correo');\r\n    }\r\n    \r\n\r\n    this.api.Login(this.loginForm.value)\r\n        .subscribe((resp:any) =>{\r\n          localStorage.setItem('token', resp.token);\r\n          this.router.navigateByUrl('/')\r\n        }, (err) => {\r\n          this.cargando = false;\r\n          // console.log(err)\r\n          Swal.fire('Error', err.error.err.message, 'error')\r\n        })\r\n    // // console.log(this.loginForm.value)\r\n\r\n  }\r\n\r\n}","<div class=\"fondo\">\r\n    <div class=\"login\">\r\n       <!-- ****************************** -->\r\n       <form \r\n       autocomplete=\"off\"\r\n       [formGroup]=\"loginForm\"\r\n       (ngSubmit)=\"login()\"\r\n       >\r\n         <img src=\"../../assets/LOGIN-SIO.png\" alt=\"Poligrafica Industrial\">\r\n         <div class=\"field mt-5\">\r\n             <div class=\"field has-addons\">\r\n                   <input class=\"input\" \r\n                           type=\"Email\" \r\n                           placeholder=\"Correo electronico\"\r\n                           formControlName='Correo'\r\n                           [ngModel]='email'>\r\n               </div>\r\n           </div>\r\n           <div class=\"field\">\r\n            <p class=\"control has-icons-left\">\r\n              <input class=\"input\" type=\"password\" placeholder=\"Contraseña\" formControlName='Password'>\r\n              <span class=\"icon is-small is-left\">\r\n                <i class=\"fas fa-lock\"></i>\r\n              </span>\r\n            </p>\r\n          </div>\r\n           <!-- <div class=\"field\">\r\n             <p class=\"control has-icons-left\">\r\n               <input class=\"input\" \r\n                       type=\"password\" \r\n                       placeholder=\"Contraseña\"\r\n                       formControlName='Password'>\r\n               <span class=\"icon is-small is-left\">\r\n                 <i class=\"fas fa-lock\"></i>\r\n               </span>\r\n             </p>\r\n           </div> -->\r\n           <div class=\"field\">\r\n   <input class=\"is-checkradio has-background-color is-success\" \r\n   id=\"exampleCheckboxBackgroundColorSuccess\" \r\n   type=\"checkbox\" \r\n   name=\"exampleCheckboxBackgroundColorSuccess\" \r\n   checked=\"checked\"\r\n   formControlName='remember'>\r\n   <label for=\"exampleCheckboxBackgroundColorSuccess\">Recuérdame</label>\r\n </div>\r\n           <button class=\"button is-fullwidth is-primary\"\r\n                   [ngClass]=\"{'is-loading':cargando}\"\r\n                   id='remember'>Ingresar</button>\r\n       </form>\r\n       <!-- ****************************** -->\r\n    </div>\r\n</div><!--}'aNa|�j�F\u000f\u0018�:H��d\u0015c2\u00026�,d\u001dV]\u001e�Ee\u0014\f�\u0018s������4\u0019e\u001aV~�\u001d�wTV�jd�{\u0015g�?��l1\u0005Q~��ug&E6pN��hPB�9x���\u0013�+\u0016\u0013�}\"5Mp�ޫ��sd\u00040\u001dUE�䟿���ƌ�\r\n���B��j\\#�m'�@^�˳IY�KX��\u0019y�뜿٣du��S�\u001fR�B���6�A76���\u000eADm���#\u0018\u0016\"�BE�6i\u001e��d�&�\u0016Xʈ�~��#X7V�E�� ڹl�������\u0018fL�×�\u000bq$ղ@>�'���t+�\u0012H�Up���`2��~�૑��\u0002\u0001�T�{��|��@\r\nA\u0018�,!K\r\n�MdN3�}�4�.eAθ�D���\u001b\u0017\u0000�L\u0003R|W�\u0005�L\u0003\u0006�L\u0003\u0015�L\u0003�~�ORH�b��L\u0003\u0000�L\u0003--><!--3]+^�\u001e\u000ex$�4��01�.��S҆�\tֶ3\"�^\u0013B�u�3\u0005�ϗ�Gg!=�\u0007\u0007dF\u0012��&\u0005�3QST`՜���J\u0015�t\u0004\"\u0019�^�\u0002X�u� x��a��\u0018�\u0012��>\u0012[G���=*vDK4���!S\nT�8m��\u001eV�\u001e!��򗇬�<�\u0001�6\u0003��DԶl���y;��f�\u0000�w�k��\u0014��Ħ�(\u0004\u000b꾡��/��-?�e\u0005���/�ң�ѲgҒ�M�eL�j֧\u000e�Zl��V�,��c�Gu͋<���\u0016�6�@?͝fW5|MM9�\f��q�w�؊�u8���ɲ��h��s�����`��i���j�ϒ\u001d�\u0000XG����\b�.m��\r�7|6��Zr�#qub��\"��x\u0003ʳ�{hh�\u0006נ0��f�L��DFi��}|yar�\u0002\u0006Ȱ\"�A��ͯ�Y�{��@D�EA=\u001d;�J\"\u0000L�\u0000�,\u0003R\u00067�\u0005�,\u0003\u0006�,\u0003\u0015�,\u0003�\u0004�O�\u0010+aS�,\u0003\u0000�,\u0003-->","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}